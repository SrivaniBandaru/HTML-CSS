"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6809],{56809:function(n,i,e){e.d(i,{IT:function(){return E},MS:function(){return T},kr:function(){return S},Xk:function(){return Q}});var t=e(59499),r=e(18058),u=e(42029),o=e(26997),a=e(42863),l=e(37095),d=e(61325),c={updatePublicationNotificationSettings:function(n){var i=n.input;return{__typename:"UpdatePublicationNotificationSettingsPayload",publication:{__typename:"Publication",id:i.id,notificationSettings:{__typename:"PublicationNotificationSettings",newDraftSubmission:{__typename:"NewDraftSubmissionNotification",isEnabled:i.enableNewDraftSubmission}}}}}},s=e(32884),f=e(87090),v=e(54871),p=e(45587),b={createPublicationNavbarItem:function(n,i,e){var t,r=null===i||void 0===i||null===(t=i.input)||void 0===t?void 0:t.publicationId;e.updateQuery({query:v.hz,variables:{id:r}},(function(i){var e,t;if(!i)return null;var r=null===(e=n.createPublicationNavbarItem)||void 0===e?void 0:e.navbarItem;return null===(t=i.publication)||void 0===t||t.preferences.navbarItems.push(r),i}))},updatePublicationNavbarItem:function(n,i,e){var t,r,u=null===i||void 0===i||null===(t=i.input)||void 0===t?void 0:t.publicationId,o=null===i||void 0===i||null===(r=i.input)||void 0===r?void 0:r.position;e.updateQuery({query:v.hz,variables:{id:u}},(function(i){var e,t;if(!i)return null;var r=null===(e=n.updatePublicationNavbarItem)||void 0===e?void 0:e.navbarItem,u=null===(t=i.publication)||void 0===t?void 0:t.preferences.navbarItems;if(!u)return i;var a=u.findIndex((function(n){return n.id===r.id}));if(-1!==a&&(u[a]=r,o)){var l=a,d=o-1,c=(0,p.Rp)(u,l,d);i.publication&&(i.publication.preferences.navbarItems=c)}return i}))},removePublicationNavbarItem:function(n,i,e){var t,r,u=null===(t=n.removePublicationNavbarItem)||void 0===t||null===(r=t.navbarItem)||void 0===r?void 0:r.id;e.invalidate({__typename:"PublicationNavbarItem",id:u})}},m=e(29838),P=function(n){var i=n.cache,e=n.publicationId,t=n.invalidateType;i.inspectFields({__typename:"Publication",id:e}).filter((function(n){return"posts"===n.fieldName})).forEach((function(n){var r,u,o,a=null===(r=n.arguments)||void 0===r?void 0:r.first,l=null===(u=n.arguments)||void 0===u?void 0:u.after,d=null===(o=n.arguments)||void 0===o?void 0:o.filter,c=null===d||void 0===d?void 0:d.deletedOnly;("removed"===t?c:!c)&&i.invalidate({__typename:"Publication",id:e},"posts",{first:a,after:l,filter:d})})),i.inspectFields({__typename:"Query"}).filter((function(n){return"searchPostsOfPublication"===n.fieldName})).forEach((function(n){var e,r,u,o=null===(e=n.arguments)||void 0===e?void 0:e.first,a=null===(r=n.arguments)||void 0===r?void 0:r.after,l=null===(u=n.arguments)||void 0===u?void 0:u.filter,d=null===l||void 0===l?void 0:l.deletedOnly;("removed"===t?d:!d)&&i.invalidate({__typename:"Query"},"searchPostsOfPublication",{first:o,after:a,filter:l})}))},g=function(n){var i=n.cache,e=n.publicationId,t=n.postId,r=n.updateType;i.inspectFields({__typename:"Publication",id:e}).filter((function(n){return"posts"===n.fieldName})).forEach((function(n){var u,o,a,l=null===(u=n.arguments)||void 0===u?void 0:u.first,d=null===(o=n.arguments)||void 0===o?void 0:o.after,c=null===(a=n.arguments)||void 0===a?void 0:a.filter,s=null===c||void 0===c?void 0:c.deletedOnly;("removed"===r?s:!s)&&i.updateQuery({query:v.PA,variables:{id:e,first:l,after:d,filter:c}},(function(n){if(null===n||void 0===n||!n.publication)return null;var i=n.publication.posts;return i?(i.edges=i.edges.filter((function(n){return n.node.id!==t})),i.totalDocuments-=1,n):n}))})),i.inspectFields({__typename:"Query"}).filter((function(n){return"searchPostsOfPublication"===n.fieldName})).forEach((function(n){var u,o,a,l=null===(u=n.arguments)||void 0===u?void 0:u.first,d=null===(o=n.arguments)||void 0===o?void 0:o.after,c=null===(a=n.arguments)||void 0===a?void 0:a.filter,s=null===c||void 0===c?void 0:c.deletedOnly;("removed"===r?s:!s)&&i.updateQuery({query:v._3,variables:{id:e,first:l,after:d,filter:c}},(function(n){if(!n)return null;var i=n.searchPostsOfPublication;return i?(i.edges=i.edges.filter((function(n){return n.node.id!==t})),n):n}))}))},y=function(n){var i=n.cache,e=n.publicationId;i.invalidate({__typename:"Publication",id:e},"pinnedPost")},h={updatePost:function(n,i,e){var t,r,u,o,a,l=null===i||void 0===i||null===(t=i.input)||void 0===t?void 0:t.id,d=null===(r=n.updatePost)||void 0===r||null===(u=r.post)||void 0===u||null===(o=u.publication)||void 0===o?void 0:o.id,c=null===(a=n.updatePost)||void 0===a?void 0:a.post;d&&c&&(e.inspectFields({__typename:"Publication",id:d}).filter((function(n){return"posts"===n.fieldName})).forEach((function(n){var i,t,r,u=null===(i=n.arguments)||void 0===i?void 0:i.first,o=null===(t=n.arguments)||void 0===t?void 0:t.after,a=null===(r=n.arguments)||void 0===r?void 0:r.filter;e.updateQuery({query:v.PA,variables:{id:d,first:u,after:o,filter:a}},(function(n){if(null===n||void 0===n||!n.publication)return null;var i=n.publication.posts;return i?(c.preferences.pinnedToBlog&&i.edges.forEach((function(n){n.node.preferences.pinnedToBlog=n.node.id===l})),n):n}))})),e.inspectFields({__typename:"Query"}).filter((function(n){return"searchPostsOfPublication"===n.fieldName})).forEach((function(n){var i,t,r,u=null===(i=n.arguments)||void 0===i?void 0:i.first,o=null===(t=n.arguments)||void 0===t?void 0:t.after,a=null===(r=n.arguments)||void 0===r?void 0:r.filter;e.updateQuery({query:v._3,variables:{id:d,first:u,after:o,filter:a}},(function(n){if(!n)return null;var i=n.searchPostsOfPublication;return i?(c.preferences.pinnedToBlog&&i.edges.forEach((function(n){n.node.preferences.pinnedToBlog=n.node.id===l})),n):n}))})),y({cache:e,publicationId:d}))},removePost:function(n,i,e){var t,r,u=i.input.id,o=null===(t=n.removePost)||void 0===t?void 0:t.post,a=null===o||void 0===o||null===(r=o.publication)||void 0===r?void 0:r.id;a&&o&&(g({cache:e,publicationId:a,postId:u,updateType:"published"}),P({cache:e,publicationId:a,invalidateType:"removed"}),y({cache:e,publicationId:a}))},restorePost:function(n,i,e){var t,r,u,o=i.input.id,a=null===(t=n.restorePost)||void 0===t||null===(r=t.post)||void 0===r||null===(u=r.publication)||void 0===u?void 0:u.id;a&&(g({cache:e,publicationId:a,postId:o,updateType:"removed"}),P({cache:e,publicationId:a,invalidateType:"published"}),y({cache:e,publicationId:a}))}},_={cancelScheduledDraft:function(n,i,e){var t=n.cancelScheduledDraft.scheduledPost.publication.id;if(t){var r=i.input.draftId;e.inspectFields({__typename:"Publication",id:t}).filter((function(n){return"scheduledDrafts"===n.fieldName})).forEach((function(n){var i,u,o=null===(i=n.arguments)||void 0===i?void 0:i.first,a=null===(u=n.arguments)||void 0===u?void 0:u.after;e.updateQuery({query:v.E6,variables:{id:t,first:o,after:a}},(function(n){if(null===n||void 0===n||!n.publication)return null;var i=n.publication.scheduledDrafts;return i?(i.edges=i.edges.filter((function(n){return n.node.id!==r})),i.totalDocuments-=1,n):n}))}))}}},I=e(34155);function N(n,i){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),e.push.apply(e,t)}return e}function O(n){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?N(Object(e),!0).forEach((function(i){(0,t.Z)(n,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):N(Object(e)).forEach((function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))}))}return n}I.env.STELLATE_SHARED_SECRET;function S(n){var i=(n||{}).forceProxy?"".concat((0,r.TI)()).concat("/api/graphql"):"https://gql.hashnode.com/";if(!i)throw u.cM.error("Missing GraphQL URL",{shouldUseProxy:false,url:i}),new Error("Missing GraphQL URL");return i}function E(n){var i={"hn-trace-app":"main"};return null!==n&&void 0!==n&&n.byPassCache&&(i["hn-stellate-bypass-cache"]="1"),null!==n&&void 0!==n&&n.token&&(i["x-auth-token"]=n.token),i}var w=function(n,i){var e,t;return{url:S(),exchanges:[(0,a.HG)({resolvers:{Publication:{posts:(0,l.N)(),seriesList:(0,l.N)(),staticPages:(0,l.N)(),scheduledDrafts:(0,l.N)()},Series:{posts:(0,l.N)()},Query:{feed:(0,l.N)(),discussions:(0,l.N)(),popularTagsV2:(0,l.N)(),searchPostsOfPublication:(0,l.N)()},Tag:{posts:(0,l.N)()}},updates:{Mutation:O(O(O(O(O(O({},s.w),f.w),b),m.w),h),_)},keys:{DarkModePreferences:function(){return null},Preferences:function(){return null},PublicationNotificationSettings:function(){return null},PublicationProInfo:function(){return null},NewDraftSubmissionNotification:function(){return null},ViewCountFeature:function(){return null},ReadTimeFeature:function(){return null},CustomCSSPreferences:function(){return null},PostCoverImage:function(){return null},DomainStatus:function(){return null},PublicationIntegrations:function(){return null},PublicationLinks:function(){return null},DomainInfo:function(){return null},PagesPreferences:function(){return null},PublicationFeatures:function(){return null},OpenGraphMetaData:function(){return null},PresignedPost:function(){return null},AboutPublication:function(){return null},PopularTag:function(n){return"".concat(n.id,"_").concat(n.postsCountInPeriod)},TagInfo:function(){return null},Content:function(){return null},SEO:function(){return null},PostPreferences:function(){return null},WidgetPinSettings:function(){return null}},optimistic:O({},c)}),n,(0,o.Dk)({onError:function(n){u.cM.error("GQL error occurred",{error:n})}}),o.Ek],fetchOptions:{credentials:"include",headers:E({cookies:null===i||void 0===i||null===(e=i.req)||void 0===e||null===(t=e.headers)||void 0===t?void 0:t.cookie})}}},D=(0,o.$Y)({isClient:!0,initialState:window.__URQL_DATA__}),T=function(n){return(0,o.eI)(O(O({},w(D)),{},{fetchOptions:{credentials:"include",headers:E(n)}}))},Q=function(n){return(0,d.X)((function(n){return w(n)}),{neverSuspend:!0})(n)}},87090:function(n,i,e){e.d(i,{B:function(){return r},w:function(){return u}});var t=e(54871),r=10,u={createSeries:function(n,i,e){var t,r=null===i||void 0===i||null===(t=i.input)||void 0===t?void 0:t.publicationId;e.invalidate({__typename:"Publication",id:r})},removeSeries:function(n,i,e){var r,u,o=null===(r=n.removeSeries)||void 0===r||null===(u=r.series)||void 0===u?void 0:u.id;e.inspectFields("Query").filter((function(n){return"publication"===n.fieldName})).forEach((function(n){var i,r=null===(i=n.arguments)||void 0===i?void 0:i.id;r&&e.inspectFields({__typename:"Publication",id:r}).filter((function(n){return"seriesList"===n.fieldName})).forEach((function(n){var i,u,a=null===(i=n.arguments)||void 0===i?void 0:i.first,l=null===(u=n.arguments)||void 0===u?void 0:u.after;e.updateQuery({query:t.HK,variables:{id:r,first:a,after:l}},(function(n){if(null===n||void 0===n||!n.publication)return null;var i=n.publication.seriesList;if(!i)return n;var e=i.edges.findIndex((function(n){return n.node.id===o}));return-1!==e&&i.edges.splice(e,1),n}))}))}))}}},29838:function(n,i,e){e.d(i,{L:function(){return r},w:function(){return u}});var t=e(54871),r=10,u={createStaticPage:function(n,i,e){var t,r=null===i||void 0===i||null===(t=i.input)||void 0===t?void 0:t.publicationId;e.invalidate({__typename:"Publication",id:r})},removeStaticPage:function(n,i,e){var r,u,o=null===(r=n.removeStaticPage)||void 0===r||null===(u=r.staticPage)||void 0===u?void 0:u.id;e.inspectFields("Query").filter((function(n){return"publication"===n.fieldName})).forEach((function(n){var i,r=null===(i=n.arguments)||void 0===i?void 0:i.id;r&&e.inspectFields({__typename:"Publication",id:r}).filter((function(n){return"staticPages"===n.fieldName})).forEach((function(n){var i,u,a=null===(i=n.arguments)||void 0===i?void 0:i.first,l=null===(u=n.arguments)||void 0===u?void 0:u.after;e.updateQuery({query:t.sr,variables:{id:r,first:a,after:l}},(function(n){if(null===n||void 0===n||!n.publication)return null;var i=n.publication.staticPages;if(!i)return n;var e=i.edges.findIndex((function(n){return n.node.id===o}));return-1!==e&&i.edges.splice(e,1),n}))}))}))}}},32884:function(n,i,e){e.d(i,{u:function(){return t},w:function(){return r}});var t=10,r={createWidget:function(n,i,e){var t,r=null===i||void 0===i||null===(t=i.input)||void 0===t?void 0:t.publicationId;e.invalidate({__typename:"Publication",id:r})},removeWidget:function(n,i,e){var t,r,u=null===(t=n.removeWidget)||void 0===t||null===(r=t.widget)||void 0===r?void 0:r.id;e.invalidate({__typename:"Widget",id:u})}}}}]);