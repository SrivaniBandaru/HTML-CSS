(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8669],{58354:function(e,t,n){"use strict";n.d(t,{do:function(){return j}});var o,r=[],i="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(o||(o={}));var s,a=function(e){return Object.freeze(e)},l=function(e,t){this.inlineSize=e,this.blockSize=t,a(this)},c=function(){function e(e,t,n,o){return this.x=e,this.y=t,this.width=n,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,a(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),u=function(e){return e instanceof SVGElement&&"getBBox"in e},d=function(e){if(u(e)){var t=e.getBBox(),n=t.width,o=t.height;return!n&&!o}var r=e,i=r.offsetWidth,s=r.offsetHeight;return!(i||s||e.getClientRects().length)},f=function(e){var t;if(e instanceof Element)return!0;var n=null===(t=null===e||void 0===e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},m="undefined"!==typeof window?window:{},p=new WeakMap,h=/auto|scroll/,g=/^tb|vertical/,v=/msie|trident/i.test(m.navigator&&m.navigator.userAgent),y=function(e){return parseFloat(e||"0")},w=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new l((n?t:e)||0,(n?e:t)||0)},b=a({devicePixelContentBoxSize:w(),borderBoxSize:w(),contentBoxSize:w(),contentRect:new c(0,0,0,0)}),E=function(e,t){if(void 0===t&&(t=!1),p.has(e)&&!t)return p.get(e);if(d(e))return p.set(e,b),b;var n=getComputedStyle(e),o=u(e)&&e.ownerSVGElement&&e.getBBox(),r=!v&&"border-box"===n.boxSizing,i=g.test(n.writingMode||""),s=!o&&h.test(n.overflowY||""),l=!o&&h.test(n.overflowX||""),f=o?0:y(n.paddingTop),m=o?0:y(n.paddingRight),E=o?0:y(n.paddingBottom),x=o?0:y(n.paddingLeft),C=o?0:y(n.borderTopWidth),T=o?0:y(n.borderRightWidth),S=o?0:y(n.borderBottomWidth),R=x+m,I=f+E,k=(o?0:y(n.borderLeftWidth))+T,M=C+S,O=l?e.offsetHeight-M-e.clientHeight:0,P=s?e.offsetWidth-k-e.clientWidth:0,_=r?R+k:0,A=r?I+M:0,D=o?o.width:y(n.width)-_-P,N=o?o.height:y(n.height)-A-O,L=D+R+P+k,H=N+I+O+M,F=a({devicePixelContentBoxSize:w(Math.round(D*devicePixelRatio),Math.round(N*devicePixelRatio),i),borderBoxSize:w(L,H,i),contentBoxSize:w(D,N,i),contentRect:new c(x,f,D,N)});return p.set(e,F),F},x=function(e,t,n){var r=E(e,n),i=r.borderBoxSize,s=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case o.DEVICE_PIXEL_CONTENT_BOX:return a;case o.BORDER_BOX:return i;default:return s}},C=function(e){var t=E(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=a([t.borderBoxSize]),this.contentBoxSize=a([t.contentBoxSize]),this.devicePixelContentBoxSize=a([t.devicePixelContentBoxSize])},T=function(e){if(d(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},S=function(){var e=1/0,t=[];r.forEach((function(n){if(0!==n.activeTargets.length){var o=[];n.activeTargets.forEach((function(t){var n=new C(t.target),r=T(t.target);o.push(n),t.lastReportedSize=x(t.target,t.observedBox),r<e&&(e=r)})),t.push((function(){n.callback.call(n.observer,o,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,o=t;n<o.length;n++){(0,o[n])()}return e},R=function(e){r.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(T(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},I=function(){var e=0;for(R(e);r.some((function(e){return e.activeTargets.length>0}));)e=S(),R(e);return r.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:i}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=i),window.dispatchEvent(e)}(),e>0},k=[],M=function(e){if(!s){var t=0,n=document.createTextNode("");new MutationObserver((function(){return k.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),s=function(){n.textContent="".concat(t?t--:t++)}}k.push(e),s()},O=0,P={attributes:!0,characterData:!0,childList:!0,subtree:!0},_=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],A=function(e){return void 0===e&&(e=0),Date.now()+e},D=!1,N=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!D){D=!0;var n,o=A(e);n=function(){var n=!1;try{n=I()}finally{if(D=!1,e=o-A(),!O)return;n?t.run(1e3):e>0?t.run(e):t.start()}},M((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,P)};document.body?t():m.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),_.forEach((function(t){return m.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),_.forEach((function(t){return m.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),L=function(e){!O&&e>0&&N.start(),!(O+=e)&&N.stop()},H=function(){function e(e,t){this.target=e,this.observedBox=t||o.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=x(this.target,this.observedBox,!0);return e=this.target,u(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),F=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},z=new WeakMap,B=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},V=function(){function e(){}return e.connect=function(e,t){var n=new F(e,t);z.set(e,n)},e.observe=function(e,t,n){var o=z.get(e),i=0===o.observationTargets.length;B(o.observationTargets,t)<0&&(i&&r.push(o),o.observationTargets.push(new H(t,n&&n.box)),L(1),N.schedule())},e.unobserve=function(e,t){var n=z.get(e),o=B(n.observationTargets,t),i=1===n.observationTargets.length;o>=0&&(i&&r.splice(r.indexOf(n),1),n.observationTargets.splice(o,1),L(-1))},e.disconnect=function(e){var t=this,n=z.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),j=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");V.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!f(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");V.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!f(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");V.unobserve(this,e)},e.prototype.disconnect=function(){V.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}()},67571:function(e,t,n){"use strict";n.d(t,{D:function(){return r}});var o=n(67294);function r(e){const t=(0,o.useRef)({value:e,previous:e});return(0,o.useMemo)((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}},6907:function(e){"use strict";e.exports=function(e){if(e=String(e||""),o.test(e))return"rtl";if(r.test(e))return"ltr";return"neutral"};var t="\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc",n="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff",o=new RegExp("^[^"+n+"]*["+t+"]"),r=new RegExp("^[^"+t+"]*["+n+"]")},18156:function(e,t){"use strict";for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),o={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},r={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)i["f"+s]=111+s;function a(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var o=e.map((function(e){return l(e,t)})),r=function(e){return o.some((function(t){return c(t,e)}))};return null==n?r:r(n)}function l(e,t){var n=t&&t.byKey,r={},i=(e=e.replace("++","+add")).split("+"),s=i.length;for(var a in o)r[o[a]]=!1;var l=!0,c=!1,f=void 0;try{for(var m,p=i[Symbol.iterator]();!(l=(m=p.next()).done);l=!0){var h=m.value,g=h.endsWith("?")&&h.length>1;g&&(h=h.slice(0,-1));var v=d(h),y=o[v];1!==s&&y||(n?r.key=v:r.which=u(h)),y&&(r[y]=!g||null)}}catch(w){c=!0,f=w}finally{try{!l&&p.return&&p.return()}finally{if(c)throw f}}return r}function c(e,t){for(var n in e){var o=e[n],r=void 0;if(null!=o&&((null!=(r="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===o&&93===t.which?91:t.which:t[n])||!1!==o)&&r!==o))return!1}return!0}function u(e){return e=d(e),i[e]||e.toUpperCase().charCodeAt(0)}function d(e){return e=e.toLowerCase(),e=r[e]||e}t.P6=a},62614:function(e,t,n){var o=n(23279),r=n(13218);e.exports=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),o(e,t,{leading:i,maxWait:t,trailing:s})}},94203:function(e,t,n){"use strict";function o(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function r(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function i(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return r(n.overflowY,t)||r(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function s(e,t,n,o,r,i,s,a){return i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-o:s>t&&a<n||i<e&&a>n?s-t+r:0}n.d(t,{Z:function(){return c}});var a=function(e,t){var n=window,r=t.scrollMode,a=t.block,l=t.inline,c=t.boundary,u=t.skipOverflowHiddenElements,d="function"==typeof c?c:function(e){return e!==c};if(!o(e))throw new TypeError("Invalid target");for(var f,m,p=document.scrollingElement||document.documentElement,h=[],g=e;o(g)&&d(g);){if((g=null==(m=(f=g).parentElement)?f.getRootNode().host||null:m)===p){h.push(g);break}null!=g&&g===document.body&&i(g)&&!i(document.documentElement)||null!=g&&i(g,u)&&h.push(g)}for(var v=n.visualViewport?n.visualViewport.width:innerWidth,y=n.visualViewport?n.visualViewport.height:innerHeight,w=window.scrollX||pageXOffset,b=window.scrollY||pageYOffset,E=e.getBoundingClientRect(),x=E.height,C=E.width,T=E.top,S=E.right,R=E.bottom,I=E.left,k="start"===a||"nearest"===a?T:"end"===a?R:T+x/2,M="center"===l?I+C/2:"end"===l?S:I,O=[],P=0;P<h.length;P++){var _=h[P],A=_.getBoundingClientRect(),D=A.height,N=A.width,L=A.top,H=A.right,F=A.bottom,z=A.left;if("if-needed"===r&&T>=0&&I>=0&&R<=y&&S<=v&&T>=L&&R<=F&&I>=z&&S<=H)return O;var B=getComputedStyle(_),V=parseInt(B.borderLeftWidth,10),j=parseInt(B.borderTopWidth,10),W=parseInt(B.borderRightWidth,10),$=parseInt(B.borderBottomWidth,10),K=0,U=0,G="offsetWidth"in _?_.offsetWidth-_.clientWidth-V-W:0,Z="offsetHeight"in _?_.offsetHeight-_.clientHeight-j-$:0,Y="offsetWidth"in _?0===_.offsetWidth?0:N/_.offsetWidth:0,J="offsetHeight"in _?0===_.offsetHeight?0:D/_.offsetHeight:0;if(p===_)K="start"===a?k:"end"===a?k-y:"nearest"===a?s(b,b+y,y,j,$,b+k,b+k+x,x):k-y/2,U="start"===l?M:"center"===l?M-v/2:"end"===l?M-v:s(w,w+v,v,V,W,w+M,w+M+C,C),K=Math.max(0,K+b),U=Math.max(0,U+w);else{K="start"===a?k-L-j:"end"===a?k-F+$+Z:"nearest"===a?s(L,F,D,j,$+Z,k,k+x,x):k-(L+D/2)+Z/2,U="start"===l?M-z-V:"center"===l?M-(z+N/2)+G/2:"end"===l?M-H+W+G:s(z,H,N,V,W+G,M,M+C,C);var q=_.scrollLeft,X=_.scrollTop;k+=X-(K=Math.max(0,Math.min(X+K/J,_.scrollHeight-D/J+Z))),M+=q-(U=Math.max(0,Math.min(q+U/Y,_.scrollWidth-N/Y+G)))}O.push({el:_,top:K,left:U})}return O};function l(e){return e===Object(e)&&0!==Object.keys(e).length}var c=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(l(t)&&"function"===typeof t.behavior)return t.behavior(n?a(e,t):[]);if(n){var o=function(e){return!1===e?{block:"end",inline:"nearest"}:l(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var o=e.el,r=e.top,i=e.left;o.scroll&&n?o.scroll({top:r,left:i,behavior:t}):(o.scrollTop=r,o.scrollLeft=i)}))}(a(e,o),o.behavior)}}},25273:function(e,t,n){"use strict";n.d(t,{a:function(){return I}});var o=n(10893),r=n(59904),i=n(67294),s=n(67918);function a(e){return i.createElement(s.JO,{...e},i.createElement("path",{d:"M10 17a7 7 0 1 0 0-14 7 7 0 0 0 0 14Z"}),i.createElement("path",{d:"M7.5 11.5S8.25 13 10 13s2.5-1.5 2.5-1.5M8 8h.007"}),i.createElement("path",{d:"M12 8h.007"}),i.createElement("circle",{cx:8,cy:8,r:.25}),i.createElement("circle",{cx:12,cy:8,r:.25}))}function l(e){return i.createElement(s.JO,{...e},i.createElement("path",{d:"M10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),i.createElement("path",{d:"M13 7v3.7c0 1.105.855 2.1 1.9 2.1a2.12 2.12 0 0 0 2.1-2.1V10a7 7 0 1 0-2.8 5.6"}))}function c(e){return i.createElement(s.JO,{...e},i.createElement("path",{d:"m5 16 12-6L5 4l2 6-2 6ZM7 10h10"}))}var u=n(5322),d=n(94523),f=n(8920),m=n(92484),p=n(20687);function h({className:e,...t}){return i.createElement("a",{href:"https://liveblocks.io",target:"_blank",rel:"noopener noreferrer",className:(0,p.A)("lb-composer-attribution",e),...t},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 72","aria-label":"Made with Liveblocks"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86 10h-8v50h8V10Zm16 14h-8v36h8V24Zm0-15h-8v9h8V9Zm13 15h-9l12 36h10l13-36h-9l-9 28-8-28Zm44-1c-11 0-18 8-18 19s7 19 18 19c8 0 15-4 17-13h-8c-1 4-5 6-9 6-6 0-9-3-9-10h27c0-10-6-21-18-21Zm0 7c5 0 9 3 9 8h-18c0-5 4-8 9-8Zm42-7c-4 0-8 2-11 6V10h-8v50h8v-5c3 4 7 6 11 6 11 0 16-9 16-19s-5-19-16-19Zm-2 32c-7 0-9-7-9-13s2-13 9-13 9 7 9 13-2 13-9 13Zm32-45h-8v50h8V10Zm24 51c11 0 18-8 18-19s-8-19-18-19c-11 0-19 8-19 19s7 19 19 19Zm0-6c-8 0-10-7-10-13s2-13 10-13c7 0 9 7 9 13s-2 13-9 13Zm39 6c8 0 15-4 17-12l-8-1c-2 4-4 6-9 6-7 0-9-6-9-12s2-12 9-12c5 0 8 3 8 7l9-1c-2-8-9-13-17-13-11 0-18 9-18 19 0 11 7 19 18 19Zm30-14 4-4 10 17h10l-15-23 15-13h-11l-13 13V10h-9v50h9V47Zm39 14c8 0 16-3 16-12 0-8-8-10-15-11-2-1-7-1-7-5 0-3 3-4 6-4 4 0 7 3 7 7l8-1c-1-9-8-12-15-12s-15 3-15 11 9 10 15 11c3 1 8 2 8 5 0 4-4 5-7 5-5 0-8-3-9-7l-8 1c1 8 9 12 16 12ZM41 27H0l12 12v17l29-29ZM20 60h40L48 48V32L20 60Z",fill:"currentColor"})))}var g=n(27605),v=n(28487),y=n(18909),w=n(59433),b=n(20644),E=n(10021),x=n(1306);function C({label:e,className:t,onClick:n,...o}){const{createMention:r}=(0,f.xc)(),s=(0,i.useCallback)((e=>{e.preventDefault()}),[]),a=(0,i.useCallback)((e=>{n?.(e),e.isDefaultPrevented()||(e.stopPropagation(),r())}),[r,n]);return i.createElement(w.u,{content:e},i.createElement(v.z,{className:(0,p.A)("lb-composer-editor-action",t),onMouseDown:s,onClick:a,"aria-label":e,...o},i.createElement(l,{className:"lb-button-icon"})))}function T({label:e,onPickerOpenChange:t,className:n,...o}){const{insertText:r}=(0,f.xc)(),s=(0,i.useCallback)((e=>{e.preventDefault()}),[]);return i.createElement(y.h,{onEmojiSelect:r,onOpenChange:t},i.createElement(w.u,{content:e},i.createElement(x.xo,{asChild:!0},i.createElement(v.z,{className:(0,p.A)("lb-composer-editor-action",n),onMouseDown:s,"aria-label":e,...o},i.createElement(a,{className:"lb-button-icon"})))))}const S={Mention:function({userId:e}){return i.createElement(d.pf,{className:"lb-composer-mention"},m.$S,i.createElement(b.n,{userId:e}))},MentionSuggestions:function({userIds:e}){return e.length>0?i.createElement(d.Db,{className:"lb-root lb-portal lb-elevation lb-composer-suggestions lb-composer-mention-suggestions"},i.createElement(d.Yi,{className:"lb-composer-suggestions-list lb-composer-mention-suggestions-list"},e.map((e=>i.createElement(d.m$,{key:e,className:"lb-composer-suggestions-list-item lb-composer-mention-suggestion",value:e},i.createElement(g.q,{userId:e,className:"lb-composer-mention-suggestion-avatar"}),i.createElement(b.n,{userId:e,className:"lb-composer-mention-suggestion-user"})))))):null},Link:function({href:e,children:t}){return i.createElement(d.rU,{href:e,className:"lb-composer-link"},t)}},R=(0,i.forwardRef)((({defaultValue:e,disabled:t,autoFocus:n,collapsed:s,defaultCollapsed:a,onCollapsedChange:l,actions:m,overrides:g,showAttribution:y,onFocus:b,onBlur:E,className:x,...R},I)=>{const{[o.W_]:{hasResolveMentionSuggestions:k}}=(0,r.L6)(),{isEmpty:M}=(0,f.xc)(),O=(0,u.QG)(g),[P,_]=(0,i.useState)(!1),[A,D]=function(e,t,n){const[o,r]=(0,i.useState)(n),s=void 0!==e,a=(0,i.useRef)(s);return(0,i.useEffect)((()=>{a.current=s}),[s]),[s?e:o,(0,i.useCallback)((e=>(s||r(e),t?.(e))),[s,t])]}((void 0!==s||void 0!==a)&&s,l,a),N=(0,i.useCallback)((e=>{e.preventDefault()}),[]),L=(0,i.useCallback)((e=>{e.stopPropagation()}),[]),H=(0,i.useCallback)((e=>{e.stopPropagation(),M&&D?.(!1)}),[M,D]),F=(0,i.useCallback)((e=>{b?.(e),e.isDefaultPrevented()||M&&D?.(!1)}),[M,D,b]),z=(0,i.useCallback)((e=>{if(E?.(e),e.isDefaultPrevented())return;!e.currentTarget.contains(e.relatedTarget)&&M&&!P&&D?.(!0)}),[P,M,E,D]);return i.createElement("form",{className:(0,p.A)("lb-root lb-composer lb-composer-form",x),dir:O.dir,...R,ref:I,"data-collapsed":A?"":void 0,onFocus:F,onBlur:z},i.createElement(d.ML,{className:"lb-composer-editor",onClick:H,placeholder:O.COMPOSER_PLACEHOLDER,defaultValue:e,disabled:t,autoFocus:n,components:S,dir:O.dir}),!A&&i.createElement("div",{className:"lb-composer-footer"},i.createElement("div",{className:"lb-composer-editor-actions"},k&&i.createElement(C,{label:O.COMPOSER_INSERT_MENTION}),i.createElement(T,{label:O.COMPOSER_INSERT_EMOJI,onPickerOpenChange:_})),y&&i.createElement(h,null),i.createElement("div",{className:"lb-composer-actions"},m??i.createElement(i.Fragment,null,i.createElement(w.mK,{content:O.COMPOSER_SEND,shortcut:i.createElement(w.vw,{name:"enter"})},i.createElement(d.k4,{disabled:t,asChild:!0},i.createElement(v.z,{onMouseDown:N,onClick:L,className:"lb-composer-action",variant:"primary","aria-label":O.COMPOSER_SEND},i.createElement(c,null))))))))})),I=(0,i.forwardRef)((({threadId:e,commentId:t,metadata:n,onComposerSubmit:o,...s},a)=>{const{useCreateThread:l,useCreateComment:c,useEditComment:u}=(0,r.L6)(),f=l(),m=c(),p=u(),h=(0,i.useCallback)(((r,i)=>{o?.(r,i),i.isDefaultPrevented()||(t&&e?p({commentId:t,threadId:e,body:r.body}):e?m({threadId:e,body:r.body}):f({body:r.body,metadata:n??{}}))}),[t,m,f,p,n,o,e]);return i.createElement(E.pn,null,i.createElement(d.l0,{onComposerSubmit:h,asChild:!0},i.createElement(R,{...s,ref:a})))}))},95970:function(e,t,n){"use strict";n.d(t,{j:function(){return Ht}});var o=n(59904),r=n(87462),i=n(67294),s=n(36206),a=n(42427),l=n(75320);const c=(0,i.forwardRef)(((e,t)=>{const{pressed:n,defaultPressed:o=!1,onPressedChange:c,...u}=e,[d=!1,f]=(0,a.T)({prop:n,onChange:c,defaultProp:o});return(0,i.createElement)(l.WV.button,(0,r.Z)({type:"button","aria-pressed":d,"data-state":d?"on":"off","data-disabled":e.disabled?"":void 0},u,{ref:t,onClick:(0,s.M)(e.onClick,(()=>{e.disabled||f(!d)}))}))})),u=c;var d=n(67918);function f(e){return i.createElement(d.JO,{...e},i.createElement("path",{d:"M10 4v12m6-6-6 6-6-6"}))}function m(e){return i.createElement(d.JO,{...e},i.createElement("circle",{cx:10,cy:10,r:7}),i.createElement("path",{d:"m13 8-4 4-2-2"}))}function p(e){return i.createElement(d.JO,{...e},i.createElement("circle",{cx:10,cy:10,r:7,fill:"currentColor"}),i.createElement("path",{d:"m13 8-4 4-2-2",stroke:"var(--lb-icon-background)"}))}var h=n(5322),g=n(20687);var v=n(10893);function y(e){return i.createElement(d.JO,{...e},i.createElement("path",{d:"M16 6L8 14L4 10"}))}function w(e){return i.createElement(d.JO,{...e},i.createElement("path",{d:"M15 5L5 15"}),i.createElement("path",{d:"M5 5L15 15"}))}function b(e){return i.createElement(d.JO,{...e},i.createElement("path",{d:"M4.5 6.5h11M14 6.5V14a1.5 1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 6 14V6.5M7.5 6.5V5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v1.5"}))}function E(e){return i.createElement(d.JO,{...e},i.createElement("path",{d:"m11.784 5.797-6.13 6.138a4 4 0 0 0-1.03 1.775L4 16l2.285-.624a4 4 0 0 0 1.776-1.032l6.145-6.152m-2.422-2.395 1.244-1.246c.608-.608 1.826-.81 2.53-.104.7.7.499 1.893-.122 2.515l-1.23 1.23m-2.422-2.395 2.422 2.395"}))}function x(e){return i.createElement(d.JO,{fill:"currentColor",...e},i.createElement("circle",{cx:5,cy:10,r:.75}),i.createElement("circle",{cx:10,cy:10,r:.75}),i.createElement("circle",{cx:15,cy:10,r:.75}))}function C(e){return i.createElement(d.JO,{...e},i.createElement("path",{d:"M11 3.07A7 7 0 1 0 16.93 9"}),i.createElement("path",{d:"M7.5 11.5S8.25 13 10 13s2.5-1.5 2.5-1.5M8 8h0"}),i.createElement("path",{d:"M12 8h0"}),i.createElement("path",{d:"M13 5h4m-2-2v4"}),i.createElement("circle",{cx:"8",cy:"8",r:".25"}),i.createElement("circle",{cx:"12",cy:"8",r:".25"}))}var T=n(4222),S=n(92484),R=n(78582);const I=(0,i.forwardRef)((({children:e,asChild:t,...n},o)=>{const r=t?T.g7:"span";return i.createElement(r,{...n,ref:o},e)})),k=(0,i.forwardRef)((({children:e,asChild:t,...n},o)=>{const r=t?T.g7:"a";return i.createElement(r,{target:"_blank",rel:"noopener noreferrer nofollow",...n,ref:o},e)})),M={Mention:({userId:e})=>i.createElement(I,null,S.$S,e),Link:({href:e,children:t})=>i.createElement(k,{href:e},t)},O=(0,i.forwardRef)((({body:e,components:t,asChild:n,...o},r)=>{const s=n?T.g7:"div",{Mention:a,Link:l}=(0,i.useMemo)((()=>({...M,...t})),[t]);return e&&e?.content?i.createElement(s,{...o,ref:r},e.content.map(((e,t)=>"paragraph"===e.type?i.createElement("p",{key:t},e.children.map(((e,t)=>{if((0,R.SA)(e))return e.id?i.createElement(a,{userId:e.id,key:t}):null;if((0,R.zq)(e)){const n=(0,R.BY)(e.url)??e.url;return i.createElement(l,{href:n,key:t},e.url)}let n=e.text;return e.bold&&(n=i.createElement("strong",{key:t},n)),e.italic&&(n=i.createElement("em",{key:t},n)),e.strikethrough&&(n=i.createElement("s",{key:t},n)),e.code&&(n=i.createElement("code",{key:t},n)),i.createElement("span",{key:t},n)}))):null))):null}));var P=n(94523),_=n(33162);function A(e){const t=new Map;return(...n)=>{const o=JSON.stringify(n.map((e=>(0,v.Pz)(e))));if(t.has(o))return t.get(o);const r=e(...n);return t.set(o,r),r}}const D=A(((...e)=>new Intl.DateTimeFormat(...e))),N=A(((...e)=>new Intl.RelativeTimeFormat(...e))),L=A(((...e)=>new Intl.ListFormat(...e)));const H={seconds:60,minutes:60,hours:24,days:7,weeks:4.34524,months:12};function F(e,t){const n=D(t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"});return(0,_.k)(n.format(e))}const z=["br","fr","nb","nn","no","ro","sv"];function B(e,t){return e.getTime()>Date.now()-2592e5?function(e,t){let n;if(t)n=t;else{const e=N();n=e.resolvedOptions().locale}const o=z.some((e=>n===e||n.startsWith(`${e}-`))),r=N(n,{style:o?"short":"narrow",numeric:"auto"});let i=(e.getTime()-Date.now())/1e3;if(i>-H.seconds&&i<H.seconds)return r.format(0,"seconds");for(const[s,a]of Object.entries(H)){if(Math.abs(i)<a)return r.format(Math.round(i),s);i/=a}return(0,_.k)(r.format(Math.round(i),"years"))}(e,t):function(e,t){const n=D(t,{month:"short",day:"numeric"});return(0,_.k)(n.format(e))}(e,t)}const V=(0,i.forwardRef)((({date:e,locale:t,children:n=B,title:o=F,dateTime:r,interval:s=3e4,asChild:a,...l},c)=>{const u=a?T.g7:"time",[d,f]=function(){const[e,t]=(0,i.useReducer)((e=>e+1),0);return[t,e]}(),m=(0,i.useMemo)((()=>new Date(e)),[e]),p=(0,i.useMemo)((()=>m.toISOString()),[m]),h=(0,i.useMemo)((()=>"function"===typeof o?o(m,t):o),[o,m,f]),g=(0,i.useMemo)((()=>"function"===typeof n?n(m,t):n),[n,m,f]);return function(e,t){const n=(0,i.useRef)(e);(0,i.useEffect)((()=>{n.current=e}),[e]),(0,i.useEffect)((()=>{if(!t&&0!==t)return;const e=setInterval((()=>{!1===n.current()&&clearInterval(e)}),t);return()=>clearInterval(e)}),[t])}(d,s),i.createElement(u,{...l,ref:c,dateTime:r??p,title:h},g)}));var j=n(33741);let W;const $=new WeakMap;function K(e){$.delete(e),W?.unobserve(e)}function U(e,t,n){const o=n?.enabled??!0,r=function(e){const t=(0,i.useRef)(e);return(0,i.useEffect)((()=>{t.current=e}),[e]),t}(t);(0,i.useEffect)((()=>{const t=e.current;if(t)return o?function(e,t){W||(W=new IntersectionObserver((e=>{for(const t of e)$.get(t.target)?.(t)}))),$.set(e,t),W.observe(e)}(t,(e=>{e.isIntersecting&&r.current()})):K(t),()=>{K(t)}}),[o])}var G=n(25273),Z=n(27605),Y=n(28487),J=n(30098),q=n(99276),X=n(24428);const Q=(0,i.createContext)(void 0);var ee=n(73409),te=n(27552),ne=n(45850),oe=n(92936),re=n(40308),ie=n(30395),se=n(438),ae=n(29521),le=n(37523),ce=n(23541),ue=n(91202);const de=["Enter"," "],fe=["ArrowUp","PageDown","End"],me=["ArrowDown","PageUp","Home",...fe],pe="Menu",[he,ge,ve]=(0,X.B)(pe),[ye,we]=(0,q.b)(pe,[ve,re.D7,ae.Pc]),be=(0,re.D7)(),Ee=(0,ae.Pc)(),[xe,Ce]=ye(pe),[Te,Se]=ye(pe),Re=e=>{const{__scopeMenu:t,open:n=!1,children:o,dir:r,onOpenChange:s,modal:a=!0}=e,l=be(t),[c,u]=(0,i.useState)(null),d=(0,i.useRef)(!1),f=(0,le.W)(s),m=function(e){const t=(0,i.useContext)(Q);return e||t||"ltr"}(r);return(0,i.useEffect)((()=>{const e=()=>{d.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>d.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),(0,i.createElement)(re.fC,l,(0,i.createElement)(xe,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u},(0,i.createElement)(Te,{scope:t,onClose:(0,i.useCallback)((()=>f(!1)),[f]),isUsingKeyboardRef:d,dir:m,modal:a},o)))},Ie=(0,i.forwardRef)(((e,t)=>{const{__scopeMenu:n,...o}=e,s=be(n);return(0,i.createElement)(re.ee,(0,r.Z)({},s,o,{ref:t}))})),ke="MenuPortal",[Me,Oe]=ye(ke,{forceMount:void 0}),Pe=e=>{const{__scopeMenu:t,forceMount:n,children:o,container:r}=e,s=Ce(ke,t);return(0,i.createElement)(Me,{scope:t,forceMount:n},(0,i.createElement)(se.z,{present:n||s.open},(0,i.createElement)(ie.h,{asChild:!0,container:r},o)))},_e="MenuContent",[Ae,De]=ye(_e),Ne=(0,i.forwardRef)(((e,t)=>{const n=Oe(_e,e.__scopeMenu),{forceMount:o=n.forceMount,...s}=e,a=Ce(_e,e.__scopeMenu),l=Se(_e,e.__scopeMenu);return(0,i.createElement)(he.Provider,{scope:e.__scopeMenu},(0,i.createElement)(se.z,{present:o||a.open},(0,i.createElement)(he.Slot,{scope:e.__scopeMenu},l.modal?(0,i.createElement)(Le,(0,r.Z)({},s,{ref:t})):(0,i.createElement)(He,(0,r.Z)({},s,{ref:t})))))})),Le=(0,i.forwardRef)(((e,t)=>{const n=Ce(_e,e.__scopeMenu),o=(0,i.useRef)(null),a=(0,J.e)(t,o);return(0,i.useEffect)((()=>{const e=o.current;if(e)return(0,ce.R)(e)}),[]),(0,i.createElement)(Fe,(0,r.Z)({},e,{ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:(0,s.M)(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))})),He=(0,i.forwardRef)(((e,t)=>{const n=Ce(_e,e.__scopeMenu);return(0,i.createElement)(Fe,(0,r.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))})),Fe=(0,i.forwardRef)(((e,t)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:h,onDismiss:g,disableOutsideScroll:v,...y}=e,w=Ce(_e,n),b=Se(_e,n),E=be(n),x=Ee(n),C=ge(n),[S,R]=(0,i.useState)(null),I=(0,i.useRef)(null),k=(0,J.e)(t,I,w.onContentChange),M=(0,i.useRef)(0),O=(0,i.useRef)(""),P=(0,i.useRef)(0),_=(0,i.useRef)(null),A=(0,i.useRef)("right"),D=(0,i.useRef)(0),N=v?ue.Z:i.Fragment,L=v?{as:T.g7,allowPinchZoom:!0}:void 0,H=e=>{var t,n;const o=O.current+e,r=C().filter((e=>!e.disabled)),i=document.activeElement,s=null===(t=r.find((e=>e.ref.current===i)))||void 0===t?void 0:t.textValue,a=function(e,t,n){const o=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,r=n?e.indexOf(n):-1;let i=(s=e,a=Math.max(r,0),s.map(((e,t)=>s[(a+t)%s.length])));var s,a;1===o.length&&(i=i.filter((e=>e!==n)));const l=i.find((e=>e.toLowerCase().startsWith(o.toLowerCase())));return l!==n?l:void 0}(r.map((e=>e.textValue)),o,s),l=null===(n=r.find((e=>e.textValue===a)))||void 0===n?void 0:n.ref.current;!function e(t){O.current=t,window.clearTimeout(M.current),""!==t&&(M.current=window.setTimeout((()=>e("")),1e3))}(o),l&&setTimeout((()=>l.focus()))};(0,i.useEffect)((()=>()=>window.clearTimeout(M.current)),[]),(0,te.EW)();const F=(0,i.useCallback)((e=>{var t,n;return A.current===(null===(t=_.current)||void 0===t?void 0:t.side)&&function(e,t){if(!t)return!1;return function(e,t){const{x:n,y:o}=e;let r=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const e=t[i].x,a=t[i].y,l=t[s].x,c=t[s].y;a>o!==c>o&&n<(l-e)*(o-a)/(c-a)+e&&(r=!r)}return r}({x:e.clientX,y:e.clientY},t)}(e,null===(n=_.current)||void 0===n?void 0:n.area)}),[]);return(0,i.createElement)(Ae,{scope:n,searchRef:O,onItemEnter:(0,i.useCallback)((e=>{F(e)&&e.preventDefault()}),[F]),onItemLeave:(0,i.useCallback)((e=>{var t;F(e)||(null===(t=I.current)||void 0===t||t.focus(),R(null))}),[F]),onTriggerLeave:(0,i.useCallback)((e=>{F(e)&&e.preventDefault()}),[F]),pointerGraceTimerRef:P,onPointerGraceIntentChange:(0,i.useCallback)((e=>{_.current=e}),[])},(0,i.createElement)(N,L,(0,i.createElement)(ne.M,{asChild:!0,trapped:a,onMountAutoFocus:(0,s.M)(l,(e=>{var t;e.preventDefault(),null===(t=I.current)||void 0===t||t.focus()})),onUnmountAutoFocus:c},(0,i.createElement)(ee.XB,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:h,onDismiss:g},(0,i.createElement)(ae.fC,(0,r.Z)({asChild:!0},x,{dir:b.dir,orientation:"vertical",loop:o,currentTabStopId:S,onCurrentTabStopIdChange:R,onEntryFocus:(0,s.M)(d,(e=>{b.isUsingKeyboardRef.current||e.preventDefault()}))}),(0,i.createElement)(re.VY,(0,r.Z)({role:"menu","aria-orientation":"vertical","data-state":Xe(w.open),"data-radix-menu-content":"",dir:b.dir},E,y,{ref:k,style:{outline:"none",...y.style},onKeyDown:(0,s.M)(y.onKeyDown,(e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,o=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!n&&o&&H(e.key));const r=I.current;if(e.target!==r)return;if(!me.includes(e.key))return;e.preventDefault();const i=C().filter((e=>!e.disabled)).map((e=>e.ref.current));fe.includes(e.key)&&i.reverse(),function(e){const t=document.activeElement;for(const n of e){if(n===t)return;if(n.focus(),document.activeElement!==t)return}}(i)})),onBlur:(0,s.M)(e.onBlur,(e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(M.current),O.current="")})),onPointerMove:(0,s.M)(e.onPointerMove,Qe((e=>{const t=e.target,n=D.current!==e.clientX;if(e.currentTarget.contains(t)&&n){const t=e.clientX>D.current?"right":"left";A.current=t,D.current=e.clientX}})))})))))))})),ze="MenuItem",Be="menu.itemSelect",Ve=(0,i.forwardRef)(((e,t)=>{const{disabled:n=!1,onSelect:o,...a}=e,c=(0,i.useRef)(null),u=Se(ze,e.__scopeMenu),d=De(ze,e.__scopeMenu),f=(0,J.e)(t,c),m=(0,i.useRef)(!1);return(0,i.createElement)(je,(0,r.Z)({},a,{ref:f,disabled:n,onClick:(0,s.M)(e.onClick,(()=>{const e=c.current;if(!n&&e){const t=new CustomEvent(Be,{bubbles:!0,cancelable:!0});e.addEventListener(Be,(e=>null===o||void 0===o?void 0:o(e)),{once:!0}),(0,l.jH)(e,t),t.defaultPrevented?m.current=!1:u.onClose()}})),onPointerDown:t=>{var n;null===(n=e.onPointerDown)||void 0===n||n.call(e,t),m.current=!0},onPointerUp:(0,s.M)(e.onPointerUp,(e=>{var t;m.current||null===(t=e.currentTarget)||void 0===t||t.click()})),onKeyDown:(0,s.M)(e.onKeyDown,(e=>{const t=""!==d.searchRef.current;n||t&&" "===e.key||de.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))}))})),je=(0,i.forwardRef)(((e,t)=>{const{__scopeMenu:n,disabled:o=!1,textValue:a,...c}=e,u=De(ze,n),d=Ee(n),f=(0,i.useRef)(null),m=(0,J.e)(t,f),[p,h]=(0,i.useState)(!1),[g,v]=(0,i.useState)("");return(0,i.useEffect)((()=>{const e=f.current;var t;e&&v((null!==(t=e.textContent)&&void 0!==t?t:"").trim())}),[c.children]),(0,i.createElement)(he.ItemSlot,{scope:n,disabled:o,textValue:null!==a&&void 0!==a?a:g},(0,i.createElement)(ae.ck,(0,r.Z)({asChild:!0},d,{focusable:!o}),(0,i.createElement)(l.WV.div,(0,r.Z)({role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0},c,{ref:m,onPointerMove:(0,s.M)(e.onPointerMove,Qe((e=>{if(o)u.onItemLeave(e);else if(u.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus()}}))),onPointerLeave:(0,s.M)(e.onPointerLeave,Qe((e=>u.onItemLeave(e)))),onFocus:(0,s.M)(e.onFocus,(()=>h(!0))),onBlur:(0,s.M)(e.onBlur,(()=>h(!1)))}))))})),We="MenuRadioGroup",[$e,Ke]=ye(We,{value:void 0,onValueChange:()=>{}}),Ue="MenuItemIndicator",[Ge,Ze]=ye(Ue,{checked:!1}),Ye="MenuSub",[Je,qe]=ye(Ye);function Xe(e){return e?"open":"closed"}function Qe(e){return t=>"mouse"===t.pointerType?e(t):void 0}const et=Re,tt=Ie,nt=Pe,ot=Ne,rt=Ve,it="DropdownMenu",[st,at]=(0,q.b)(it,[we]),lt=we(),[ct,ut]=st(it),dt=e=>{const{__scopeDropdownMenu:t,children:n,dir:o,open:s,defaultOpen:l,onOpenChange:c,modal:u=!0}=e,d=lt(t),f=(0,i.useRef)(null),[m=!1,p]=(0,a.T)({prop:s,defaultProp:l,onChange:c});return(0,i.createElement)(ct,{scope:t,triggerId:(0,oe.M)(),triggerRef:f,contentId:(0,oe.M)(),open:m,onOpenChange:p,onOpenToggle:(0,i.useCallback)((()=>p((e=>!e))),[p]),modal:u},(0,i.createElement)(et,(0,r.Z)({},d,{open:m,onOpenChange:p,dir:o,modal:u}),n))},ft="DropdownMenuTrigger",mt=(0,i.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,disabled:o=!1,...a}=e,c=ut(ft,n),u=lt(n);return(0,i.createElement)(tt,(0,r.Z)({asChild:!0},u),(0,i.createElement)(l.WV.button,(0,r.Z)({type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":o?"":void 0,disabled:o},a,{ref:(0,J.F)(t,c.triggerRef),onPointerDown:(0,s.M)(e.onPointerDown,(e=>{o||0!==e.button||!1!==e.ctrlKey||(c.onOpenToggle(),c.open||e.preventDefault())})),onKeyDown:(0,s.M)(e.onKeyDown,(e=>{o||(["Enter"," "].includes(e.key)&&c.onOpenToggle(),"ArrowDown"===e.key&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())}))})))})),pt=e=>{const{__scopeDropdownMenu:t,...n}=e,o=lt(t);return(0,i.createElement)(nt,(0,r.Z)({},o,n))},ht="DropdownMenuContent",gt=(0,i.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,a=ut(ht,n),l=lt(n),c=(0,i.useRef)(!1);return(0,i.createElement)(ot,(0,r.Z)({id:a.contentId,"aria-labelledby":a.triggerId},l,o,{ref:t,onCloseAutoFocus:(0,s.M)(e.onCloseAutoFocus,(e=>{var t;c.current||null===(t=a.triggerRef.current)||void 0===t||t.focus(),c.current=!1,e.preventDefault()})),onInteractOutside:(0,s.M)(e.onInteractOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,o=2===t.button||n;a.modal&&!o||(c.current=!0)})),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))})),vt=(0,i.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...o}=e,s=lt(n);return(0,i.createElement)(rt,(0,r.Z)({},s,o,{ref:t}))})),yt=dt,wt=pt,bt=gt;var Et=n(33328),xt=n(78398);function Ct({children:e,content:t,defaultOpen:n,open:o,onOpenChange:r,className:s,...a}){const l=(0,h.QG)(),{portalContainer:c}=(0,Et.Q)();return i.createElement(yt,{defaultOpen:n,open:o,onOpenChange:r,dir:l.dir},e,i.createElement(wt,{container:c},i.createElement(bt,{className:(0,g.A)("lb-root lb-portal lb-elevation lb-dropdown",s),sideOffset:xt.v0,collisionPadding:xt.rV,...a},t)))}const Tt=(0,i.forwardRef)((({children:e,className:t,...n},o)=>i.createElement(vt,{className:(0,g.A)("lb-dropdown-item",t),...n,ref:o},e)));var St=n(92288),Rt=n(18909);const It=(0,i.forwardRef)((({values:e,formatRemaining:t,truncate:n,locale:o,className:r,asChild:s,...a},l)=>{const c=s?T.g7:"span",u=(0,h.QG)(),d=t??u.LIST_REMAINING,f=(0,i.useMemo)((()=>{const t=n&&n<e.length-1?[...e.slice(0,n),d(e.length-n)]:[...e],r=Array(t.length).fill(".");return L(o).formatToParts(r).map((e=>"element"===e.type?t.shift():e.value))}),[d,o,n,e]);return i.createElement(c,{className:(0,g.A)("lb-list",r),...a,ref:l},f)}));var kt=n(59433),Mt=n(20644),Ot=n(10021),Pt=n(1306);function _t({userId:e,className:t,...n}){const{[v.W_]:{useCurrentUserId:r}}=(0,o.O4)(),s=r();return i.createElement(I,{className:(0,g.A)("lb-comment-mention",t),"data-self":e===s?"":void 0,...n},S.$S,i.createElement(Mt.n,{userId:e}))}function At({href:e,children:t,className:n,...o}){return i.createElement(k,{className:(0,g.A)("lb-comment-link",n),href:e,...o},t)}const Dt=(0,i.forwardRef)((({reaction:e,overrides:t,className:n,...o},r)=>{const s=(0,h.QG)(t);return i.createElement(Y.z,{className:(0,g.A)("lb-comment-reaction",n),variant:"outline","aria-label":s.COMMENT_REACTION_DESCRIPTION(e.emoji,e.users.length),...o,ref:r},i.createElement(St.d,{className:"lb-comment-reaction-emoji",emoji:e.emoji}),i.createElement("span",{className:"lb-comment-reaction-count"},e.users.length))})),Nt=(0,i.forwardRef)((({comment:e,reaction:t,overrides:n,disabled:r,...s},a)=>{const{useAddReaction:l,useRemoveReaction:c}=(0,o.L6)(),d=l(),f=c(),{[v.W_]:{useCurrentUserId:m}}=(0,o.O4)(),p=m(),g=(0,i.useMemo)((()=>t.users.some((e=>e.id===p))),[p,t]),y=(0,h.QG)(n),w=(0,i.useMemo)((()=>i.createElement("span",null,y.COMMENT_REACTION_LIST(i.createElement(It,{values:t.users.map(((e,t)=>i.createElement(Mt.n,{key:e.id,userId:e.id,capitalize:0===t,replaceSelf:!0}))),formatRemaining:y.LIST_REMAINING_USERS,truncate:5}),t.emoji,t.users.length))),[y,t]),b=(0,i.useCallback)((n=>{n?d({threadId:e.threadId,commentId:e.id,emoji:t.emoji}):f({threadId:e.threadId,commentId:e.id,emoji:t.emoji})}),[d,e.threadId,e.id,t.emoji,f]);return i.createElement(kt.u,{content:w,multiline:!0,className:"lb-comment-reaction-tooltip"},i.createElement(u,{asChild:!0,pressed:g,onPressedChange:b,disabled:r,ref:a},i.createElement(Dt,{"data-self":g?"":void 0,reaction:t,overrides:n,...s})))})),Lt=((0,i.forwardRef)((({reaction:e,overrides:t,...n},r)=>{const{[v.W_]:{useCurrentUserId:s}}=(0,o.O4)(),a=s(),l=(0,i.useMemo)((()=>e.users.some((e=>e.id===a))),[a,e]);return i.createElement(Dt,{disableable:!1,"data-self":l?"":void 0,reaction:e,overrides:t,...n,ref:r})})),(0,i.forwardRef)((({comment:e,indentContent:t=!0,showDeleted:n,showActions:r="hover",showReactions:s=!0,onAuthorClick:a,onMentionClick:l,onCommentEdit:c,onCommentDelete:u,overrides:d,className:f,additionalActions:m,additionalActionsClassName:p,markThreadAsReadWhenVisible:v,...T},S)=>{const{useDeleteComment:R,useEditComment:I,useAddReaction:k,useRemoveReaction:M,useMarkThreadAsRead:_,useSelf:A}=(0,o.L6)(),D=(0,i.useRef)(null),N=(0,j.v)(S,D),L=A(),H=R(),F=I(),z=k(),B=M(),W=_(),$=(0,h.QG)(d),[K,J]=(0,i.useState)(!1),[q,X]=(0,i.useState)(!1),[Q,ee]=(0,i.useState)(!1),[te,ne]=(0,i.useState)(!1);U(D,(0,i.useCallback)((()=>{v&&W(v)}),[W,v]),{enabled:Boolean(v)});const oe=(0,i.useCallback)((e=>{e.stopPropagation()}),[]),re=(0,i.useCallback)((()=>{J(!0)}),[]),ie=(0,i.useCallback)((e=>{e.stopPropagation(),J(!1)}),[]),se=(0,i.useCallback)((({body:t},n)=>{c?.(e),n.preventDefault(),J(!1),F({commentId:e.id,threadId:e.threadId,body:t})}),[e,F,c]),ae=(0,i.useCallback)((()=>{u?.(e),H({commentId:e.id,threadId:e.threadId})}),[e,H,u]),le=(0,i.useCallback)((t=>{a?.(e.userId,t)}),[e.userId,a]),ce=(0,i.useCallback)((t=>{const n=e.reactions.findIndex((e=>e.emoji===t));n>=0&&L?.id&&e.reactions[n].users.some((e=>e.id===L?.id))?B({threadId:e.threadId,commentId:e.id,emoji:t}):z({threadId:e.threadId,commentId:e.id,emoji:t})}),[z,e.id,e.reactions,e.threadId,B,L?.id]);return(0,i.useEffect)((()=>{if(!("undefined"!==typeof window))return;window.location.hash.slice(1)===e.id&&X(!0)}),[]),n||e.body?i.createElement(Ot.pn,null,i.createElement("div",{id:e.id,className:(0,g.A)("lb-root lb-comment",t&&"lb-comment:indent-content","hover"===r&&"lb-comment:show-actions-hover",(Q||te)&&"lb-comment:action-open",f),"data-deleted":e.body?void 0:"","data-editing":K?"":void 0,"data-target":q?"":void 0,dir:$.dir,...T,ref:N},i.createElement("div",{className:"lb-comment-header"},i.createElement("div",{className:"lb-comment-details"},i.createElement(Z.q,{className:"lb-comment-avatar",userId:e.userId,onClick:le}),i.createElement("span",{className:"lb-comment-details-labels"},i.createElement(Mt.n,{className:"lb-comment-author",userId:e.userId,onClick:le}),i.createElement("span",{className:"lb-comment-date"},i.createElement(V,{locale:$.locale,date:e.createdAt,className:"lb-comment-date-created"}),e.editedAt&&e.body&&i.createElement(i.Fragment,null," ",i.createElement("span",{className:"lb-comment-date-edited"},$.COMMENT_EDITED))))),r&&!K&&i.createElement("div",{className:(0,g.A)("lb-comment-actions",p)},m??null,s&&i.createElement(Rt.h,{onEmojiSelect:ce,onOpenChange:ne},i.createElement(kt.u,{content:$.COMMENT_ADD_REACTION},i.createElement(Pt.xo,{asChild:!0},i.createElement(Y.z,{className:"lb-comment-action",onClick:oe,"aria-label":$.COMMENT_ADD_REACTION},i.createElement(C,{className:"lb-button-icon"}))))),e.userId===L?.id&&i.createElement(Ct,{open:Q,onOpenChange:ee,align:"end",content:i.createElement(i.Fragment,null,i.createElement(Tt,{onSelect:re,onClick:oe},i.createElement(E,{className:"lb-dropdown-item-icon"}),$.COMMENT_EDIT),i.createElement(Tt,{onSelect:ae,onClick:oe},i.createElement(b,{className:"lb-dropdown-item-icon"}),$.COMMENT_DELETE))},i.createElement(kt.u,{content:$.COMMENT_MORE},i.createElement(mt,{asChild:!0},i.createElement(Y.z,{className:"lb-comment-action",disabled:!e.body,onClick:oe,"aria-label":$.COMMENT_MORE},i.createElement(x,{className:"lb-button-icon"}))))))),i.createElement("div",{className:"lb-comment-content"},K?i.createElement(G.a,{className:"lb-comment-composer",onComposerSubmit:se,defaultValue:e.body,autoFocus:!0,showAttribution:!1,actions:i.createElement(i.Fragment,null,i.createElement(kt.u,{content:$.COMMENT_EDIT_COMPOSER_CANCEL,"aria-label":$.COMMENT_EDIT_COMPOSER_CANCEL},i.createElement(Y.z,{className:"lb-composer-action",onClick:ie},i.createElement(w,{className:"lb-button-icon"}))),i.createElement(kt.mK,{content:$.COMMENT_EDIT_COMPOSER_SAVE,shortcut:i.createElement(kt.vw,{name:"enter"})},i.createElement(P.k4,{asChild:!0},i.createElement(Y.z,{variant:"primary",className:"lb-composer-action",onClick:oe,"aria-label":$.COMMENT_EDIT_COMPOSER_SAVE},i.createElement(y,{className:"lb-button-icon"}))))),overrides:{COMPOSER_PLACEHOLDER:$.COMMENT_EDIT_COMPOSER_PLACEHOLDER}}):e.body?i.createElement(i.Fragment,null,i.createElement(O,{className:"lb-comment-body",body:e.body,components:{Mention:({userId:e})=>i.createElement(_t,{userId:e,onClick:t=>l?.(e,t)}),Link:At}}),s&&e.reactions.length>0&&i.createElement("div",{className:"lb-comment-reactions"},e.reactions.map((t=>i.createElement(Nt,{key:t.emoji,comment:e,reaction:t,overrides:d}))),i.createElement(Rt.h,{onEmojiSelect:ce},i.createElement(kt.u,{content:$.COMMENT_ADD_REACTION},i.createElement(Pt.xo,{asChild:!0},i.createElement(Y.z,{className:"lb-comment-reaction lb-comment-reaction-add",variant:"outline",onClick:oe,"aria-label":$.COMMENT_ADD_REACTION},i.createElement(C,{className:"lb-button-icon"}))))))):i.createElement("div",{className:"lb-comment-body"},i.createElement("p",{className:"lb-comment-deleted"},$.COMMENT_DELETED))))):null}))),Ht=(0,i.forwardRef)((({thread:e,indentCommentContent:t=!0,showActions:n="hover",showDeletedComments:r,showResolveAction:s=!0,showReactions:a=!0,showComposer:l="collapsed",onResolvedChange:c,onCommentEdit:d,onCommentDelete:v,onThreadDelete:y,onAuthorClick:w,onMentionClick:b,overrides:E,className:x,...C},T)=>{const{useEditThreadMetadata:S,useThreadSubscription:R}=(0,o.L6)(),I=S(),k=(0,h.QG)(E),M=(0,i.useMemo)((()=>r?0:e.comments.findIndex((e=>e.body))),[r,e.comments]),O=(0,i.useMemo)((()=>r?e.comments.length-1:function(e,t){let n=e.length-1;for(;n>=0;){if(t(e[n]))return n;n--}return-1}(e.comments,(e=>e.body))),[r,e.comments]),{status:P,unreadSince:_}=R(e.id),A=(0,i.useMemo)((()=>{if("subscribed"!==P)return;if(null===_)return M;const t=e.comments.findIndex((e=>(!!r||e.body)&&e.createdAt>_));return t>=0&&t<e.comments.length?t:void 0}),[M,r,P,e.comments,_]),[D,N]=(0,i.useState)(),L=void 0===D?A:D;(0,i.useEffect)((()=>{A&&N((e=>Math.min(e??1/0,A)))}),[A]);const H=(0,i.useCallback)((e=>{e.stopPropagation()}),[]),F=(0,i.useCallback)((t=>{c?.(t),I({threadId:e.id,metadata:{resolved:t}})}),[I,c,e.id]),z=(0,i.useCallback)((t=>{v?.(t);e.comments.filter((e=>e.body)).length<=1&&y?.(e)}),[v,y,e]);return i.createElement(Ot.pn,null,i.createElement("div",{className:(0,g.A)("lb-root lb-thread","hover"===n&&"lb-thread:show-actions-hover",x),"data-resolved":e.metadata.resolved?"":void 0,"data-unread":void 0!==A?"":void 0,dir:k.dir,...C,ref:T},i.createElement("div",{className:"lb-thread-comments"},e.comments.map(((o,l)=>{const c=l===M,h=void 0!==A&&l>=A,g=i.createElement(Lt,{key:o.id,className:"lb-thread-comment","data-unread":h?"":void 0,comment:o,indentContent:t,showDeleted:r,showActions:n,showReactions:a,onCommentEdit:d,onCommentDelete:z,onAuthorClick:w,onMentionClick:b,markThreadAsReadWhenVisible:l===O&&h?e.id:void 0,additionalActionsClassName:c?"lb-thread-actions":void 0,additionalActions:c&&s?i.createElement(kt.u,{content:e.metadata.resolved?k.THREAD_UNRESOLVE:k.THREAD_RESOLVE},i.createElement(u,{pressed:e.metadata.resolved,onPressedChange:F,asChild:!0},i.createElement(Y.z,{className:"lb-comment-action",onClick:H,"aria-label":e.metadata.resolved?k.THREAD_UNRESOLVE:k.THREAD_RESOLVE},e.metadata.resolved?i.createElement(p,{className:"lb-button-icon"}):i.createElement(m,{className:"lb-button-icon"})))):null});return l===L&&L!==M&&L<=O?i.createElement(i.Fragment,{key:o.id},i.createElement("div",{className:"lb-thread-new-indicator","aria-label":k.THREAD_NEW_INDICATOR_DESCRIPTION},i.createElement("span",{className:"lb-thread-new-indicator-label"},i.createElement(f,{className:"lb-thread-new-indicator-label-icon"}),k.THREAD_NEW_INDICATOR)),g):g}))),l&&i.createElement(G.a,{className:"lb-thread-composer",threadId:e.id,defaultCollapsed:"collapsed"===l||void 0,overrides:{COMPOSER_PLACEHOLDER:k.THREAD_COMPOSER_PLACEHOLDER,COMPOSER_SEND:k.THREAD_COMPOSER_SEND}})))}))},27605:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var o=n(59904),r=n(67294),i=n(20687);function s(e){return e.trim().split(" ").reduce(((e,t,n,o)=>(0!==n&&n!==o.length-1||(e+=t.charAt(0).toLocaleUpperCase()),e)),"")}function a({userId:e,className:t,...n}){const{useUser:a}=(0,o.O4)(),{user:l,isLoading:c}=a(e),u=(0,r.useMemo)((()=>l?.name),[l]),d=(0,r.useMemo)((()=>l?.avatar),[l]),f=(0,r.useMemo)((()=>u?s(u):void 0),[u]),m=(0,r.useMemo)((()=>c||l?void 0:s(e)),[c,l,e]);return r.createElement("div",{className:(0,i.A)("lb-avatar",t),"data-loading":c?"":void 0,...n},d&&r.createElement("img",{className:"lb-avatar-image",src:d,alt:u}),f?r.createElement("span",{className:"lb-avatar-fallback","aria-hidden":!0},f):m?r.createElement("span",{className:"lb-avatar-fallback","aria-label":e,title:e},m):null)}},28487:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var o=n(67294),r=n(20687);const i=(0,o.forwardRef)((({variant:e="default",disableable:t=!0,className:n,...i},s)=>o.createElement("button",{type:"button",className:(0,r.A)("lb-button",!t&&"lb-button:non-disableable",n),"data-variant":e,...i,ref:s})))},92288:function(e,t,n){"use strict";n.d(t,{d:function(){return s}});var o=n(67294),r=n(35180),i=n(20687);const s=(0,o.forwardRef)((({className:e,...t},n)=>o.createElement(r.d,{className:(0,i.A)("lb-emoji",e),...t,ref:n})))},18909:function(e,t,n){"use strict";n.d(t,{h:function(){return Uo}});var o=n(1306),r=n(67294),i=n(33328),s=n(78398),a=n(67918);function l(e){return r.createElement(a.JO,{...e},r.createElement("path",{d:"M9 15A6 6 0 1 0 9 3a6 6 0 0 0 0 12Zm7.5 1.5-3.25-3.25"}))}function c(e){return r.createElement(a.JO,{...e},r.createElement("path",{d:"M3 10a7 7 0 0 1 7-7"},r.createElement("animateTransform",{xmlns:"http://www.w3.org/2000/svg",attributeName:"transform",type:"rotate",dur:"0.75s",values:`0 ${a.dO/2} ${a.XP/2};360 ${a.dO/2} ${a.XP/2}`,repeatCount:"indefinite"})))}var u=n(5322),d=n(4222),f=n(73935);function m(e,t){return n=>e(t(n))}function p(e,t){return t(e)}function h(e,t){return n=>e(t,n)}function g(e,t){return()=>e(t)}function v(e,t){return t(e),e}function y(...e){return e}function w(e){e()}function b(e){return()=>e}function E(e){return void 0!==e}function x(){}function C(e,t){return e(1,t)}function T(e,t){e(0,t)}function S(e){e(2)}function R(e){return e(4)}function I(e,t){return C(e,h(t,0))}function k(e,t){const n=e(1,(e=>{n(),t(e)}));return n}function M(){const e=[];return(t,n)=>{switch(t){case 2:return void e.splice(0,e.length);case 1:return e.push(n),()=>{const t=e.indexOf(n);t>-1&&e.splice(t,1)};case 0:return void e.slice().forEach((e=>{e(n)}));default:throw new Error(`unrecognized action ${t}`)}}}function O(e){let t=e;const n=M();return(e,o)=>{switch(e){case 1:o(t);break;case 0:t=o;break;case 4:return t}return n(e,o)}}function P(e){return v(M(),(t=>I(e,t)))}function _(e,t){return v(O(t),(t=>I(e,t)))}function A(e,...t){const n=function(...e){return t=>e.reduceRight(p,t)}(...t);return(t,o)=>{switch(t){case 1:return C(e,n(o));case 2:return void S(e)}}}function D(e,t){return e===t}function N(e=D){let t;return n=>o=>{e(t,o)||(t=o,n(o))}}function L(e){return t=>n=>{e(n)&&t(n)}}function H(e){return t=>m(t,e)}function F(e){return t=>()=>t(e)}function z(e,t){return n=>o=>n(t=e(t,o))}function B(e){return t=>n=>{e>0?e--:t(n)}}function V(e){let t,n=null;return o=>r=>{n=r,t||(t=setTimeout((()=>{t=void 0,o(n)}),e))}}function j(e){let t,n;return o=>r=>{t=r,n&&clearTimeout(n),n=setTimeout((()=>{o(t)}),e)}}function W(...e){const t=new Array(e.length);let n=0,o=null;const r=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const s=Math.pow(2,i);C(e,(e=>{const a=n;n|=s,t[i]=e,a!==r&&n===r&&o&&(o(),o=null)}))})),e=>i=>{const s=()=>e([i].concat(t));n===r?s():o=s}}function $(...e){return function(t,n){switch(t){case 1:return function(...e){return()=>{e.map(w)}}(...e.map((e=>C(e,n))));case 2:return;default:throw new Error(`unrecognized action ${t}`)}}}function K(e,t=D){return A(e,N(t))}function U(...e){const t=M(),n=new Array(e.length);let o=0;const r=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const s=Math.pow(2,i);C(e,(e=>{n[i]=e,o|=s,o===r&&T(t,n)}))})),function(e,i){switch(e){case 1:return o===r&&i(n),C(t,i);case 2:return S(t);default:throw new Error(`unrecognized action ${e}`)}}}function G(e,t=[],{singleton:n}={singleton:!0}){return{id:Z(),constructor:e,dependencies:t,singleton:n}}const Z=()=>Symbol();const Y="undefined"!==typeof document?r.useLayoutEffect:r.useEffect;function J(e,t,n){const o=Object.keys(t.required||{}),i=Object.keys(t.optional||{}),s=Object.keys(t.methods||{}),a=Object.keys(t.events||{}),l=r.createContext({});function c(e,n){e.propsReady&&T(e.propsReady,!1);for(const r of o){T(e[t.required[r]],n[r])}for(const o of i)if(o in n){T(e[t.optional[o]],n[o])}e.propsReady&&T(e.propsReady,!0)}function u(e){return a.reduce(((n,o)=>(n[o]=function(e){let t,n;const o=()=>t&&t();return function(r,i){switch(r){case 1:if(i){if(n===i)return;return o(),n=i,t=C(e,i),t}return o(),x;case 2:return o(),void(n=null);default:throw new Error(`unrecognized action ${r}`)}}}(e[t.events[o]]),n)),{})}const d=r.forwardRef(((d,f)=>{const{children:m,...p}=d,[h]=r.useState((()=>v(function(e){const t=new Map,n=({id:e,constructor:o,dependencies:r,singleton:i})=>{if(i&&t.has(e))return t.get(e);const s=o(r.map((e=>n(e))));return i&&t.set(e,s),s};return n(e)}(e),(e=>c(e,p))))),[y]=r.useState(g(u,h));return Y((()=>{for(const e of a)e in p&&C(y[e],p[e]);return()=>{Object.values(y).map(S)}}),[p,y,h]),Y((()=>{c(h,p)})),r.useImperativeHandle(f,b(function(e){return s.reduce(((n,o)=>(n[o]=n=>{T(e[t.methods[o]],n)},n)),{})}(h))),r.createElement(l.Provider,{value:h},n?r.createElement(n,function(e,t){const n={},o={};let r=0;const i=e.length;for(;r<i;)o[e[r]]=1,r+=1;for(const s in t)o.hasOwnProperty(s)||(n[s]=t[s]);return n}([...o,...i,...a],p),m):m)}));return{Component:d,usePublisher:e=>r.useCallback(h(T,r.useContext(l)[e]),[e]),useEmitterValue:r.version.startsWith("18")?e=>{const t=r.useContext(l)[e],n=r.useCallback((e=>C(t,e)),[t]);return r.useSyncExternalStore(n,(()=>R(t)),(()=>R(t)))}:e=>{const t=r.useContext(l)[e],[n,o]=r.useState(g(R,t));return Y((()=>C(t,(e=>{e!==n&&o(b(e))}))),[t,n]),n},useEmitter:(e,t)=>{const n=r.useContext(l)[e];Y((()=>C(n,t)),[t,n])}}}const q="undefined"!==typeof document?r.useLayoutEffect:r.useEffect;var X=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(X||{});const Q={0:"debug",1:"log",2:"warn",3:"error"},ee=G((()=>{const e=O(3);return{log:O(((t,n,o=1)=>{var r;o>=(null!=(r=("undefined"===typeof globalThis?window:globalThis).VIRTUOSO_LOG_LEVEL)?r:R(e))&&console[Q[o]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)})),logLevel:e}}),[],{singleton:!0});function te(e,t=!0){const n=r.useRef(null);let o=e=>{};if("undefined"!==typeof ResizeObserver){const i=r.useMemo((()=>new ResizeObserver((t=>{const n=t[0].target;null!==n.offsetParent&&requestAnimationFrame((()=>{e(n)}))}))),[e]);o=e=>{e&&t?(i.observe(e),n.current=e):(n.current&&i.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:o}}function ne(e,t=!0){return te(e,t).callbackRef}function oe(e,t,n,o,i,s,a){const l=r.useCallback((n=>{const r=function(e,t,n,o){const r=e.length;if(0===r)return null;const i=[];for(let s=0;s<r;s++){const r=e.item(s);if(!r||void 0===r.dataset.index)continue;const a=parseInt(r.dataset.index),l=parseFloat(r.dataset.knownSize),c=t(r,n);if(0===c&&o("Zero-sized element, this should not happen",{child:r},X.ERROR),c===l)continue;const u=i[i.length-1];0===i.length||u.size!==c||u.endIndex!==a-1?i.push({startIndex:a,endIndex:a,size:c}):i[i.length-1].endIndex++}return i}(n.children,t,"offsetHeight",i);let l=n.parentElement;for(;!l.dataset.virtuosoScroller;)l=l.parentElement;const c="window"===l.lastElementChild.dataset.viewportType,u=a?a.scrollTop:c?window.pageYOffset||document.documentElement.scrollTop:l.scrollTop,d=a?a.scrollHeight:c?document.documentElement.scrollHeight:l.scrollHeight,f=a?a.offsetHeight:c?window.innerHeight:l.offsetHeight;o({scrollTop:Math.max(u,0),scrollHeight:d,viewportHeight:f}),null==s||s(function(e,t,n){"normal"===t||(null==t?void 0:t.endsWith("px"))||n(`${e} was not resolved to pixel value correctly`,t,X.WARN);if("normal"===t)return 0;return parseInt(null!=t?t:"0",10)}("row-gap",getComputedStyle(n).rowGap,i)),null!==r&&e(r)}),[e,t,i,s,a,o]);return te(l,n)}function re(e,t){return Math.round(e.getBoundingClientRect()[t])}function ie(e,t){return Math.abs(e-t)<1.01}function se(e,t,n,o=x,i){const s=r.useRef(null),a=r.useRef(null),l=r.useRef(null),c=r.useCallback((n=>{const o=n.target,r=o===window||o===document,i=r?window.pageYOffset||document.documentElement.scrollTop:o.scrollTop,s=r?document.documentElement.scrollHeight:o.scrollHeight,c=r?window.innerHeight:o.offsetHeight,u=()=>{e({scrollTop:Math.max(i,0),scrollHeight:s,viewportHeight:c})};n.suppressFlushSync?u():f.flushSync(u),null!==a.current&&(i===a.current||i<=0||i===s-c)&&(a.current=null,t(!0),l.current&&(clearTimeout(l.current),l.current=null))}),[e,t]);return r.useEffect((()=>{const e=i||s.current;return o(i||s.current),c({target:e,suppressFlushSync:!0}),e.addEventListener("scroll",c,{passive:!0}),()=>{o(null),e.removeEventListener("scroll",c)}}),[s,c,n,o,i]),{scrollerRef:s,scrollByCallback:function(e){s.current.scrollBy(e)},scrollToCallback:function(n){const o=s.current;if(!o||"offsetHeight"in o&&0===o.offsetHeight)return;const r="smooth"===n.behavior;let i,c,u;o===window?(c=Math.max(re(document.documentElement,"height"),document.documentElement.scrollHeight),i=window.innerHeight,u=document.documentElement.scrollTop):(c=o.scrollHeight,i=re(o,"height"),u=o.scrollTop);const d=c-i;if(n.top=Math.ceil(Math.max(Math.min(d,n.top),0)),ie(i,c)||n.top===u)return e({scrollTop:u,scrollHeight:c,viewportHeight:i}),void(r&&t(!0));r?(a.current=n.top,l.current&&clearTimeout(l.current),l.current=setTimeout((()=>{l.current=null,a.current=null,t(!0)}),1e3)):a.current=null,o.scrollTo(n)}}}const ae=G((()=>{const e=M(),t=M(),n=O(0),o=M(),r=O(0),i=M(),s=M(),a=O(0),l=O(0),c=O(0),u=O(0),d=M(),f=M(),m=O(!1);return I(A(e,H((({scrollTop:e})=>e))),t),I(A(e,H((({scrollHeight:e})=>e))),s),I(t,r),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:a,fixedHeaderHeight:l,fixedFooterHeight:c,footerHeight:u,scrollHeight:s,smoothScrollTargetReached:o,scrollTo:d,scrollBy:f,statefulScrollTop:r,deviation:n,scrollingInProgress:m}}),[],{singleton:!0}),le={lvl:0};function ce(e,t,n,o=le,r=le){return{k:e,v:t,lvl:n,l:o,r:r}}function ue(e){return e===le}function de(){return le}function fe(e,t){if(ue(e))return le;const{k:n,l:o,r:r}=e;if(t===n){if(ue(o))return r;if(ue(r))return o;{const[t,n]=ye(o);return Ce(be(e,{k:t,v:n,l:we(o)}))}}return Ce(be(e,t<n?{l:fe(o,t)}:{r:fe(r,t)}))}function me(e,t){if(!ue(e))return t===e.k?e.v:t<e.k?me(e.l,t):me(e.r,t)}function pe(e,t,n="k"){if(ue(e))return[-1/0,void 0];if(Number(e[n])===t)return[e.k,e.v];if(Number(e[n])<t){const o=pe(e.r,t,n);return o[0]===-1/0?[e.k,e.v]:o}return pe(e.l,t,n)}function he(e,t,n){return ue(e)?ce(t,n,1):t===e.k?be(e,{k:t,v:n}):t<e.k?xe(be(e,{l:he(e.l,t,n)})):xe(be(e,{r:he(e.r,t,n)}))}function ge(e,t,n){if(ue(e))return[];const{k:o,v:r,l:i,r:s}=e;let a=[];return o>t&&(a=a.concat(ge(i,t,n))),o>=t&&o<=n&&a.push({k:o,v:r}),o<=n&&(a=a.concat(ge(s,t,n))),a}function ve(e){return ue(e)?[]:[...ve(e.l),{k:e.k,v:e.v},...ve(e.r)]}function ye(e){return ue(e.r)?[e.k,e.v]:ye(e.r)}function we(e){return ue(e.r)?e.l:Ce(be(e,{r:we(e.r)}))}function be(e,t){return ce(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function Ee(e){return ue(e)||e.lvl>e.r.lvl}function xe(e){return Re(Ie(e))}function Ce(e){const{l:t,r:n,lvl:o}=e;if(n.lvl>=o-1&&t.lvl>=o-1)return e;if(o>n.lvl+1){if(Ee(t))return Ie(be(e,{lvl:o-1}));if(ue(t)||ue(t.r))throw new Error("Unexpected empty nodes");return be(t.r,{l:be(t,{r:t.r.l}),r:be(e,{l:t.r.r,lvl:o-1}),lvl:o})}if(Ee(e))return Re(be(e,{lvl:o-1}));if(ue(n)||ue(n.l))throw new Error("Unexpected empty nodes");{const t=n.l,r=Ee(t)?n.lvl-1:n.lvl;return be(t,{l:be(e,{r:t.l,lvl:o-1}),r:Re(be(n,{l:t.r,lvl:r})),lvl:t.lvl+1})}}function Te(e,t,n){if(ue(e))return[];const o=pe(e,t)[0];return Se(ge(e,o,n),(({k:e,v:t})=>({index:e,value:t})))}function Se(e,t){const n=e.length;if(0===n)return[];let{index:o,value:r}=t(e[0]);const i=[];for(let s=1;s<n;s++){const{index:n,value:a}=t(e[s]);i.push({start:o,end:n-1,value:r}),o=n,r=a}return i.push({start:o,end:1/0,value:r}),i}function Re(e){const{r:t,lvl:n}=e;return ue(t)||ue(t.r)||t.lvl!==n||t.r.lvl!==n?e:be(t,{l:be(e,{r:t.l}),lvl:n+1})}function Ie(e){const{l:t}=e;return ue(t)||t.lvl!==e.lvl?e:be(t,{r:be(e,{l:t.r})})}function ke(e,t,n,o=0){let r=e.length-1;for(;o<=r;){const i=Math.floor((o+r)/2),s=n(e[i],t);if(0===s)return i;if(-1===s){if(r-o<2)return i-1;r=i-1}else{if(r===o)return i;o=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function Me(e,t,n){return e[ke(e,t,n)]}const Oe=G((()=>({recalcInProgress:O(!1)})),[],{singleton:!0});function Pe(e){const{size:t,startIndex:n,endIndex:o}=e;return e=>e.start===n&&(e.end===o||e.end===1/0)&&e.value===t}function _e(e,t){let n=0,o=0;for(;n<e;)n+=t[o+1]-t[o]-1,o++;return o-(n===e?0:1)}function Ae({index:e},t){return t===e?0:t<e?-1:1}function De({offset:e},t){return t===e?0:t<e?-1:1}function Ne(e){return{index:e.index,value:e}}function Le(e,t,n,o=0){return o>0&&(t=Math.max(t,Me(e,o,Ae).offset)),Se(function(e,t,n,o){const r=ke(e,t,o),i=ke(e,n,o,r);return e.slice(r,i+1)}(e,t,n,De),Ne)}function He(e,t,n,o){let r=e,i=0,s=0,a=0,l=0;if(0!==t){l=ke(r,t-1,Ae);a=r[l].offset;const e=pe(n,t-1);i=e[0],s=e[1],r.length&&r[l].size===pe(n,t)[1]&&(l-=1),r=r.slice(0,l+1)}else r=[];for(const{start:c,value:u}of Te(n,t,1/0)){const e=c-i,t=e*s+a+e*o;r.push({offset:t,size:u,index:c}),i=c,a=t,s=u}return{offsetTree:r,lastIndex:i,lastOffset:a,lastSize:s}}function Fe(e,[t,n,o,r]){t.length>0&&o("received item sizes",t,X.DEBUG);const i=e.sizeTree;let s=i,a=0;if(n.length>0&&ue(i)&&2===t.length){const e=t[0].size,o=t[1].size;s=n.reduce(((t,n)=>he(he(t,n,e),n+1,o)),s)}else[s,a]=function(e,t){let n=ue(e)?0:1/0;for(const o of t){const{size:t,startIndex:r,endIndex:i}=o;if(n=Math.min(n,r),ue(e)){e=he(e,0,t);continue}const s=Te(e,r-1,i+1);if(s.some(Pe(o)))continue;let a=!1,l=!1;for(const{start:n,end:o,value:c}of s)a?(i>=n||t===c)&&(e=fe(e,n)):(l=c!==t,a=!0),o>i&&i>=n&&c!==t&&(e=he(e,i+1,c));l&&(e=he(e,r,t))}return[e,n]}(s,t);if(s===i)return e;const{offsetTree:l,lastIndex:c,lastSize:u,lastOffset:d}=He(e.offsetTree,a,s,r);return{sizeTree:s,offsetTree:l,lastIndex:c,lastOffset:d,lastSize:u,groupOffsetTree:n.reduce(((e,t)=>he(e,t,ze(t,l,r))),de()),groupIndices:n}}function ze(e,t,n){if(0===t.length)return 0;const{offset:o,index:r,size:i}=Me(t,e,Ae),s=e-r,a=i*s+(s-1)*n+o;return a>0?a+n:a}function Be(e,t,n){if(function(e){return"undefined"!==typeof e.groupIndex}(e))return t.groupIndices[e.groupIndex]+1;{let o=Ve("LAST"===e.index?n:e.index,t);return o=Math.max(0,o,Math.min(n,o)),o}}function Ve(e,t){if(!je(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function je(e){return!ue(e.groupOffsetTree)}const We={offsetHeight:"height",offsetWidth:"width"},$e=G((([{log:e},{recalcInProgress:t}])=>{const n=M(),o=M(),r=_(o,0),i=M(),s=M(),a=O(0),l=O([]),c=O(void 0),u=O(void 0),d=O(((e,t)=>re(e,We[t]))),f=O(void 0),m=O(0),p={offsetTree:[],sizeTree:de(),groupOffsetTree:de(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},h=_(A(n,W(l,e,m),z(Fe,p),N()),p),g=_(A(l,N(),z(((e,t)=>({prev:e.current,current:t})),{prev:[],current:[]}),H((({prev:e})=>e))),[]);I(A(l,L((e=>e.length>0)),W(h,m),H((([e,t,n])=>{const o=e.reduce(((e,o,r)=>he(e,o,ze(o,t.offsetTree,n)||r)),de());return{...t,groupIndices:e,groupOffsetTree:o}}))),h),I(A(o,W(h),L((([e,{lastIndex:t}])=>e<t)),H((([e,{lastIndex:t,lastSize:n}])=>[{startIndex:e,endIndex:t,size:n}]))),n),I(c,u);const v=_(A(c,H((e=>void 0===e))),!0);I(A(u,L((e=>void 0!==e&&ue(R(h).sizeTree))),H((e=>[{startIndex:0,endIndex:0,size:e}]))),n);const y=P(A(n,W(h),z((({sizes:e},[t,n])=>({changed:n!==e,sizes:n})),{changed:!1,sizes:p}),H((e=>e.changed))));C(A(a,z(((e,t)=>({diff:e.prev-t,prev:t})),{diff:0,prev:0}),H((e=>e.diff))),(e=>{const{groupIndices:n}=R(h);if(e>0)T(t,!0),T(i,e+_e(e,n));else if(e<0){const t=R(g);t.length>0&&(e-=_e(-e,t)),T(s,e)}})),C(A(a,W(e)),(([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:a},X.ERROR)}));const w=P(i);I(A(i,W(h),H((([e,t])=>{const n=t.groupIndices.length>0,o=[],r=t.lastSize;if(n){const n=me(t.sizeTree,0);let i=0,s=0;for(;i<e;){const e=t.groupIndices[s],a=t.groupIndices.length===s+1?1/0:t.groupIndices[s+1]-e-1;o.push({startIndex:e,endIndex:e,size:n}),o.push({startIndex:e+1,endIndex:e+1+a-1,size:r}),s++,i+=a+1}const a=ve(t.sizeTree);return i!==e&&a.shift(),a.reduce(((t,{k:n,v:o})=>{let r=t.ranges;return 0!==t.prevSize&&(r=[...t.ranges,{startIndex:t.prevIndex,endIndex:n+e-1,size:t.prevSize}]),{ranges:r,prevIndex:n+e,prevSize:o}}),{ranges:o,prevIndex:e,prevSize:0}).ranges}return ve(t.sizeTree).reduce(((t,{k:n,v:o})=>({ranges:[...t.ranges,{startIndex:t.prevIndex,endIndex:n+e-1,size:t.prevSize}],prevIndex:n+e,prevSize:o})),{ranges:[],prevIndex:0,prevSize:r}).ranges}))),n);const b=P(A(s,W(h,m),H((([e,{offsetTree:t},n])=>ze(-e,t,n)))));return I(A(s,W(h,m),H((([e,t,n])=>{if(t.groupIndices.length>0){if(ue(t.sizeTree))return t;let o=de();const r=R(g);let i=0,s=0,a=0;for(;i<-e;){a=r[s];const e=r[s+1]-a-1;s++,i+=e+1}o=ve(t.sizeTree).reduce(((t,{k:n,v:o})=>he(t,Math.max(0,n+e),o)),o);if(i!==-e){o=he(o,0,me(t.sizeTree,a));o=he(o,1,pe(t.sizeTree,1-e)[1])}return{...t,sizeTree:o,...He(t.offsetTree,0,o,n)}}{const o=ve(t.sizeTree).reduce(((t,{k:n,v:o})=>he(t,Math.max(0,n+e),o)),de());return{...t,sizeTree:o,...He(t.offsetTree,0,o,n)}}}))),h),{data:f,totalCount:o,sizeRanges:n,groupIndices:l,defaultItemSize:u,fixedItemSize:c,unshiftWith:i,shiftWith:s,shiftWithOffset:b,beforeUnshiftWith:w,firstItemIndex:a,gap:m,sizes:h,listRefresh:y,statefulTotalCount:r,trackItemSizes:v,itemSize:d}}),y(ee,Oe),{singleton:!0}),Ke="undefined"!==typeof document&&"scrollBehavior"in document.documentElement.style;function Ue(e){const t="number"===typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&Ke||(t.behavior="auto"),t.offset||(t.offset=0),t}const Ge=G((([{sizes:e,totalCount:t,listRefresh:n,gap:o},{scrollingInProgress:r,viewportHeight:i,scrollTo:s,smoothScrollTargetReached:a,headerHeight:l,footerHeight:c,fixedHeaderHeight:u,fixedFooterHeight:d},{log:f}])=>{const m=M(),p=M(),h=O(0);let g=null,v=null,y=null;function w(){g&&(g(),g=null),y&&(y(),y=null),v&&(clearTimeout(v),v=null),T(r,!1)}return I(A(m,W(e,i,t,h,l,c,f),W(o,u,d),H((([[e,t,o,i,s,l,c,u],d,f,h])=>{const b=Ue(e),{align:E,behavior:x,offset:S}=b,R=i-1,I=Be(b,t,R);let M=ze(I,t.offsetTree,d)+l;"end"===E?(M+=f+pe(t.sizeTree,I)[1]-o+h,I===R&&(M+=c)):"center"===E?M+=(f+pe(t.sizeTree,I)[1]-o+h)/2:M-=s,S&&(M+=S);const O=t=>{w(),t?(u("retrying to scroll to",{location:e},X.DEBUG),T(m,e)):(T(p,!0),u("list did not change, scroll successful",{},X.DEBUG))};if(w(),"smooth"===x){let e=!1;y=C(n,(t=>{e=e||t})),g=k(a,(()=>{O(e)}))}else g=k(A(n,(P=150,e=>{const t=setTimeout((()=>{e(!1)}),P);return n=>{n&&(e(!0),clearTimeout(t))}})),O);var P;return v=setTimeout((()=>{w()}),1200),T(r,!0),u("scrolling from index to",{index:I,top:M,behavior:x},X.DEBUG),{top:M,behavior:x}}))),s),{scrollToIndex:m,scrollTargetReached:p,topListHeight:h}}),y($e,ae,ee),{singleton:!0});const Ze="up",Ye="down",Je={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},qe=G((([{scrollContainerState:e,scrollTop:t,viewportHeight:n,headerHeight:o,footerHeight:r,scrollBy:i}])=>{const s=O(!1),a=O(!0),l=M(),c=M(),u=O(4),d=O(0),f=_(A($(A(K(t),B(1),F(!0)),A(K(t),B(1),F(!1),j(100))),N()),!1),m=_(A($(A(i,F(!0)),A(i,F(!1),j(200))),N()),!1);I(A(U(K(t),K(d)),H((([e,t])=>e<=t)),N()),a),I(A(a,V(50)),c);const p=P(A(U(e,K(n),K(o),K(r),K(u)),z(((e,[{scrollTop:t,scrollHeight:n},o,r,i,s])=>{const a={viewportHeight:o,scrollTop:t,scrollHeight:n};if(t+o-n>-s){let n,o;return t>e.state.scrollTop?(n="SCROLLED_DOWN",o=e.state.scrollTop-t):(n="SIZE_DECREASED",o=e.state.scrollTop-t||e.scrollTopDelta),{atBottom:!0,state:a,atBottomBecause:n,scrollTopDelta:o}}let l;return l=a.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":o<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":t<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:l,state:a}}),Je),N(((e,t)=>e&&e.atBottom===t.atBottom)))),h=_(A(e,z(((e,{scrollTop:t,scrollHeight:n,viewportHeight:o})=>{if(ie(e.scrollHeight,n))return{scrollTop:t,scrollHeight:n,jump:0,changed:!1};{const r=n-(t+o)<1;return e.scrollTop!==t&&r?{scrollHeight:n,scrollTop:t,jump:e.scrollTop-t,changed:!0}:{scrollHeight:n,scrollTop:t,jump:0,changed:!0}}}),{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),L((e=>e.changed)),H((e=>e.jump))),0);I(A(p,H((e=>e.atBottom))),s),I(A(s,V(50)),l);const g=O(Ye);I(A(e,H((({scrollTop:e})=>e)),N(),z(((e,t)=>R(m)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?Ze:Ye,prevScrollTop:t}),{direction:Ye,prevScrollTop:0}),H((e=>e.direction))),g),I(A(e,V(50),F("none")),g);const v=O(0);return I(A(f,L((e=>!e)),F(0)),v),I(A(t,V(100),W(f),L((([e,t])=>!!t)),z((([e,t],[n])=>[t,n]),[0,0]),H((([e,t])=>t-e))),v),{isScrolling:f,isAtTop:a,isAtBottom:s,atBottomState:p,atTopStateChange:c,atBottomStateChange:l,scrollDirection:g,atBottomThreshold:u,atTopThreshold:d,scrollVelocity:v,lastJumpDueToItemResize:h}}),y(ae)),Xe=G((([{log:e}])=>{const t=O(!1),n=P(A(t,L((e=>e)),N()));return C(t,(t=>{t&&R(e)("props updated",{},X.DEBUG)})),{propsReady:t,didMount:n}}),y(ee),{singleton:!0});function Qe(e,t){0==e?t():requestAnimationFrame((()=>Qe(e-1,t)))}function et(e,t){const n=t-1;return"number"===typeof e?e:"LAST"===e.index?n:e.index}const tt=G((([{sizes:e,listRefresh:t,defaultItemSize:n},{scrollTop:o},{scrollToIndex:r,scrollTargetReached:i},{didMount:s}])=>{const a=O(!0),l=O(0),c=O(!0);return I(A(s,W(l),L((([e,t])=>!!t)),F(!1)),a),I(A(s,W(l),L((([e,t])=>!!t)),F(!1)),c),C(A(U(t,s),W(a,e,n,c),L((([[,e],t,{sizeTree:n},o,r])=>e&&(!ue(n)||E(o))&&!t&&!r)),W(l)),(([,e])=>{k(i,(()=>{T(c,!0)})),Qe(3,(()=>{k(o,(()=>{T(a,!0)})),T(r,e)}))})),{scrolledToInitialItem:a,initialTopMostItemIndex:l,initialItemFinalLocationReached:c}}),y($e,ae,Ge,Xe),{singleton:!0});function nt(e){return!!e&&("smooth"===e?"smooth":"auto")}const ot=G((([{totalCount:e,listRefresh:t},{isAtBottom:n,atBottomState:o},{scrollToIndex:r},{scrolledToInitialItem:i},{propsReady:s,didMount:a},{log:l},{scrollingInProgress:c}])=>{const u=O(!1),d=M();let f=null;function m(e){T(r,{index:"LAST",align:"end",behavior:e})}function p(e){const t=k(o,(t=>{!e||t.atBottom||"SIZE_INCREASED"!==t.notAtBottomBecause||f||(R(l)("scrolling to bottom due to increased size",{},X.DEBUG),m("auto"))}));setTimeout(t,100)}return C(A(U(A(K(e),B(1)),a),W(K(u),n,i,c),H((([[e,t],n,o,r,i])=>{let s=t&&r,a="auto";return s&&(a=((e,t)=>"function"===typeof e?nt(e(t)):t&&nt(e))(n,o||i),s=s&&!!a),{totalCount:e,shouldFollow:s,followOutputBehavior:a}})),L((({shouldFollow:e})=>e))),(({totalCount:e,followOutputBehavior:n})=>{f&&(f(),f=null),f=k(t,(()=>{R(l)("following output to ",{totalCount:e},X.DEBUG),m(n),f=null}))})),C(A(U(K(u),e,s),L((([e,,t])=>e&&t)),z((({value:e},[,t])=>({refreshed:e===t,value:t})),{refreshed:!1,value:0}),L((({refreshed:e})=>e)),W(u,e)),(([,e])=>{R(i)&&p(!1!==e)})),C(d,(()=>{p(!1!==R(u))})),C(U(K(u),o),(([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&m("auto")})),{followOutput:u,autoscrollToBottom:d}}),y($e,qe,Ge,tt,Xe,ee,ae));function rt(e){return e.reduce(((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e)),{totalCount:0,groupIndices:[]})}const it=G((([{totalCount:e,groupIndices:t,sizes:n},{scrollTop:o,headerHeight:r}])=>{const i=M(),s=M(),a=P(A(i,H(rt)));return I(A(a,H((e=>e.totalCount))),e),I(A(a,H((e=>e.groupIndices))),t),I(A(U(o,n,r),L((([e,t])=>je(t))),H((([e,t,n])=>pe(t.groupOffsetTree,Math.max(e-n,0),"v")[0])),N(),H((e=>[e]))),s),{groupCounts:i,topItemsIndexes:s}}),y($e,ae));function st(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function at(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}const lt="top",ct="bottom",ut="none";function dt(e,t,n){return"number"===typeof e?n===Ze&&t===lt||n===Ye&&t===ct?e:0:n===Ze?t===lt?e.main:e.reverse:t===ct?e.main:e.reverse}function ft(e,t){return"number"===typeof e?e:e[t]||0}const mt=G((([{scrollTop:e,viewportHeight:t,deviation:n,headerHeight:o,fixedHeaderHeight:r}])=>{const i=M(),s=O(0),a=O(0),l=O(0);return{listBoundary:i,overscan:l,topListHeight:s,increaseViewportBy:a,visibleRange:_(A(U(K(e),K(t),K(o),K(i,st),K(l),K(s),K(r),K(n),K(a)),H((([e,t,n,[o,r],i,s,a,l,c])=>{const u=e-l,d=s+a,f=Math.max(n-u,0);let m=ut;const p=ft(c,lt),h=ft(c,ct);return o-=l,r+=n+a,(o+=n+a)>e+d-p&&(m=Ze),(r-=l)<e-f+t+h&&(m=Ye),m!==ut?[Math.max(u-n-dt(i,lt,m)-p,0),u-f-a+t+dt(i,ct,m)+h]:null})),L((e=>null!=e)),N(st)),[0,0])}}),y(ae),{singleton:!0});const pt={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function ht(e,t,n){if(0===e.length)return[];if(!je(t))return e.map((e=>({...e,index:e.index+n,originalIndex:e.index})));const o=e[0].index,r=e[e.length-1].index,i=[],s=Te(t.groupOffsetTree,o,r);let a,l=0;for(const c of e){let e;(!a||a.end<c.index)&&(a=s.shift(),l=t.groupIndices.indexOf(a.start)),e=c.index===a.start?{type:"group",index:l}:{index:c.index-(l+1)+n,groupIndex:l},i.push({...e,size:c.size,offset:c.offset,originalIndex:c.index,data:c.data})}return i}function gt(e,t,n,o,r,i){const{lastSize:s,lastOffset:a,lastIndex:l}=r;let c=0,u=0;if(e.length>0){c=e[0].offset;const t=e[e.length-1];u=t.offset+t.size}const d=n-l,f=c,m=a+d*s+(d-1)*o-u;return{items:ht(e,r,i),topItems:ht(t,r,i),topListHeight:t.reduce(((e,t)=>t.size+e),0),offsetTop:c,offsetBottom:m,top:f,bottom:u,totalCount:n,firstItemIndex:i}}function vt(e,t,n,o,r,i){let s=0;if(n.groupIndices.length>0)for(const c of n.groupIndices){if(c-s>=e)break;s++}const a=e+s,l=et(t,a);return gt(Array.from({length:a}).map(((e,t)=>({index:t+l,size:0,offset:0,data:i[t+l]}))),[],a,r,n,o)}const yt=G((([{sizes:e,totalCount:t,data:n,firstItemIndex:o,gap:r},i,{visibleRange:s,listBoundary:a,topListHeight:l},{scrolledToInitialItem:c,initialTopMostItemIndex:u},{topListHeight:d},f,{didMount:m},{recalcInProgress:p}])=>{const h=O([]),g=O(0),y=M();I(i.topItemsIndexes,h);const w=_(A(U(m,p,K(s,st),K(t),K(e),K(u),c,K(h),K(o),K(r),n),L((([e,t,,n,,,,,,,o])=>{const r=o&&o.length!==n;return e&&!t&&!r})),H((([,,[e,t],n,o,r,i,s,a,l,c])=>{const u=o,{sizeTree:d,offsetTree:f}=u,m=R(g);if(0===n)return{...pt,totalCount:n};if(0===e&&0===t)return 0===m?{...pt,totalCount:n}:vt(m,r,o,a,l,c||[]);if(ue(d)){if(m>0)return null;const e=gt(function(e,t,n){if(je(t)){const o=Ve(e,t);return[{index:pe(t.groupOffsetTree,o)[0],size:0,offset:0},{index:o,size:0,offset:0,data:n&&n[0]}]}return[{index:e,size:0,offset:0,data:n&&n[0]}]}(et(r,n),u,c),[],n,l,u,a);return e}const p=[];if(s.length>0){const e=s[0],t=s[s.length-1];let n=0;for(const o of Te(d,e,t)){const r=o.value,i=Math.max(o.start,e),s=Math.min(o.end,t);for(let e=i;e<=s;e++)p.push({index:e,size:r,offset:n,data:c&&c[e]}),n+=r}}if(!i)return gt([],p,n,l,u,a);const h=s.length>0?s[s.length-1]+1:0,y=Le(f,e,t,h);if(0===y.length)return null;const w=n-1;return gt(v([],(n=>{for(const o of y){const r=o.value;let i=r.offset,s=o.start;const a=r.size;if(r.offset<e){s+=Math.floor((e-r.offset+l)/(a+l));const t=s-o.start;i+=t*a+t*l}s<h&&(i+=(h-s)*a,s=h);const u=Math.min(o.end,w);for(let e=s;e<=u&&!(i>=t);e++)n.push({index:e,size:a,offset:i,data:c&&c[e]}),i+=a+l}})),p,n,l,u,a)})),L((e=>null!==e)),N()),pt);I(A(n,L(E),H((e=>null==e?void 0:e.length))),t),I(A(w,H((e=>e.topListHeight))),d),I(d,l),I(A(w,H((e=>[e.top,e.bottom]))),a),I(A(w,H((e=>e.items))),y);return{listState:w,topItemsIndexes:h,endReached:P(A(w,L((({items:e})=>e.length>0)),W(t,n),L((([{items:e},t])=>e[e.length-1].originalIndex===t-1)),H((([,e,t])=>[e-1,t])),N(st),H((([e])=>e)))),startReached:P(A(w,V(200),L((({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length)),H((({items:e})=>e[0].index)),N())),rangeChanged:P(A(w,L((({items:e})=>e.length>0)),H((({items:e})=>{let t=0,n=e.length-1;for(;"group"===e[t].type&&t<n;)t++;for(;"group"===e[n].type&&n>t;)n--;return{startIndex:e[t].index,endIndex:e[n].index}})),N(at))),itemsRendered:y,initialItemCount:g,...f}}),y($e,it,mt,tt,Ge,qe,Xe,Oe),{singleton:!0}),wt=G((([{sizes:e,firstItemIndex:t,data:n,gap:o},{initialTopMostItemIndex:r},{initialItemCount:i,listState:s},{didMount:a}])=>(I(A(a,W(i),L((([,e])=>0!==e)),W(r,e,t,o,n),H((([[,e],t,n,o,r,i=[]])=>vt(e,t,n,o,r,i)))),s),{})),y($e,tt,yt,Xe),{singleton:!0}),bt=G((([{scrollVelocity:e}])=>{const t=O(!1),n=M(),o=O(!1);return I(A(e,W(o,t,n),L((([e,t])=>!!t)),H((([e,t,n,o])=>{const{exit:r,enter:i}=t;if(n){if(r(e,o))return!1}else if(i(e,o))return!0;return n})),N()),t),C(A(U(t,e,n),W(o)),(([[e,t,n],o])=>e&&o&&o.change&&o.change(t,n))),{isSeeking:t,scrollSeekConfiguration:o,scrollVelocity:e,scrollSeekRangeChanged:n}}),y(qe),{singleton:!0}),Et=G((([{topItemsIndexes:e}])=>{const t=O(0);return I(A(t,L((e=>e>0)),H((e=>Array.from({length:e}).map(((e,t)=>t))))),e),{topItemCount:t}}),y(yt)),xt=G((([{footerHeight:e,headerHeight:t,fixedHeaderHeight:n,fixedFooterHeight:o},{listState:r}])=>{const i=M(),s=_(A(U(e,o,t,n,r),H((([e,t,n,o,r])=>e+t+n+o+r.offsetBottom+r.bottom))),0);return I(K(s),i),{totalListHeight:s,totalListHeightChanged:i}}),y(ae,yt),{singleton:!0});function Ct(e){let t,n=!1;return()=>(n||(n=!0,t=e()),t)}const Tt=Ct((()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent))),St=G((([{scrollBy:e,scrollTop:t,deviation:n,scrollingInProgress:o},{isScrolling:r,isAtBottom:i,scrollDirection:s,lastJumpDueToItemResize:a},{listState:l},{beforeUnshiftWith:c,shiftWithOffset:u,sizes:d,gap:f},{log:m},{recalcInProgress:p}])=>{const h=P(A(l,W(a),z((([,e,t,n],[{items:o,totalCount:r,bottom:i,offsetBottom:s},a])=>{const l=i+s;let c=0;if(t===r&&e.length>0&&o.length>0){0===o[0].originalIndex&&0===e[0].originalIndex||(c=l-n,0!==c&&(c+=a))}return[c,o,r,l]}),[0,[],0,0]),L((([e])=>0!==e)),W(t,s,o,i,m,p),L((([,e,t,n,,,o])=>!o&&!n&&0!==e&&t===Ze)),H((([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},X.DEBUG),e)))));function g(t){t>0?(T(e,{top:-t,behavior:"auto"}),T(n,0)):(T(n,0),T(e,{top:-t,behavior:"auto"}))}return C(A(h,W(n,r)),(([e,t,o])=>{o&&Tt()?T(n,t-e):g(-e)})),C(A(U(_(r,!1),n,p),L((([e,t,n])=>!e&&!n&&0!==t)),H((([e,t])=>t)),V(1)),g),I(A(u,H((e=>({top:-e})))),e),C(A(c,W(d,f),H((([e,{lastSize:t,groupIndices:n,sizeTree:o},r])=>{function i(e){return e*(t+r)}if(0===n.length)return i(e);{let t=0;const r=me(o,0);let s=0,a=0;for(;s<e;){s++,t+=r;let o=n.length===a+1?1/0:n[a+1]-n[a]-1;s+o>e&&(t-=r,o=e-s+1),s+=o,t+=i(o),a++}return t}}))),(t=>{T(n,t),requestAnimationFrame((()=>{T(e,{top:t}),requestAnimationFrame((()=>{T(n,0),T(p,!1)}))}))})),{deviation:n}}),y(ae,qe,yt,$e,ee,Oe)),Rt=G((([{didMount:e},{scrollTo:t},{listState:n}])=>{const o=O(0);return C(A(e,W(o),L((([,e])=>0!==e)),H((([,e])=>({top:e})))),(e=>{k(A(n,B(1),L((e=>e.items.length>1))),(()=>{requestAnimationFrame((()=>{T(t,e)}))}))})),{initialScrollTop:o}}),y(Xe,ae,yt),{singleton:!0}),It=G((([{viewportHeight:e},{totalListHeight:t}])=>{const n=O(!1);return{alignToBottom:n,paddingTopAddition:_(A(U(n,e,t),L((([e])=>e)),H((([,e,t])=>Math.max(0,e-t))),V(0),N()),0)}}),y(ae,xt),{singleton:!0}),kt=G((([{scrollTo:e,scrollContainerState:t}])=>{const n=M(),o=M(),r=M(),i=O(!1),s=O(void 0);return I(A(U(n,o),H((([{viewportHeight:e,scrollTop:t,scrollHeight:n},{offsetTop:o}])=>({scrollTop:Math.max(0,t-o),scrollHeight:n,viewportHeight:e})))),t),I(A(e,W(o),H((([e,{offsetTop:t}])=>({...e,top:e.top+t})))),r),{useWindowScroll:i,customScrollParent:s,windowScrollContainerState:n,windowViewportRect:o,windowScrollTo:r}}),y(ae)),Mt=({itemTop:e,itemBottom:t,viewportTop:n,viewportBottom:o,locationParams:{behavior:r,align:i,...s}})=>e<n?{...s,behavior:r,align:null!=i?i:"start"}:t>o?{...s,behavior:r,align:null!=i?i:"end"}:null,Ot=G((([{sizes:e,totalCount:t,gap:n},{scrollTop:o,viewportHeight:r,headerHeight:i,fixedHeaderHeight:s,fixedFooterHeight:a,scrollingInProgress:l},{scrollToIndex:c}])=>{const u=M();return I(A(u,W(e,r,t,i,s,a,o),W(n),H((([[e,t,n,o,r,i,s,a],c])=>{const{done:u,behavior:d,align:f,calculateViewLocation:m=Mt,...p}=e,h=Be(e,t,o-1),g=ze(h,t.offsetTree,c)+r+i,v=m({itemTop:g,itemBottom:g+pe(t.sizeTree,h)[1],viewportTop:a+i,viewportBottom:a+n-s,locationParams:{behavior:d,align:f,...p}});return v?u&&k(A(l,L((e=>!1===e)),B(R(l)?1:2)),u):u&&u(),v})),L((e=>null!==e))),c),{scrollIntoView:u}}),y($e,ae,Ge,yt,ee),{singleton:!0}),Pt=G((([{sizes:e,sizeRanges:t},{scrollTop:n},{initialTopMostItemIndex:o},{didMount:r},{useWindowScroll:i,windowScrollContainerState:s,windowViewportRect:a}])=>{const l=M(),c=O(void 0),u=O(null),d=O(null);return I(s,u),I(a,d),C(A(l,W(e,n,i,u,d)),(([e,t,n,o,r,i])=>{const s=ve(t.sizeTree).map((({k:e,v:t},n,o)=>{const r=o[n+1];return{startIndex:e,endIndex:r?r.k-1:1/0,size:t}}));o&&null!==r&&null!==i&&(n=r.scrollTop-i.offsetTop),e({ranges:s,scrollTop:n})})),I(A(c,L(E),H(_t)),o),I(A(r,W(c),L((([,e])=>void 0!==e)),N(),H((([,e])=>e.ranges))),t),{getState:l,restoreStateFrom:c}}),y($e,ae,tt,Xe,kt));function _t(e){return{offset:e.scrollTop,index:0,align:"start"}}const At=G((([e,t,n,o,r,i,s,a,l,c])=>({...e,...t,...n,...o,...r,...i,...s,...a,...l,...c})),y(mt,wt,Xe,bt,xt,Rt,It,kt,Ot,ee)),Dt=G((([{totalCount:e,sizeRanges:t,fixedItemSize:n,defaultItemSize:o,trackItemSizes:r,itemSize:i,data:s,firstItemIndex:a,groupIndices:l,statefulTotalCount:c,gap:u,sizes:d},{initialTopMostItemIndex:f,scrolledToInitialItem:m,initialItemFinalLocationReached:p},h,g,v,{listState:y,topItemsIndexes:w,...b},{scrollToIndex:E},x,{topItemCount:C},{groupCounts:T},S])=>(I(b.rangeChanged,S.scrollSeekRangeChanged),I(A(S.windowViewportRect,H((e=>e.visibleHeight))),h.viewportHeight),{totalCount:e,data:s,firstItemIndex:a,sizeRanges:t,initialTopMostItemIndex:f,scrolledToInitialItem:m,initialItemFinalLocationReached:p,topItemsIndexes:w,topItemCount:C,groupCounts:T,fixedItemHeight:n,defaultItemHeight:o,gap:u,...v,statefulTotalCount:c,listState:y,scrollToIndex:E,trackItemSizes:r,itemSize:i,groupIndices:l,...b,...S,...h,sizes:d,...g})),y($e,tt,ae,Pt,ot,yt,Ge,St,Et,it,At)),Nt="-webkit-sticky",Lt="sticky",Ht=Ct((()=>{if("undefined"===typeof document)return Lt;const e=document.createElement("div");return e.style.position=Nt,e.style.position===Nt?Nt:Lt}));function Ft(e,t){const n=r.useRef(null),o=r.useCallback((o=>{if(null===o||!o.offsetParent)return;const r=o.getBoundingClientRect(),i=r.width;let s,a;if(t){const e=t.getBoundingClientRect(),n=r.top-e.top;s=e.height-Math.max(0,n),a=n+t.scrollTop}else s=window.innerHeight-Math.max(0,r.top),a=r.top+window.pageYOffset;n.current={offsetTop:a,visibleHeight:s,visibleWidth:i},e(n.current)}),[e,t]),{callbackRef:i,ref:s}=te(o),a=r.useCallback((()=>{o(s.current)}),[o,s]);return r.useEffect((()=>{if(t){t.addEventListener("scroll",a);const e=new ResizeObserver((()=>{requestAnimationFrame(a)}));return e.observe(t),()=>{t.removeEventListener("scroll",a),e.unobserve(t)}}return window.addEventListener("scroll",a),window.addEventListener("resize",a),()=>{window.removeEventListener("scroll",a),window.removeEventListener("resize",a)}}),[a,t]),i}const zt=r.createContext(void 0),Bt=r.createContext(void 0);function Vt(e){return e}const jt=G((([e,t])=>({...e,...t})),y(Dt,G((()=>{const e=O((e=>`Item ${e}`)),t=O(null),n=O((e=>`Group ${e}`)),o=O({}),r=O(Vt),i=O("div"),s=O(x),a=(e,t=null)=>_(A(o,H((t=>t[e])),N()),t);return{context:t,itemContent:e,groupContent:n,components:o,computeItemKey:r,headerFooterTag:i,scrollerRef:s,FooterComponent:a("Footer"),HeaderComponent:a("Header"),TopItemListComponent:a("TopItemList"),ListComponent:a("List","div"),ItemComponent:a("Item","div"),GroupComponent:a("Group","div"),ScrollerComponent:a("Scroller","div"),EmptyPlaceholder:a("EmptyPlaceholder"),ScrollSeekPlaceholder:a("ScrollSeekPlaceholder")}})))),Wt=({height:e})=>r.createElement("div",{style:{height:e}}),$t={position:Ht(),zIndex:1,overflowAnchor:"none"},Kt={overflowAnchor:"none"},Ut=r.memo((function({showTopList:e=!1}){const t=cn("listState"),n=ln("sizeRanges"),o=cn("useWindowScroll"),i=cn("customScrollParent"),s=ln("windowScrollContainerState"),a=ln("scrollContainerState"),l=i||o?s:a,c=cn("itemContent"),u=cn("context"),d=cn("groupContent"),f=cn("trackItemSizes"),m=cn("itemSize"),p=cn("log"),h=ln("gap"),{callbackRef:g}=oe(n,m,f,e?x:l,p,h,i),[v,y]=r.useState(0);un("deviation",(e=>{v!==e&&y(e)}));const w=cn("EmptyPlaceholder"),b=cn("ScrollSeekPlaceholder")||Wt,E=cn("ListComponent"),C=cn("ItemComponent"),T=cn("GroupComponent"),S=cn("computeItemKey"),R=cn("isSeeking"),I=cn("groupIndices").length>0,k=cn("alignToBottom"),M=cn("initialItemFinalLocationReached"),O=e?{}:{boxSizing:"border-box",paddingTop:t.offsetTop,paddingBottom:t.offsetBottom,marginTop:0!==v?v:k?"auto":0,...M?{}:{visibility:"hidden"}};return!e&&0===t.totalCount&&w?r.createElement(w,Jt(w,u)):r.createElement(E,{...Jt(E,u),ref:g,style:O,"data-test-id":e?"virtuoso-top-item-list":"virtuoso-item-list"},(e?t.topItems:t.items).map((e=>{const n=e.originalIndex,o=S(n+t.firstItemIndex,e.data,u);return R?r.createElement(b,{...Jt(b,u),key:o,index:e.index,height:e.size,type:e.type||"item",..."group"===e.type?{}:{groupIndex:e.groupIndex}}):"group"===e.type?r.createElement(T,{...Jt(T,u),key:o,"data-index":n,"data-known-size":e.size,"data-item-index":e.index,style:$t},d(e.index,u)):r.createElement(C,{...Jt(C,u),...qt(C,e.data),key:o,"data-index":n,"data-known-size":e.size,"data-item-index":e.index,"data-item-group-index":e.groupIndex,style:Kt},I?c(e.index,e.groupIndex,e.data,u):c(e.index,e.data,u))})))})),Gt={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Zt=e=>({width:"100%",height:"100%",position:"absolute",top:0,...e?{display:"flex",flexDirection:"column"}:{}}),Yt={width:"100%",position:Ht(),top:0,zIndex:1};function Jt(e,t){if("string"!==typeof e)return{context:t}}function qt(e,t){return{item:"string"===typeof e?void 0:t}}const Xt=r.memo((function(){const e=cn("HeaderComponent"),t=ln("headerHeight"),n=cn("headerFooterTag"),o=ne((e=>t(re(e,"height")))),i=cn("context");return e?r.createElement(n,{ref:o},r.createElement(e,Jt(e,i))):null})),Qt=r.memo((function(){const e=cn("FooterComponent"),t=ln("footerHeight"),n=cn("headerFooterTag"),o=ne((e=>t(re(e,"height")))),i=cn("context");return e?r.createElement(n,{ref:o},r.createElement(e,Jt(e,i))):null}));function en({usePublisher:e,useEmitter:t,useEmitterValue:n}){return r.memo((function({style:o,children:i,...s}){const a=e("scrollContainerState"),l=n("ScrollerComponent"),c=e("smoothScrollTargetReached"),u=n("scrollerRef"),d=n("context"),{scrollerRef:f,scrollByCallback:m,scrollToCallback:p}=se(a,c,l,u);return t("scrollTo",p),t("scrollBy",m),r.createElement(l,{ref:f,style:{...Gt,...o},"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...s,...Jt(l,d)},i)}))}function tn({usePublisher:e,useEmitter:t,useEmitterValue:n}){return r.memo((function({style:o,children:i,...s}){const a=e("windowScrollContainerState"),l=n("ScrollerComponent"),c=e("smoothScrollTargetReached"),u=n("totalListHeight"),d=n("deviation"),f=n("customScrollParent"),m=n("context"),{scrollerRef:p,scrollByCallback:h,scrollToCallback:g}=se(a,c,l,x,f);return q((()=>(p.current=f||window,()=>{p.current=null})),[p,f]),t("windowScrollTo",g),t("scrollBy",h),r.createElement(l,{style:{position:"relative",...o,...0!==u?{height:u+d}:{}},"data-virtuoso-scroller":!0,...s,...Jt(l,m)},i)}))}const nn=({children:e})=>{const t=r.useContext(zt),n=ln("viewportHeight"),o=ln("fixedItemHeight"),i=cn("alignToBottom"),s=ne(m(n,(e=>re(e,"height"))));return r.useEffect((()=>{t&&(n(t.viewportHeight),o(t.itemHeight))}),[t,n,o]),r.createElement("div",{style:Zt(i),ref:s,"data-viewport-type":"element"},e)},on=({children:e})=>{const t=r.useContext(zt),n=ln("windowViewportRect"),o=ln("fixedItemHeight"),i=cn("customScrollParent"),s=Ft(n,i),a=cn("alignToBottom");return r.useEffect((()=>{t&&(o(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))}),[t,n,o]),r.createElement("div",{ref:s,style:Zt(a),"data-viewport-type":"window"},e)},rn=({children:e})=>{const t=cn("TopItemListComponent")||"div",n=cn("headerHeight"),o={...Yt,marginTop:`${n}px`},i=cn("context");return r.createElement(t,{style:o,...Jt(t,i)},e)},sn=r.memo((function(e){const t=cn("useWindowScroll"),n=cn("topItemsIndexes").length>0,o=cn("customScrollParent"),i=o||t?fn:dn,s=o||t?on:nn;return r.createElement(i,{...e},n&&r.createElement(rn,null,r.createElement(Ut,{showTopList:!0})),r.createElement(s,null,r.createElement(Xt,null),r.createElement(Ut,null),r.createElement(Qt,null)))})),{Component:an,usePublisher:ln,useEmitterValue:cn,useEmitter:un}=J(jt,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},sn),dn=en({usePublisher:ln,useEmitterValue:cn,useEmitter:un}),fn=tn({usePublisher:ln,useEmitterValue:cn,useEmitter:un}),mn=an,pn={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},hn={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:gn,ceil:vn,floor:yn,min:wn,max:bn}=Math;function En(e,t,n){return Array.from({length:t-e+1}).map(((t,o)=>{const r=null===n?null:n[o+e];return{index:o+e,data:r}}))}function xn(e,t){return e&&e.column===t.column&&e.row===t.row}function Cn(e,t){return e&&e.width===t.width&&e.height===t.height}const Tn=G((([{overscan:e,visibleRange:t,listBoundary:n},{scrollTop:o,viewportHeight:r,scrollBy:i,scrollTo:s,smoothScrollTargetReached:a,scrollContainerState:l,footerHeight:c,headerHeight:u},d,f,{propsReady:m,didMount:p},{windowViewportRect:h,useWindowScroll:g,customScrollParent:v,windowScrollContainerState:y,windowScrollTo:w},b])=>{const E=O(0),x=O(0),S=O(pn),R=O({height:0,width:0}),D=O({height:0,width:0}),z=M(),j=M(),$=O(0),G=O(null),Z=O({row:0,column:0}),Y=M(),J=M(),q=O(!1),X=O(0),Q=O(!0),ee=O(!1);C(A(p,W(X),L((([e,t])=>!!t))),(()=>{T(Q,!1),T(x,0)})),C(A(U(p,Q,D,R,X,ee),L((([e,t,n,o,,r])=>e&&!t&&0!==n.height&&0!==o.height&&!r))),(([,,,,e])=>{T(ee,!0),Qe(1,(()=>{T(z,e)})),k(A(o),(()=>{T(n,[0,0]),T(Q,!0)}))})),I(A(J,L((e=>void 0!==e&&null!==e&&e.scrollTop>0)),F(0)),x),C(A(p,W(J),L((([,e])=>void 0!==e&&null!==e))),(([,e])=>{e&&(T(R,e.viewport),T(D,null==e?void 0:e.item),T(Z,e.gap),e.scrollTop>0&&(T(q,!0),k(A(o,B(1)),(e=>{T(q,!1)})),T(s,{top:e.scrollTop})))})),I(A(R,H((({height:e})=>e))),r),I(A(U(K(R,Cn),K(D,Cn),K(Z,((e,t)=>e&&e.column===t.column&&e.row===t.row)),K(o)),H((([e,t,n,o])=>({viewport:e,item:t,gap:n,scrollTop:o})))),Y),I(A(U(K(E),t,K(Z,xn),K(D,Cn),K(R,Cn),K(G),K(x),K(q),K(Q),K(X)),L((([,,,,,,,e])=>!e)),H((([e,[t,n],o,r,i,s,a,,l,c])=>{const{row:u,column:d}=o,{height:f,width:m}=r,{width:p}=i;if(0===a&&(0===e||0===p))return pn;if(0===m){const t=et(c,e);return function(e){return{...hn,items:e}}(En(t,0===t?Math.max(a-1,0):t,s))}const h=In(p,m,d);let g,v;l?0===t&&0===n&&a>0?(g=0,v=a-1):(g=h*yn((t+u)/(f+u)),v=h*vn((n+u)/(f+u))-1,v=wn(e-1,bn(v,h-1)),g=wn(v,bn(0,g))):(g=0,v=-1);const y=En(g,v,s),{top:w,bottom:b}=Sn(i,o,r,y),E=vn(e/h);return{items:y,offsetTop:w,offsetBottom:E*f+(E-1)*u-b,top:w,bottom:b,itemHeight:f,itemWidth:m}}))),S),I(A(G,L((e=>null!==e)),H((e=>e.length))),E),I(A(U(R,D,S,Z),L((([e,t,{items:n}])=>n.length>0&&0!==t.height&&0!==e.height)),H((([e,t,{items:n},o])=>{const{top:r,bottom:i}=Sn(e,o,t,n);return[r,i]})),N(st)),n);const te=O(!1);I(A(o,W(te),H((([e,t])=>t||0!==e))),te);const ne=P(A(K(S),L((({items:e})=>e.length>0)),W(E,te),L((([{items:e},t,n])=>n&&e[e.length-1].index===t-1)),H((([,e])=>e-1)),N())),oe=P(A(K(S),L((({items:e})=>e.length>0&&0===e[0].index)),F(0),N())),re=P(A(K(S),W(q),L((([{items:e},t])=>e.length>0&&!t)),H((([{items:e}])=>({startIndex:e[0].index,endIndex:e[e.length-1].index}))),N(at),V(0)));I(re,f.scrollSeekRangeChanged),I(A(z,W(R,D,E,Z),H((([e,t,n,o,r])=>{const i=Ue(e),{align:s,behavior:a,offset:l}=i;let c=i.index;"LAST"===c&&(c=o-1),c=bn(0,c,wn(o-1,c));let u=Rn(t,r,n,c);return"end"===s?u=gn(u-t.height+n.height):"center"===s&&(u=gn(u-t.height/2+n.height/2)),l&&(u+=l),{top:u,behavior:a}}))),s);const ie=_(A(S,H((e=>e.offsetBottom+e.bottom))),0);return I(A(h,H((e=>({width:e.visibleWidth,height:e.visibleHeight})))),R),{data:G,totalCount:E,viewportDimensions:R,itemDimensions:D,scrollTop:o,scrollHeight:j,overscan:e,scrollBy:i,scrollTo:s,scrollToIndex:z,smoothScrollTargetReached:a,windowViewportRect:h,windowScrollTo:w,useWindowScroll:g,customScrollParent:v,windowScrollContainerState:y,deviation:$,scrollContainerState:l,footerHeight:c,headerHeight:u,initialItemCount:x,gap:Z,restoreStateFrom:J,...f,initialTopMostItemIndex:X,gridState:S,totalListHeight:ie,...d,startReached:oe,endReached:ne,rangeChanged:re,stateChanged:Y,propsReady:m,stateRestoreInProgress:q,...b}}),y(mt,ae,qe,bt,Xe,kt,ee));function Sn(e,t,n,o){const{height:r}=n;if(void 0===r||0===o.length)return{top:0,bottom:0};return{top:Rn(e,t,n,o[0].index),bottom:Rn(e,t,n,o[o.length-1].index)+r}}function Rn(e,t,n,o){const r=In(e.width,n.width,t.column),i=yn(o/r),s=i*n.height+bn(0,i-1)*t.row;return s>0?s+t.row:s}function In(e,t,n){return bn(1,yn((e+n)/(yn(t)+n)))}const kn=G((([e,t])=>({...e,...t})),y(Tn,G((()=>{const e=O((e=>`Item ${e}`)),t=O({}),n=O(null),o=O("virtuoso-grid-item"),r=O("virtuoso-grid-list"),i=O(Vt),s=O("div"),a=O(x),l=(e,n=null)=>_(A(t,H((t=>t[e])),N()),n);return{context:n,itemContent:e,components:t,computeItemKey:i,itemClassName:o,listClassName:r,headerFooterTag:s,scrollerRef:a,FooterComponent:l("Footer"),HeaderComponent:l("Header"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),ScrollerComponent:l("Scroller","div"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}})))),Mn=r.memo((function(){const e=Hn("gridState"),t=Hn("listClassName"),n=Hn("itemClassName"),o=Hn("itemContent"),i=Hn("computeItemKey"),s=Hn("isSeeking"),a=Ln("scrollHeight"),l=Hn("ItemComponent"),c=Hn("ListComponent"),u=Hn("ScrollSeekPlaceholder"),d=Hn("context"),f=Ln("itemDimensions"),m=Ln("gap"),p=Hn("log"),h=Hn("stateRestoreInProgress"),g=ne((e=>{const t=e.parentElement.parentElement.scrollHeight;a(t);const n=e.firstChild;if(n){const{width:e,height:t}=n.getBoundingClientRect();f({width:e,height:t})}m({row:Vn("row-gap",getComputedStyle(e).rowGap,p),column:Vn("column-gap",getComputedStyle(e).columnGap,p)})}));return h?null:r.createElement(c,{ref:g,className:t,...Jt(c,d),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-test-id":"virtuoso-item-list"},e.items.map((t=>{const a=i(t.index,t.data,d);return s?r.createElement(u,{key:a,...Jt(u,d),index:t.index,height:e.itemHeight,width:e.itemWidth}):r.createElement(l,{...Jt(l,d),className:n,"data-index":t.index,key:a},o(t.index,t.data,d))})))})),On=r.memo((function(){const e=Hn("HeaderComponent"),t=Ln("headerHeight"),n=Hn("headerFooterTag"),o=ne((e=>t(re(e,"height")))),i=Hn("context");return e?r.createElement(n,{ref:o},r.createElement(e,Jt(e,i))):null})),Pn=r.memo((function(){const e=Hn("FooterComponent"),t=Ln("footerHeight"),n=Hn("headerFooterTag"),o=ne((e=>t(re(e,"height")))),i=Hn("context");return e?r.createElement(n,{ref:o},r.createElement(e,Jt(e,i))):null})),_n=({children:e})=>{const t=r.useContext(Bt),n=Ln("itemDimensions"),o=Ln("viewportDimensions"),i=ne((e=>{o(e.getBoundingClientRect())}));return r.useEffect((()=>{t&&(o({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))}),[t,o,n]),r.createElement("div",{style:Zt(!1),ref:i},e)},An=({children:e})=>{const t=r.useContext(Bt),n=Ln("windowViewportRect"),o=Ln("itemDimensions"),i=Hn("customScrollParent"),s=Ft(n,i);return r.useEffect((()=>{t&&(o({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))}),[t,n,o]),r.createElement("div",{ref:s,style:Zt(!1)},e)},Dn=r.memo((function({...e}){const t=Hn("useWindowScroll"),n=Hn("customScrollParent"),o=n||t?Bn:zn,i=n||t?An:_n;return r.createElement(o,{...e},r.createElement(i,null,r.createElement(On,null),r.createElement(Mn,null),r.createElement(Pn,null)))})),{Component:Nn,usePublisher:Ln,useEmitterValue:Hn,useEmitter:Fn}=J(kn,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged"}},Dn),zn=en({usePublisher:Ln,useEmitterValue:Hn,useEmitter:Fn}),Bn=tn({usePublisher:Ln,useEmitterValue:Hn,useEmitter:Fn});function Vn(e,t,n){return"normal"===t||(null==t?void 0:t.endsWith("px"))||n(`${e} was not resolved to pixel value correctly`,t,X.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}const jn=G((([e,t])=>({...e,...t})),y(Dt,G((()=>{const e=O((e=>r.createElement("td",null,"Item $",e))),t=O(null),n=O(null),o=O(null),i=O({}),s=O(Vt),a=O(x),l=(e,t=null)=>_(A(i,H((t=>t[e])),N()),t);return{context:t,itemContent:e,fixedHeaderContent:n,fixedFooterContent:o,components:i,computeItemKey:s,scrollerRef:a,TableComponent:l("Table","table"),TableHeadComponent:l("TableHead","thead"),TableFooterComponent:l("TableFoot","tfoot"),TableBodyComponent:l("TableBody","tbody"),TableRowComponent:l("TableRow","tr"),ScrollerComponent:l("Scroller","div"),EmptyPlaceholder:l("EmptyPlaceholder"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),FillerRow:l("FillerRow")}})))),Wn=({height:e})=>r.createElement("tr",null,r.createElement("td",{style:{height:e}})),$n=({height:e})=>r.createElement("tr",null,r.createElement("td",{style:{height:e,padding:0,border:0}})),Kn={overflowAnchor:"none"},Un=r.memo((function(){const e=Xn("listState"),t=qn("sizeRanges"),n=Xn("useWindowScroll"),o=Xn("customScrollParent"),i=qn("windowScrollContainerState"),s=qn("scrollContainerState"),a=o||n?i:s,l=Xn("itemContent"),c=Xn("trackItemSizes"),u=Xn("itemSize"),d=Xn("log"),{callbackRef:f,ref:m}=oe(t,u,c,a,d,void 0,o),[p,h]=r.useState(0);Qn("deviation",(e=>{p!==e&&(m.current.style.marginTop=`${e}px`,h(e))}));const g=Xn("EmptyPlaceholder"),v=Xn("ScrollSeekPlaceholder")||Wn,y=Xn("FillerRow")||$n,w=Xn("TableBodyComponent"),b=Xn("TableRowComponent"),E=Xn("computeItemKey"),x=Xn("isSeeking"),C=Xn("paddingTopAddition"),T=Xn("firstItemIndex"),S=Xn("statefulTotalCount"),R=Xn("context");if(0===S&&g)return r.createElement(g,Jt(g,R));const I=e.offsetTop+C+p,k=e.offsetBottom,M=I>0?r.createElement(y,{height:I,key:"padding-top",context:R}):null,O=k>0?r.createElement(y,{height:k,key:"padding-bottom",context:R}):null,P=e.items.map((e=>{const t=e.originalIndex,n=E(t+T,e.data,R);return x?r.createElement(v,{...Jt(v,R),key:n,index:e.index,height:e.size,type:e.type||"item"}):r.createElement(b,{...Jt(b,R),...qt(b,e.data),key:n,"data-index":t,"data-known-size":e.size,"data-item-index":e.index,style:Kn},l(e.index,e.data,R))}));return r.createElement(w,{ref:f,"data-test-id":"virtuoso-item-list",...Jt(w,R)},[M,...P,O])})),Gn=({children:e})=>{const t=r.useContext(zt),n=qn("viewportHeight"),o=qn("fixedItemHeight"),i=ne(m(n,(e=>re(e,"height"))));return r.useEffect((()=>{t&&(n(t.viewportHeight),o(t.itemHeight))}),[t,n,o]),r.createElement("div",{style:Zt(!1),ref:i,"data-viewport-type":"element"},e)},Zn=({children:e})=>{const t=r.useContext(zt),n=qn("windowViewportRect"),o=qn("fixedItemHeight"),i=Xn("customScrollParent"),s=Ft(n,i);return r.useEffect((()=>{t&&(o(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))}),[t,n,o]),r.createElement("div",{ref:s,style:Zt(!1),"data-viewport-type":"window"},e)},Yn=r.memo((function(e){const t=Xn("useWindowScroll"),n=Xn("customScrollParent"),o=qn("fixedHeaderHeight"),i=qn("fixedFooterHeight"),s=Xn("fixedHeaderContent"),a=Xn("fixedFooterContent"),l=Xn("context"),c=ne(m(o,(e=>re(e,"height")))),u=ne(m(i,(e=>re(e,"height")))),d=n||t?to:eo,f=n||t?Zn:Gn,p=Xn("TableComponent"),h=Xn("TableHeadComponent"),g=Xn("TableFooterComponent"),v=s?r.createElement(h,{key:"TableHead",style:{zIndex:2,position:"sticky",top:0},ref:c,...Jt(h,l)},s()):null,y=a?r.createElement(g,{key:"TableFoot",style:{zIndex:1,position:"sticky",bottom:0},ref:u,...Jt(g,l)},a()):null;return r.createElement(d,{...e},r.createElement(f,null,r.createElement(p,{style:{borderSpacing:0,overflowAnchor:"none"},...Jt(p,l)},[v,r.createElement(Un,{key:"TableBody"}),y])))})),{Component:Jn,usePublisher:qn,useEmitterValue:Xn,useEmitter:Qn}=J(jn,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},Yn),eo=en({usePublisher:qn,useEmitterValue:Xn,useEmitter:Qn}),to=tn({usePublisher:qn,useEmitterValue:Xn,useEmitter:Qn});var no=n(67093);const oo=("undefined"!==typeof window?window.requestIdleCallback:null)??function(e,t){return setTimeout(e,Math.min(t?.timeout??1/0,100))},ro=("undefined"!==typeof window?window.cancelIdleCallback:null)??clearTimeout;const io=r["useTransition".toString()]??function(e){return[!1,e]},so={position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"};var ao=n(35180),lo=n(10893);const co=(0,r.createContext)(null);function uo(){const e=(0,r.useContext)(co);return(0,lo.nn)(e,"EmojiPicker.Root is missing from the React tree.")}var fo=n(33162);function mo(e,t){const n=[];for(let o=0,r=e.length;o<r;o+=t)n.push(e.slice(o,o+t));return n}const po="https://cdn.jsdelivr.net/npm/emojibase-data@15.3.0",ho=e=>`${po}/${e}/data.json`,go=e=>`${po}/${e}/messages.json`,vo=["bn","da","de","en","en-gb","es","es-mx","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","zh","zh-hant"],yo=e=>`lb-emoji-data-${e}`,wo=e=>`lb-emoji-metadata-${e}`,bo="lb-emoji-metadata",Eo=20;function xo(e,t){const n=[];for(let o=e;o<=t;o++)n.push(o);return n}function Co(e,t){const n=e.getItem(t);return n?JSON.parse(n):null}function To(e,t,n){e.setItem(t,JSON.stringify(n))}async function So(e){try{return(await fetch(e,{method:"HEAD"})).headers.get("etag")}catch(t){return null}}async function Ro(e){const{emojis:t,emojisEtag:n,messages:o,messagesEtag:r}=await async function(e){const[{emojis:t,emojisEtag:n},{messages:o,messagesEtag:r}]=await Promise.all([fetch(ho(e)).then((async e=>({emojis:await e.json(),emojisEtag:e.headers.get("etag")}))),fetch(go(e)).then((async e=>({messages:await e.json(),messagesEtag:e.headers.get("etag")})))]);return{emojis:t,messages:o,emojisEtag:n,messagesEtag:r}}(e),i=o.subgroups.find((e=>"subdivision-flag"===e.key)),s=o.groups.filter((e=>"component"!==e.key)),a=t.filter((e=>"group"in e)),l=s.map((e=>({key:e.order,name:(0,fo.k)(e.message)}))),c=o.skinTones.map((e=>({key:e.key,name:(0,fo.k)(e.message)}))),u={emojis:a.map((e=>{const t={emoji:e.emoji,category:e.group,version:e.version,name:(0,fo.k)(e.label),tags:e.tags};return i&&e.subgroup===i.order&&(t.countryFlag=!0),t})),categories:l,skinTones:c};return To(localStorage,yo(e),u),To(localStorage,wo(e),{emojisEtag:n,messagesEtag:r}),u}function Io(e,t){e.clearRect(0,0,40,25),e.fillStyle="#f00",e.fillText(t,0,22),e.fillStyle="#00f",e.fillText(t,Eo,22);const n=e.getImageData(0,0,Eo,25).data,o=n.length;let r=0;for(;r<o&&!n[r+3];r+=4);if(r>=o)return!1;const i=Eo+r/4%Eo,s=Math.floor(r/4/Eo),a=e.getImageData(i,s,1,1).data;return n[r]===a[0]&&n[r+2]===a[2]&&!(e.measureText(t).width>=Eo)}function ko(e){const t=new Map;for(const i of e)t.has(i.version)||t.set(i.version,i.emoji);const n=[...t.keys()].sort(((e,t)=>t-e)),o=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});if(!o)return{emojiVersion:n[0],countryFlags:!0};o.font=`${Math.floor(12.5)}px ${function(){try{const e=document.createElement("span");e.style.display="none",e.dataset.emoji="",document.body.appendChild(e);const t=window.getComputedStyle(e).fontFamily;return document.body.removeChild(e),t}catch{return s.rQ}}()}`,o.textBaseline="top",o.canvas.width=40,o.canvas.height=25;const r=Io(o,"\ud83c\uddeb\ud83c\uddf7");for(const i of n){if(Io(o,t.get(i)))return{emojiVersion:i,countryFlags:r}}return{emojiVersion:n[0],countryFlags:r}}async function Mo(e){const t=function(e){return vo.includes(e)?e:"en"}(e),n=Co(sessionStorage,bo),o=Co(localStorage,yo(t));let r;if(o)if(n)r=o;else{const{emojisEtag:e,messagesEtag:n}=await async function(e){const[t,n]=await Promise.all([So(ho(e)),So(go(e))]);return{emojisEtag:t,messagesEtag:n}}(t),i=Co(localStorage,wo(t));r=i&&e===i.emojisEtag&&n===i.messagesEtag?o:await Ro(t)}else r=await Ro(t);const i=n??ko(r.emojis);To(sessionStorage,bo,i);return{emojis:r.emojis.filter((e=>{const t=e.version<=i.emojiVersion;return e.countryFlag?t&&i.countryFlags:t})),categories:r.categories,skinTones:r.skinTones}}function Oo({columns:e=10,locale:t="en",onEmojiSelect:n,children:o}){const i=(0,r.useRef)(),s=(0,r.useRef)(""),[,a]=io(),[l,c]=(0,r.useState)(),[u,d]=(0,r.useState)(),[f,m]=(0,r.useState)(0),[p,h]=(0,r.useState)(0),[g,v]=(0,r.useState)("none"),y=(0,r.useCallback)((()=>{if(n){const e=l?.rows[p]?.[f];e&&n(e.emoji)}}),[l?.rows,n,f,p]),w=(0,r.useCallback)((()=>{m(0),h(0)}),[]),b=(0,r.useCallback)(((e,t)=>{v("pointer"),m(e),h(t)}),[]),E=(0,r.useCallback)(((e,t)=>{if(l)if(t.preventDefault(),"none"!==g)switch(v("keyboard"),e){case"left":if(0===f){const e=p-1,t=l.rows[e];t&&(h(e),m(t.length-1))}else m(f-1);break;case"right":{const e=l.rows[p];if(f===e.length-1){const e=p+1;l.rows[e]&&(h(e),m(0))}else m(f+1);break}case"up":{const e=l.rows[p-1];e&&(h(p-1),e[f]||m(e.length-1));break}case"down":{const e=l.rows[p+1];e&&(h(p+1),e[f]||m(e.length-1));break}}else v("keyboard")}),[l,g,f,p]),x=(0,r.useCallback)((()=>{i.current&&a((()=>{c((()=>{if(!i.current)return;const t=function(e,t){if(!t)return e;const n=t.toLowerCase().trim();return e.filter((e=>e.name.toLowerCase().includes(n)||e.tags?.some((e=>e.toLowerCase().includes(n)))))}(i.current.emojis,s.current);return function(e,t,n){let o=0;const r=[],i=e.map(((e,t)=>({...e,index:t}))),s=[],a=[],l=[],c=t.map((e=>({...e,emojis:i.filter((t=>t.category===e.key))}))).filter((e=>e.emojis.length>0));for(const u of c){const e=mo(u.emojis,n),t=o+e.length;r.push(...e),l.push(u.name),s.push(e.length),a.push(xo(o,t-1)),o=t}return{count:e.length,rows:r,categories:l,categoriesRowCounts:s,categoriesRowIndices:a}}(t,i.current.categories,e)})),w()}))}),[e,w]),C=(0,r.useCallback)((e=>{s.current=e,x()}),[x]),T=(0,r.useCallback)((async e=>{try{i.current=await Mo(e),x()}catch(t){d(t)}}),[x]);return(0,r.useEffect)((()=>{let e;const n=setTimeout((()=>{e=oo((()=>{T(t)}))}),100);return()=>{clearTimeout(n),ro(e)}}),[t]),(0,r.useEffect)((()=>{"none"===g&&w()}),[g]),r.createElement(co.Provider,{value:{data:l,error:u,isLoading:!l&&!u,columns:e,onSearch:C,onEmojiSelect:n,selectCurrentEmoji:y,selectedRowIndex:p,selectedColumnIndex:f,moveSelection:E,setPointerSelection:b,interaction:g,setInteraction:v}},o)}const Po=(0,r.forwardRef)((({asChild:e,value:t,defaultValue:n,onChange:o,...i},s)=>{const a=e?d.g7:"input",{onSearch:l,selectCurrentEmoji:c,moveSelection:u,interaction:f,setInteraction:m}=uo(),p=(0,r.useCallback)((e=>{if(o?.(e),e.isDefaultPrevented())return;const t=e.target.value;m(t?"keyboard":"none"),l(t)}),[o,l,m]),h=(0,r.useCallback)((e=>{e.isDefaultPrevented()||((0,no.o)(e,"ArrowLeft")?u("left",e):(0,no.o)(e,"ArrowRight")?u("right",e):(0,no.o)(e,"ArrowUp")?u("up",e):(0,no.o)(e,"ArrowDown")?u("down",e):(0,no.o)(e,"Enter")&&"none"!==f&&(e.preventDefault(),c()))}),[f,u,c]);return(0,r.useEffect)((()=>{l(t?String(t):n?String(n):"")}),[]),r.createElement(a,{type:"search",value:t,defaultValue:n,onChange:p,onKeyDown:h,...i,ref:s})})),_o={CategoryHeader:({category:e,...t})=>r.createElement("div",{...t},e),Row:({children:e,attributes:t,...n})=>r.createElement("div",{...n},e),Emoji:({emoji:e,...t})=>r.createElement("button",{...t},r.createElement(ao.d,{emoji:e})),Loading:e=>r.createElement("div",{...e}),Empty:e=>r.createElement("div",{...e}),Grid:e=>r.createElement("div",{...e}),Error:({error:e,...t})=>r.createElement("div",{...t})},Ao={rowIndex:-1,categoryRowIndex:-1,categoryRowsCount:0},Do=(0,r.forwardRef)((({children:e,...t},n)=>r.createElement("div",{...t,tabIndex:-1,"data-test-id":void 0,ref:n},e))),No=(0,r.forwardRef)((({children:e,...t},n)=>r.createElement("div",{...t,"data-test-id":void 0,ref:n},e))),Lo=(0,r.forwardRef)((({components:e,asChild:t,...n},o)=>{const i=t?d.g7:"div",s=(0,r.useRef)(null),{data:a,error:l,isLoading:c,columns:u,onEmojiSelect:f,selectedColumnIndex:m,selectedRowIndex:p,setPointerSelection:h,interaction:g,setInteraction:v}=uo(),y=(0,r.useMemo)((()=>a?.rows[p]?.[m]),[a?.rows,m,p]),{Loading:w,Empty:b,Error:E,CategoryHeader:x,Grid:C,Row:T,Emoji:S}=(0,r.useMemo)((()=>({..._o,...e})),[e]),R=(0,r.useMemo)((()=>(0,r.forwardRef)((({children:e,...t},n)=>r.createElement("div",{role:"grid","aria-colcount":u,...t,"data-test-id":void 0,ref:n},e)))),[u]),I=(0,r.useMemo)((()=>Array(u).fill("\ud83c\udf2b\ufe0f")),[u]),k=(0,r.useCallback)((e=>{e.preventDefault()}),[]),M=(0,r.useCallback)((()=>{"pointer"===g&&v("none")}),[g,v]);return(0,r.useEffect)((()=>{"keyboard"===g&&s.current?.scrollIntoView({index:p,behavior:"auto"})}),[g,p]),r.createElement(i,{...n,ref:o},r.createElement("div",{style:{visibility:"hidden",height:0}},r.createElement(T,{attributes:Ao},I.map(((e,t)=>r.createElement(S,{emoji:e,key:t}))))),c?r.createElement(w,null):l?r.createElement(E,{error:l}):0===a.count?r.createElement(b,null):r.createElement(C,null,r.createElement(mn,{ref:s,components:{Scroller:Do,List:R,TopItemList:No},groupCounts:a.categoriesRowCounts,groupContent:e=>r.createElement(x,{category:a.categories[e]}),itemContent:(e,t)=>{const n=a.categoriesRowIndices[t].indexOf(e),o=a.categoriesRowCounts[t];return r.createElement(T,{attributes:{rowIndex:e,categoryRowIndex:n,categoryRowsCount:o}},a.rows[e].map(((t,n)=>{const o="none"!==g&&m===n&&p===e;return r.createElement(S,{key:t.emoji,role:"gridcell","aria-colindex":n,"aria-selected":o||void 0,"data-selected":o||void 0,onMouseDown:k,tabIndex:-1,onPointerEnter:()=>{h(n,e)},onPointerLeave:M,onClick:e=>{f?.(t.emoji),e.stopPropagation()},emoji:t.emoji})})))}})),y&&"none"!==g&&r.createElement("div",{"aria-live":"polite",style:so},y.name))}));var Ho=n(20687),Fo=n(92288);function zo({className:e,...t}){return r.createElement("div",{className:(0,Ho.A)("lb-emoji-picker-loading",e),...t},r.createElement(c,null))}function Bo({className:e,...t}){const n=(0,u.QG)();return r.createElement("div",{className:(0,Ho.A)("lb-emoji-picker-empty",e),...t},n.EMOJI_PICKER_EMPTY)}function Vo({error:e,className:t,...n}){const o=(0,u.QG)();return r.createElement("div",{className:(0,Ho.A)("lb-emoji-picker-error",t),...n},o.EMOJI_PICKER_ERROR(e))}function jo({category:e,className:t,...n}){return r.createElement("div",{className:(0,Ho.A)("lb-emoji-picker-category-header",t),...n},r.createElement("span",{className:"lb-emoji-picker-category-header-title"},e))}function Wo({children:e,className:t,...n}){return r.createElement("div",{className:(0,Ho.A)("lb-emoji-picker-grid",t),...n},e)}function $o({attributes:e,children:t,className:n,...o}){const i=(0,r.useMemo)((()=>0===e.categoryRowIndex),[e.categoryRowIndex]),s=(0,r.useMemo)((()=>e.categoryRowIndex===e.categoryRowsCount-1),[e.categoryRowIndex,e.categoryRowsCount]);return r.createElement("div",{className:(0,Ho.A)("lb-emoji-picker-row",n),"data-first":i?"":void 0,"data-last":s?"":void 0,...o},t)}function Ko({emoji:e,className:t,...n}){return r.createElement("button",{className:(0,Ho.A)("lb-emoji-picker-emoji",t),...n},r.createElement(Fo.d,{emoji:e}))}const Uo=(0,r.forwardRef)((({onEmojiSelect:e,onOpenChange:t,children:n,className:a,...c},d)=>{const[f,m]=(0,r.useState)(!1),{portalContainer:p}=(0,i.Q)(),h=(0,u.QG)(),g=(0,r.useCallback)((e=>{m(e),t?.(e)}),[t]),v=(0,r.useCallback)((t=>{m(!1),e?.(t)}),[e]);return r.createElement(o.fC,{open:f,onOpenChange:g},n,r.createElement(o.h_,{container:p},r.createElement(o.VY,{side:"top",align:"center",sideOffset:s.v0,collisionPadding:s.rV,className:(0,Ho.A)("lb-root lb-portal lb-elevation lb-emoji-picker",a),...c,ref:d},r.createElement(Oo,{onEmojiSelect:v,locale:h.locale},r.createElement("div",{className:"lb-emoji-picker-header"},r.createElement("div",{className:"lb-emoji-picker-search-container"},r.createElement(Po,{className:"lb-emoji-picker-search",placeholder:h.EMOJI_PICKER_SEARCH_PLACEHOLDER,autoFocus:!0}),r.createElement(l,{className:"lb-emoji-picker-search-icon"}))),r.createElement(Lo,{className:"lb-emoji-picker-content",components:{Loading:zo,Empty:Bo,Error:Vo,CategoryHeader:jo,Grid:Wo,Row:$o,Emoji:Ko}})))))}))},67918:function(e,t,n){"use strict";n.d(t,{JO:function(){return a},XP:function(){return s},dO:function(){return i}});var o=n(67294),r=n(20687);const i=20,s=20;function a({children:e,className:t,...n}){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:s,viewBox:`0 0 ${i} ${s}`,fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",role:"presentation",className:(0,r.A)("lb-icon",t),...n},e)}},59433:function(e,t,n){"use strict";n.d(t,{mK:function(){return d},u:function(){return u},vw:function(){return f}});var o=n(10021),r=n(67294),i=n(33328),s=n(78398),a=n(20687),l=n(25316);const c={alt:()=>({title:"Alt",key:"\u2325"}),mod:()=>(0,l.m)()?{title:"Command",key:"\u2318"}:{title:"Ctrl",key:"\u2303"},shift:()=>({title:"Shift",key:"\u21e7"}),enter:()=>({title:"Enter",key:"\u23ce"})},u=(0,r.forwardRef)((({children:e,content:t,multiline:n,className:l,...c},u)=>{const{portalContainer:d}=(0,i.Q)();return r.createElement(o.fC,{disableHoverableContent:!0},r.createElement(o.xz,{asChild:!0,ref:u},e),r.createElement(o.h_,{container:d},r.createElement(o.VY,{className:(0,a.A)("lb-root lb-portal lb-tooltip",n&&"lb-tooltip:multiline",l),side:"top",align:"center",sideOffset:s.v0,collisionPadding:s.rV,...c},t)))})),d=(0,r.forwardRef)((({children:e,content:t,shortcut:n,...o},i)=>r.createElement(u,{content:r.createElement(r.Fragment,null,t,n&&r.createElement("kbd",{className:"lb-tooltip-shortcut"},n)),...o,ref:i},e)));function f({name:e,...t}){const{title:n,key:o}=(0,r.useMemo)((()=>c[e]?.()),[e]);return r.createElement("abbr",{title:n,...t},o)}},20644:function(e,t,n){"use strict";n.d(t,{n:function(){return c}});var o=n(10893),r=n(59904),i=n(67294),s=n(5322),a=n(33162),l=n(20687);function c({userId:e,replaceSelf:t,capitalize:n,className:c,...u}){const{useUser:d,[o.W_]:{useCurrentUserId:f}}=(0,r.O4)(),m=f(),{user:p,isLoading:h}=d(e),g=(0,s.QG)(),v=(0,i.useMemo)((()=>{const o=t&&m===e?g.USER_SELF:p?.name??g.USER_UNKNOWN;return n?(0,a.k)(o):o}),[t,m,e,g.USER_SELF,g.USER_UNKNOWN,p?.name,n]);return i.createElement("span",{className:(0,l.A)("lb-name lb-user",c),"data-loading":h?"":void 0,...u},h?null:v)}},33328:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var o=n(67294);const r=(0,o.createContext)({});function i(){return(0,o.useContext)(r)}},78398:function(e,t,n){"use strict";n.d(t,{rQ:function(){return i},rV:function(){return r},v0:function(){return o}});const o=6,r=10,i="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif"},5322:function(e,t,n){"use strict";n.d(t,{QG:function(){return l}});var o=n(67294),r=n(92288);function i(e,t,n){return 1===e?t:n??`${t}s`}const s={locale:"en",dir:"ltr",USER_SELF:"you",USER_UNKNOWN:"Anonymous",LIST_REMAINING:e=>`${e} more`,LIST_REMAINING_USERS:e=>`${e} ${i(e,"other")}`,LIST_REMAINING_COMMENTS:e=>`${e} more ${i(e,"comment")}`,EMOJI_PICKER_SEARCH_PLACEHOLDER:"Search\u2026",EMOJI_PICKER_EMPTY:"No emoji found.",EMOJI_PICKER_ERROR:()=>"There was an error while getting the list of emoji.",COMPOSER_INSERT_MENTION:"Mention someone",COMPOSER_INSERT_EMOJI:"Add emoji",COMPOSER_PLACEHOLDER:"Write a comment\u2026",COMPOSER_SEND:"Send",COMMENT_EDITED:"(edited)",COMMENT_DELETED:"This comment has been deleted.",COMMENT_MORE:"More",COMMENT_EDIT:"Edit comment",COMMENT_EDIT_COMPOSER_PLACEHOLDER:"Edit comment\u2026",COMMENT_EDIT_COMPOSER_CANCEL:"Cancel",COMMENT_EDIT_COMPOSER_SAVE:"Save",COMMENT_DELETE:"Delete comment",COMMENT_ADD_REACTION:"Add reaction",COMMENT_REACTION_LIST:(e,t)=>o.createElement(o.Fragment,null,e," reacted with ",o.createElement(r.d,{emoji:t})),COMMENT_REACTION_DESCRIPTION:(e,t)=>`${t} ${i(t,"reaction")}, react with ${e}`,THREAD_RESOLVE:"Resolve thread",THREAD_UNRESOLVE:"Re-open thread",THREAD_NEW_INDICATOR:"New",THREAD_NEW_INDICATOR_DESCRIPTION:"New comments",THREAD_COMPOSER_PLACEHOLDER:"Reply to thread\u2026",THREAD_COMPOSER_SEND:"Reply",INBOX_NOTIFICATION_MORE:"More",INBOX_NOTIFICATION_MARK_AS_READ:"Mark as read",INBOX_NOTIFICATION_THREAD_COMMENTS_LIST:(e,t)=>o.createElement(o.Fragment,null,e," commented",t?o.createElement(o.Fragment,null," in ",t):o.createElement(o.Fragment,null," in a thread")),INBOX_NOTIFICATION_THREAD_MENTION:(e,t)=>o.createElement(o.Fragment,null,e," mentioned you",t?o.createElement(o.Fragment,null," in ",t):null)},a=(0,o.createContext)(void 0);function l(e){const t=(0,o.useContext)(a);return(0,o.useMemo)((()=>({...s,...t,...e})),[t,e])}},78582:function(e,t,n){"use strict";function o(e){return"text"in e&&"string"===typeof e.text}function r(e){return"type"in e&&"mention"===e.type}function i(e){return"type"in e&&"link"===e.type}function s(e){return e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("www.")?"https://"+e:void 0}n.d(t,{BY:function(){return s},SA:function(){return r},y3:function(){return o},zq:function(){return i}})},8920:function(e,t,n){"use strict";n.d(t,{BZ:function(){return l},IA:function(){return i},Y8:function(){return u},_O:function(){return a},cR:function(){return s},xc:function(){return c}});var o=n(10893),r=n(67294);const i=(0,r.createContext)(null),s=(0,r.createContext)(null),a=(0,r.createContext)(null);function l(){const e=(0,r.useContext)(s);return(0,o.nn)(e,"Composer.Form is missing from the React tree.")}function c(){const e=(0,r.useContext)(i);return(0,o.nn)(e,"Composer.Form is missing from the React tree.")}function u(e="useComposerSuggestionsContext"){const t=(0,r.useContext)(a);return(0,o.nn)(t,`${e} can\u2019t be used outside of Composer.Editor.`)}},94523:function(e,t,n){"use strict";n.d(t,{ML:function(){return rt},l0:function(){return it},rU:function(){return Qe},pf:function(){return Xe},k4:function(){return st},Db:function(){return et},Yi:function(){return tt},m$:function(){return nt}});var o=n(71347);function r(e,t,n){let{reference:r,floating:i}=e;const s=(0,o.Qq)(t),a=(0,o.Wh)(t),l=(0,o.I4)(a),c=(0,o.k3)(t),u="y"===s,d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch((0,o.hp)(t)){case"start":p[a]-=m*(n&&u?-1:1);break;case"end":p[a]+=m*(n&&u?-1:1)}return p}async function i(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=(0,o.ku)(t,e),h=(0,o.yd)(p),g=l[m?"floating"===f?"reference":"floating":f],v=(0,o.JB)(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(g)))||n?g:g.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y="floating"===f?{...a.floating,x:r,y:i}:a.reference,w=await(null==s.getOffsetParent?void 0:s.getOffsetParent(l.floating)),b=await(null==s.isElement?void 0:s.isElement(w))&&await(null==s.getScale?void 0:s.getScale(w))||{x:1,y:1},E=(0,o.JB)(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(v.top-E.top+h.top)/b.y,bottom:(E.bottom-v.bottom+h.bottom)/b.y,left:(v.left-E.left+h.left)/b.x,right:(E.right-v.right+h.right)/b.x}}function s(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function a(e){return o.mA.some((t=>e[t]>=0))}var l=n(37317);function c(e){const t=(0,l.Dx)(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=(0,l.Re)(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,c=(0,o.NM)(n)!==s||(0,o.NM)(r)!==a;return c&&(n=s,r=a),{width:n,height:r,$:c}}function u(e){return(0,l.kK)(e)?e:e.contextElement}function d(e){const t=u(e);if(!(0,l.Re)(t))return(0,o.ze)(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=c(t);let a=(s?(0,o.NM)(n.width):n.width)/r,d=(s?(0,o.NM)(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),d&&Number.isFinite(d)||(d=1),{x:a,y:d}}const f=(0,o.ze)(0);function m(e){const t=(0,l.Jj)(e);return(0,l.Pf)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:f}function p(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),s=u(e);let a=(0,o.ze)(1);t&&(r?(0,l.kK)(r)&&(a=d(r)):a=d(e));const c=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==(0,l.Jj)(e))&&t}(s,n,r)?m(s):(0,o.ze)(0);let f=(i.left+c.x)/a.x,p=(i.top+c.y)/a.y,h=i.width/a.x,g=i.height/a.y;if(s){const e=(0,l.Jj)(s),t=r&&(0,l.kK)(r)?(0,l.Jj)(r):r;let n=e,o=n.frameElement;for(;o&&r&&t!==n;){const e=d(o),t=o.getBoundingClientRect(),r=(0,l.Dx)(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;f*=e.x,p*=e.y,h*=e.x,g*=e.y,f+=i,p+=s,n=(0,l.Jj)(o),o=n.frameElement}}return(0,o.JB)({width:h,height:g,x:f,y:p})}const h=[":popover-open",":modal"];function g(e){return h.some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function v(e){return p((0,l.tF)(e)).left+(0,l.Lw)(e).scrollLeft}function y(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=(0,l.Jj)(e),o=(0,l.tF)(e),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,a=0,c=0;if(r){i=r.width,s=r.height;const e=(0,l.Pf)();(!e||e&&"fixed"===t)&&(a=r.offsetLeft,c=r.offsetTop)}return{width:i,height:s,x:a,y:c}}(e,n);else if("document"===t)r=function(e){const t=(0,l.tF)(e),n=(0,l.Lw)(e),r=e.ownerDocument.body,i=(0,o.Fp)(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=(0,o.Fp)(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+v(e);const c=-n.scrollTop;return"rtl"===(0,l.Dx)(r).direction&&(a+=(0,o.Fp)(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:c}}((0,l.tF)(e));else if((0,l.kK)(t))r=function(e,t){const n=p(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=(0,l.Re)(e)?d(e):(0,o.ze)(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:i*s.x,y:r*s.y}}(t,n);else{const n=m(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return(0,o.JB)(r)}function w(e,t){const n=(0,l.Ow)(e);return!(n===t||!(0,l.kK)(n)||(0,l.Py)(n))&&("fixed"===(0,l.Dx)(n).position||w(n,t))}function b(e,t,n){const r=(0,l.Re)(t),i=(0,l.tF)(t),s="fixed"===n,a=p(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const u=(0,o.ze)(0);if(r||!r&&!s)if(("body"!==(0,l.wk)(t)||(0,l.ao)(i))&&(c=(0,l.Lw)(t)),r){const e=p(t,!0,s,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else i&&(u.x=v(i));return{x:a.left+c.scrollLeft-u.x,y:a.top+c.scrollTop-u.y,width:a.width,height:a.height}}function E(e,t){return(0,l.Re)(e)&&"fixed"!==(0,l.Dx)(e).position?t?t(e):e.offsetParent:null}function x(e,t){const n=(0,l.Jj)(e);if(!(0,l.Re)(e)||g(e))return n;let o=E(e,t);for(;o&&(0,l.Ze)(o)&&"static"===(0,l.Dx)(o).position;)o=E(o,t);return o&&("html"===(0,l.wk)(o)||"body"===(0,l.wk)(o)&&"static"===(0,l.Dx)(o).position&&!(0,l.hT)(o))?n:o||(0,l.gQ)(e)||n}const C={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s="fixed"===i,a=(0,l.tF)(r),c=!!t&&g(t.floating);if(r===a||c&&s)return n;let u={scrollLeft:0,scrollTop:0},f=(0,o.ze)(1);const m=(0,o.ze)(0),h=(0,l.Re)(r);if((h||!h&&!s)&&(("body"!==(0,l.wk)(r)||(0,l.ao)(a))&&(u=(0,l.Lw)(r)),(0,l.Re)(r))){const e=p(r);f=d(r),m.x=e.x+r.clientLeft,m.y=e.y+r.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+m.x,y:n.y*f.y-u.scrollTop*f.y+m.y}},getDocumentElement:l.tF,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s="clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let o=(0,l.Kx)(e,[],!1).filter((e=>(0,l.kK)(e)&&"body"!==(0,l.wk)(e))),r=null;const i="fixed"===(0,l.Dx)(e).position;let s=i?(0,l.Ow)(e):e;for(;(0,l.kK)(s)&&!(0,l.Py)(s);){const t=(0,l.Dx)(s),n=(0,l.hT)(s);n||"fixed"!==t.position||(r=null),(i?!n&&!r:!n&&"static"===t.position&&r&&["absolute","fixed"].includes(r.position)||(0,l.ao)(s)&&!n&&w(e,s))?o=o.filter((e=>e!==s)):r=t,s=(0,l.Ow)(s)}return t.set(e,o),o}(t,this._c):[].concat(n),a=[...s,r],c=a[0],u=a.reduce(((e,n)=>{const r=y(t,n,i);return e.top=(0,o.Fp)(r.top,e.top),e.right=(0,o.VV)(r.right,e.right),e.bottom=(0,o.VV)(r.bottom,e.bottom),e.left=(0,o.Fp)(r.left,e.left),e}),y(t,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},getOffsetParent:x,getElementRects:async function(e){const t=this.getOffsetParent||x,n=this.getDimensions;return{reference:b(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=c(e);return{width:t,height:n}},getScale:d,isElement:l.kK,isRTL:function(e){return"rtl"===(0,l.Dx)(e).direction}};function T(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:c="function"===typeof IntersectionObserver,animationFrame:d=!1}=r,f=u(e),m=i||s?[...f?(0,l.Kx)(f):[],...(0,l.Kx)(t)]:[];m.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));const h=f&&c?function(e,t){let n,r=null;const i=(0,l.tF)(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),s();const{left:u,top:d,width:f,height:m}=e.getBoundingClientRect();if(l||t(),!f||!m)return;const p={rootMargin:-(0,o.GW)(d)+"px "+-(0,o.GW)(i.clientWidth-(u+f))+"px "+-(0,o.GW)(i.clientHeight-(d+m))+"px "+-(0,o.GW)(u)+"px",threshold:(0,o.Fp)(0,(0,o.VV)(1,c))||1};let h=!0;function g(e){const t=e[0].intersectionRatio;if(t!==c){if(!h)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),100)}h=!1}try{r=new IntersectionObserver(g,{...p,root:i.ownerDocument})}catch(v){r=new IntersectionObserver(g,p)}r.observe(e)}(!0),s}(f,n):null;let g,v=-1,y=null;a&&(y=new ResizeObserver((e=>{let[o]=e;o&&o.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame((()=>{var e;null==(e=y)||e.observe(t)}))),n()})),f&&!d&&y.observe(f),y.observe(t));let w=d?p(e):null;return d&&function t(){const o=p(e);!w||o.x===w.x&&o.y===w.y&&o.width===w.width&&o.height===w.height||n();w=o,g=requestAnimationFrame(t)}(),n(),()=>{var e;m.forEach((e=>{i&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),null==h||h(),null==(e=y)||e.disconnect(),y=null,d&&cancelAnimationFrame(g)}}const S=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...u}=(0,o.ku)(e,t),d={x:n,y:r},f=await i(t,u),m=(0,o.Qq)((0,o.k3)(s)),p=(0,o.Rn)(m);let h=d[p],g=d[m];if(a){const e="y"===p?"bottom":"right",t=h+f["y"===p?"top":"left"],n=h-f[e];h=(0,o.uZ)(t,h,n)}if(l){const e="y"===m?"bottom":"right",t=g+f["y"===m?"top":"left"],n=g-f[e];g=(0,o.uZ)(t,g,n)}const v=c.fn({...t,[p]:h,[m]:g});return{...v,data:{x:v.x-n,y:v.y-r}}}}},R=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:l,initialPlacement:c,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=(0,o.ku)(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const w=(0,o.k3)(s),b=(0,o.k3)(c)===c,E=await(null==u.isRTL?void 0:u.isRTL(d.floating)),x=p||(b||!v?[(0,o.pw)(c)]:(0,o.gy)(c));p||"none"===g||x.push(...(0,o.KX)(c,v,g,E));const C=[c,...x],T=await i(t,y),S=[];let R=(null==(r=a.flip)?void 0:r.overflows)||[];if(f&&S.push(T[w]),m){const e=(0,o.i8)(s,l,E);S.push(T[e[0]],T[e[1]])}if(R=[...R,{placement:s,overflows:S}],!S.every((e=>e<=0))){var I,k;const e=((null==(I=a.flip)?void 0:I.index)||0)+1,t=C[e];if(t)return{data:{index:e,overflows:R},reset:{placement:t}};let n=null==(k=R.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:k.placement;if(!n)switch(h){case"bestFit":{var M;const e=null==(M=R.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:M[0];e&&(n=e);break}case"initialPlacement":n=c}if(s!==n)return{reset:{placement:n}}}return{}}}},I=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:s,elements:a}=t,{apply:l=(()=>{}),...c}=(0,o.ku)(e,t),u=await i(t,c),d=(0,o.k3)(n),f=(0,o.hp)(n),m="y"===(0,o.Qq)(n),{width:p,height:h}=r.floating;let g,v;"top"===d||"bottom"===d?(g=d,v=f===(await(null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,g="end"===f?"top":"bottom");const y=h-u[g],w=p-u[v],b=!t.middlewareData.shift;let E=y,x=w;if(m){const e=p-u.left-u.right;x=f||b?(0,o.VV)(w,e):e}else{const e=h-u.top-u.bottom;E=f||b?(0,o.VV)(y,e):e}if(b&&!f){const e=(0,o.Fp)(u.left,0),t=(0,o.Fp)(u.right,0),n=(0,o.Fp)(u.top,0),r=(0,o.Fp)(u.bottom,0);m?x=p-2*(0!==e||0!==t?e+t:(0,o.Fp)(u.left,u.right)):E=h-2*(0!==n||0!==r?n+r:(0,o.Fp)(u.top,u.bottom))}await l({...t,availableWidth:x,availableHeight:E});const C=await s.getDimensions(a.floating);return p!==C.width||h!==C.height?{reset:{rects:!0}}:{}}}},k=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...l}=(0,o.ku)(e,t);switch(r){case"referenceHidden":{const e=s(await i(t,{...l,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:a(e)}}}case"escaped":{const e=s(await i(t,{...l,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:a(e)}}}default:return{}}}}},M=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=(0,o.ku)(e,t),d={x:n,y:r},f=(0,o.Qq)(i),m=(0,o.Rn)(f);let p=d[m],h=d[f];const g=(0,o.ku)(l,t),v="number"===typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const e="y"===m?"height":"width",t=s.reference[m]-s.floating[e]+v.mainAxis,n=s.reference[m]+s.reference[e]-v.mainAxis;p<t?p=t:p>n&&(p=n)}if(u){var y,w;const e="y"===m?"width":"height",t=["top","left"].includes((0,o.k3)(i)),n=s.reference[f]-s.floating[e]+(t&&(null==(y=a.offset)?void 0:y[f])||0)+(t?0:v.crossAxis),r=s.reference[f]+s.reference[e]+(t?0:(null==(w=a.offset)?void 0:w[f])||0)-(t?v.crossAxis:0);h<n?h=n:h>r&&(h=r)}return{[m]:p,[f]:h}}}},O=(e,t,n)=>{const o=new Map,i={platform:C,...n},s={...i.platform,_c:o};return(async(e,t,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(null==a.isRTL?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=r(u,o,c),m=o,p={},h=0;for(let g=0;g<l.length;g++){const{name:n,fn:s}=l[g],{x:v,y:y,data:w,reset:b}=await s({x:d,y:f,initialPlacement:o,placement:m,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=null!=v?v:d,f=null!=y?y:f,p={...p,[n]:{...p[n],...w}},b&&h<=50&&(h++,"object"===typeof b&&(b.placement&&(m=b.placement),b.rects&&(u=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:d,y:f}=r(u,m,c))),g=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:p}})(e,t,{...i,platform:s})};var P=n(67294),_=n(73935);var A="undefined"!==typeof document?P.useLayoutEffect:P.useEffect;function D(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;0!==o--;)if(!D(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;0!==o--;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;0!==o--;){const n=r[o];if(("_owner"!==n||!e.$$typeof)&&!D(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function N(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function L(e,t){const n=N(e);return Math.round(t*n)/n}function H(e){const t=P.useRef(e);return A((()=>{t.current=e})),t}var F=n(10893),z=n(59904),B=n(4222),V=n(77493),j=n(90111),W={isHistory:e=>(0,j.P)(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||V.OX.isOperationList(e.redos[0].operations))&&(0===e.undos.length||V.OX.isOperationList(e.undos[0].operations))},$=(new WeakMap,new WeakMap),K=new WeakMap,U={isHistoryEditor:e=>W.isHistory(e.history)&&V.ML.isEditor(e),isMerging:e=>K.get(e),isSaving:e=>$.get(e),redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var n=U.isMerging(e);K.set(e,!1),t(),K.set(e,n)},withoutSaving(e,t){var n=U.isSaving(e);$.set(e,!1),t(),$.set(e,n)}},G=(e,t)=>!(!t||"insert_text"!==e.type||"insert_text"!==t.type||e.offset!==t.offset+t.text.length||!V.y$.equals(e.path,t.path))||!(!t||"remove_text"!==e.type||"remove_text"!==t.type||e.offset+e.text.length!==t.offset||!V.y$.equals(e.path,t.path)),Z=(e,t)=>"set_selection"!==e.type,Y=n(96391),J=n(33328),q=n(78398),X=n(21518),Q=n(83037),ee=n(12055),te=n(56608);const ne=[{type:"mark",mark:"bold",character:"*"},{type:"mark",mark:"italic",character:"_"},{type:"mark",mark:"strikethrough",character:"~"},{type:"mark",mark:"code",character:"`"}],oe=ne.filter((e=>"mark"===e.type)).map((e=>e.character));function re(e,t,n){if(t!==n.character)return!1;const o=(0,Q.j)(e,e.selection,[n.character]);if(!o||V.e6.isCollapsed(o))return!1;const r=(0,X.F)(e,o);if(!r||r.text!==n.character)return!1;const i=(0,X.F)(e,r.range);if(i&&!oe.includes(i.text)&&!(0,ee.k)(i.text))return!1;const s=V.ML.string(e,o);return s.trim()===s&&(V.YR.select(e,o),e.addMark(n.mark,!0),V.YR.collapse(e,{edge:"end"}),e.removeMark(n.mark),V.YR.delete(e,{at:r.range}),!0)}function ie(e){return V.W_.isElement(e)&&"auto-link"===e.type}const se=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9().@:%_+~#?&//=]*)/,ae=/[.,;!?\s]/,le=/^[.?][a-zA-Z0-9]+/;function ce(e){return ae.test(e)}function ue(e){return ce(e[e.length-1])}function de(e){return ce(e[0])}function fe(e,t){const n=V.ML.previous(e,{at:t});return!n||V.xv.isText(n[0])&&(ue(n[0].text)||""===n[0].text)}function me(e,t){const n=V.ML.next(e,{at:t});return!n||V.xv.isText(n[0])&&(de(n[0].text)||""===n[0].text)}const pe=(e,t)=>{const[n,o]=t,r=V.NB.children(e,o);for(const[l]of r)if(!V.xv.isText(l))return void V.YR.unwrapNodes(e,{at:o});const i=V.NB.string(n),s=se.exec(i);if(s&&s[0]===i)if("."!==(a=i)[a.length-1]&&"?"!==a[a.length-1]){var a;fe(e,o)&&me(e,o)?n.url===i||V.YR.setNodes(e,{url:s[0]},{at:o}):V.YR.unwrapNodes(e,{at:o})}else{V.YR.unwrapNodes(e,{at:o});const t=i.slice(0,i.length-1);V.YR.wrapNodes(e,{type:"auto-link",url:t,children:[]},{at:{anchor:{path:o,offset:0},focus:{path:o,offset:t.length}},split:!0})}else V.YR.unwrapNodes(e,{at:o})},he=(e,t)=>{const[n,o]=t,r=se.exec(n.text);if(!r)return;const i=r.index,s=i+r[0].length;(function(e,t,n,o){const[r,i]=t,s=r.text,a=n>0?ce(s[n-1]):fe(e,i),l=o<s.length?ce(s[o]):me(e,i);return a&&l})(e,t,i,s)&&V.YR.wrapNodes(e,{type:"auto-link",url:r[0],children:[]},{at:{anchor:{path:o,offset:i},focus:{path:o,offset:s}},split:!0})},ge=(e,t)=>{const[n,o]=t,r=n.text,i=V.ML.previous(e,{at:o});if(i&&ie(i[0])){if(le.test(r))return V.YR.unwrapNodes(e,{at:i[1]}),void V.YR.mergeNodes(e,{at:o});if(!de(r))return void V.YR.unwrapNodes(e,{at:i[1]})}const s=V.ML.next(e,{at:o});s&&ie(s[0])&&!ue(r)&&V.YR.unwrapNodes(e,{at:s[1]})};function ve(e,t){return t.length<=1&&!V.xv.isText(t[0])&&V.ML.isEmpty(e,t[0])}function ye(e,t){const n=function(e,t){const n=V.ML.marks(e);return!!n&&!0===n[t]}(e,t);n?V.ML.removeMark(e,t):V.ML.addMark(e,t,!0)}function we(e){const t=V.ML.marks(e);if(t)for(const n in t)V.ML.removeMark(e,n)}function be(e,t){if((0,te.d)(e.selection)){if(Object.keys(V.ML.marks(e)??{}).length>0){("start"===t?(0,X.F)(e,e.selection):(0,X.z)(e,e.selection))||we(e)}}}var Ee=n(92484);function xe(e,t){try{return Y.F3.toDOMRange(e,t)}catch(n){return xe(e,{anchor:t.anchor,focus:t.anchor})}}var Ce=n(67093);const Te=_["flushSync".toString()]??function(e){return e()},Se="undefined"!==typeof window?P.useLayoutEffect:P.useEffect,Re=(0,P.createContext)(null);function Ie(){const e=(0,P.useContext)(Re);return(0,F.nn)(e,"Persist is missing from the React tree.")}function ke({children:e}){const[t,n]=(0,P.useState)(!0),o=(0,P.useRef)(null),r=function(e){const t=Array.isArray(e)?P.Children.only(e):e;return(0,P.isValidElement)(t)?t:void 0}(e),i=(0,P.useCallback)((()=>{Te((()=>n(!1)))}),[]);return Se((()=>{r&&(n(!0),o.current=r)}),[r]),P.createElement(Re.Provider,{value:[Boolean(r),i]},r??(t?o.current:null))}const Me=(0,P.forwardRef)((({container:e=document?.body,asChild:t,...n},o)=>{const r=t?B.g7:"div";return e?(0,_.createPortal)(P.createElement(r,{"data-liveblocks-portal":"",...n,ref:o}),e):null}));let Oe=!1,Pe=0;function _e(){return++Pe}const Ae=P["useId".toString()]??function(){const[e,t]=(0,P.useState)(Oe?_e:null);return Se((()=>{null===e&&t(_e())}),[e]),(0,P.useEffect)((()=>{Oe||(Oe=!0)}),[]),String(e)??void 0};function De(e,t,n){return Math.min(Math.max(e,t),n)}function Ne(e,t,n){const o=n-t;return o>0?((e-t)%o+o)%o+t:0}const Le={wrap:!0};function He(e){return(0,P.useRef)(e instanceof Function?e():e).current}var Fe=n(33741),ze=n(78582),Be=n(8920);function Ve(e){return null!==e&&void 0!==e}const je=[];function We(e,t="ltr"){return`${e}-${"rtl"===t?"end":"start"}`}const $e={version:1,content:[{type:"paragraph",children:[{text:""}]}]};function Ke(){return function(e){const{isInline:t,normalizeNode:n,deleteBackward:o}=e;return e.isInline=e=>"auto-link"===e.type||t(e),e.normalizeNode=t=>{const[o,r]=t;if(V.xv.isText(o)){const t=V.NB.parent(e,r);if(ie(t)){const n=V.y$.parent(r);pe(e,[t,n])}else he(e,[o,r]),ge(e,[o,r])}n(t)},e.deleteBackward=t=>{o(t);const{selection:n}=e;if(!n)return;if(!V.e6.isCollapsed(n))return;const[r]=V.ML.nodes(e,{at:n,match:ie,mode:"lowest"});r&&V.YR.unwrapNodes(e,{match:ie})},e}((0,Ee.r)(function(e){const{onChange:t}=e;return e.onChange=n=>{ve(e,e.children)&&we(e),t(n)},e}(function(e){const{insertText:t}=e;return e.insertText=(n,o)=>{if(!(0,te.d)(e.selection))return t(n,o);let r=!0;for(const t of ne)"mark"===t.type&&re(e,n,t)&&(r=!1);r&&t(n,o)},e}((e=>{var t=e,{apply:n}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:e}=t,{redos:n}=e;if(n.length>0){var o=n[n.length-1];o.selectionBefore&&V.YR.setSelection(t,o.selectionBefore),U.withoutSaving(t,(()=>{V.ML.withoutNormalizing(t,(()=>{for(var e of o.operations)t.apply(e)}))})),e.redos.pop(),t.writeHistory("undos",o)}},t.undo=()=>{var{history:e}=t,{undos:n}=e;if(n.length>0){var o=n[n.length-1];U.withoutSaving(t,(()=>{V.ML.withoutNormalizing(t,(()=>{var e=o.operations.map(V.OX.inverse).reverse();for(var n of e)t.apply(n);o.selectionBefore&&V.YR.setSelection(t,o.selectionBefore)}))})),t.writeHistory("redos",o),e.undos.pop()}},t.apply=e=>{var{operations:o,history:r}=t,{undos:i}=r,s=i[i.length-1],a=s&&s.operations[s.operations.length-1],l=U.isSaving(t),c=U.isMerging(t);if(null==l&&(l=Z(e)),l){if(null==c&&(c=null!=s&&(0!==o.length||G(e,a))),s&&c)s.operations.push(e);else{var u={operations:[e],selectionBefore:t.selection};t.writeHistory("undos",u)}for(;i.length>100;)i.shift();r.redos=[]}n(e)},t.writeHistory=(e,n)=>{t.history[e].push(n)},t})((0,Y.BU)((0,V.Jh)()))))))}function Ue({Mention:e,attributes:t,children:n,element:o}){const r=(0,Y.vt)();return P.createElement("span",{...t},o.id?P.createElement(e,{userId:o.id,isSelected:r}):null,n)}function Ge({Link:e,attributes:t,element:n,children:o}){const r=(0,P.useMemo)((()=>(0,ze.BY)(n.url)??n.url),[n.url]);return P.createElement("span",{...t},P.createElement(e,{href:r},o))}function Ze({id:e,itemId:t,userIds:n,selectedUserId:o,setSelectedUserId:r,mentionDraft:i,onItemSelect:s,position:a="top",dir:l,MentionSuggestions:c}){const u=(0,Y._7)(),{isFocused:d}=(0,Be.xc)(),[f,m]=(0,P.useState)(null),[p,h]=(0,P.useState)(),g=(0,P.useCallback)(m,[m]),{portalContainer:v}=(0,J.Q)(),y=(0,P.useMemo)((()=>{const e={padding:q.rV};return{strategy:"fixed",placement:We(a,l),middleware:[R({...e,crossAxis:!1}),k(e),S({...e,limiter:M()}),I({...e,apply({availableWidth:e,availableHeight:t,elements:n}){n.floating.style.setProperty("--lb-composer-suggestions-available-width",`${e}px`),n.floating.style.setProperty("--lb-composer-suggestions-available-height",`${t}px`)}})],whileElementsMounted:T}}),[a,l]),{refs:{setReference:w,setFloating:b},strategy:E,isPositioned:x,placement:C,x:F,y:z}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=P.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=P.useState(o);D(f,o)||m(o);const[p,h]=P.useState(null),[g,v]=P.useState(null),y=P.useCallback((e=>{e!==x.current&&(x.current=e,h(e))}),[]),w=P.useCallback((e=>{e!==C.current&&(C.current=e,v(e))}),[]),b=i||p,E=s||g,x=P.useRef(null),C=P.useRef(null),T=P.useRef(u),S=null!=l,R=H(l),I=H(r),k=P.useCallback((()=>{if(!x.current||!C.current)return;const e={placement:t,strategy:n,middleware:f};I.current&&(e.platform=I.current),O(x.current,C.current,e).then((e=>{const t={...e,isPositioned:!0};M.current&&!D(T.current,t)&&(T.current=t,_.flushSync((()=>{d(t)})))}))}),[f,t,n,I]);A((()=>{!1===c&&T.current.isPositioned&&(T.current.isPositioned=!1,d((e=>({...e,isPositioned:!1}))))}),[c]);const M=P.useRef(!1);A((()=>(M.current=!0,()=>{M.current=!1})),[]),A((()=>{if(b&&(x.current=b),E&&(C.current=E),b&&E){if(R.current)return R.current(b,E,k);k()}}),[b,E,k,R,S]);const F=P.useMemo((()=>({reference:x,floating:C,setReference:y,setFloating:w})),[y,w]),z=P.useMemo((()=>({reference:b,floating:E})),[b,E]),B=P.useMemo((()=>{const e={position:n,left:0,top:0};if(!z.floating)return e;const t=L(z.floating,u.x),o=L(z.floating,u.y);return a?{...e,transform:"translate("+t+"px, "+o+"px)",...N(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:o}}),[n,a,z.floating,u.x,u.y]);return P.useMemo((()=>({...u,update:k,refs:F,elements:z,floatingStyles:B})),[u,k,F,z,B])}(y);return Se((()=>{f&&h(window.getComputedStyle(f).zIndex)}),[f]),Se((()=>{if(!i)return;const e=xe(u,i.range);e&&w({getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects()})}),[w,u,i]),P.createElement(ke,null,i?.range&&d&&n?P.createElement(Be._O.Provider,{value:{id:e,itemId:t,selectedValue:o,setSelectedValue:r,onItemSelect:s,placement:C,dir:l,ref:g}},P.createElement(Me,{ref:b,container:v,style:{position:E,top:0,left:0,transform:x?`translate3d(${Math.round(F)}px, ${Math.round(z)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:p}},P.createElement(c,{userIds:n,selectedUserId:o}))):null)}function Ye({Mention:e,Link:t,...n}){const{attributes:o,children:r,element:i}=n;switch(i.type){case"mention":return P.createElement(Ue,{Mention:e,...n});case"auto-link":return P.createElement(Ge,{Link:t,...n});case"paragraph":return P.createElement("p",{...o,style:{position:"relative"}},r);default:return null}}function Je({attributes:e,children:t,leaf:n}){return n.bold&&(t=P.createElement("strong",null,t)),n.italic&&(t=P.createElement("em",null,t)),n.strikethrough&&(t=P.createElement("s",null,t)),n.code&&(t=P.createElement("code",null,t)),P.createElement("span",{...e},t)}function qe({attributes:e,children:t}){const{opacity:n,...o}=e.style;return P.createElement("span",{...e,style:o,"data-placeholder":""},t)}const Xe=(0,P.forwardRef)((({children:e,asChild:t,...n},o)=>{const r=t?B.g7:"span",i=(0,Y.vt)();return P.createElement(r,{"data-selected":i||void 0,...n,ref:o},e)})),Qe=(0,P.forwardRef)((({children:e,asChild:t,...n},o)=>{const r=t?B.g7:"a";return P.createElement(r,{target:"_blank",rel:"noopener noreferrer nofollow",...n,ref:o},e)})),et=(0,P.forwardRef)((({children:e,style:t,asChild:n,...o},r)=>{const[i]=Ie(),s=(0,P.useRef)(null),{ref:a,placement:l,dir:c}=(0,Be.Y8)("ComposerSuggestions"),u=(0,Fe.v)(r,a,s),[d,f]=(0,P.useMemo)((()=>function(e){const[t,n="center"]=e.split("-");return[t,n]}(l)),[l]),m=n?B.g7:"div";return function(e){const[t,n]=Ie(),o=(0,P.useRef)(null),r=(0,P.useRef)(null);Se((()=>{const t=e.current;if(!t)return;const i=e=>{e.animationName===r.current&&n(),o.current=e.animationName};return t.addEventListener("animationcancel",i),t.addEventListener("animationend",i),()=>{t.removeEventListener("animationcancel",i),t.removeEventListener("animationend",i)}}),[e,n]),Se((()=>{const i=e.current;let s;if(i)return t||(s=requestAnimationFrame((()=>{const e=getComputedStyle(i);r.current=e.animationName,"none"!==e.animationName&&e.animationName!==o.current&&"none"!==e.display||n()}))),()=>{cancelAnimationFrame(s)}}),[t,e,n])}(s),P.createElement(m,{dir:c,...o,"data-state":i?"open":"closed","data-side":d,"data-align":f,style:{display:"flex",flexDirection:"column",maxHeight:"var(--lb-composer-suggestions-available-height)",overflowY:"auto",...t},ref:u},e)})),tt=(0,P.forwardRef)((({children:e,asChild:t,...n},o)=>{const{id:r}=(0,Be.Y8)("ComposerSuggestionsList"),i=t?B.g7:"ul";return P.createElement(i,{role:"listbox",id:r,"aria-label":"Suggestions list",...n,ref:o},e)})),nt=(0,P.forwardRef)((({value:e,children:t,onPointerMove:n,onPointerDown:o,asChild:r,...i},s)=>{const a=(0,P.useRef)(null),l=(0,Fe.v)(s,a),{selectedValue:c,setSelectedValue:u,itemId:d,onItemSelect:f}=(0,Be.Y8)("ComposerSuggestionsListItem"),m=r?B.g7:"li",p=(0,P.useMemo)((()=>c===e),[c,e]),h=(0,P.useMemo)((()=>d(e)),[d,e]);(0,P.useEffect)((()=>{a?.current&&p&&a.current.scrollIntoView({block:"nearest"})}),[p]);const g=(0,P.useCallback)((t=>{n?.(t),t.isDefaultPrevented()||u(e)}),[n,u,e]),v=(0,P.useCallback)((t=>{if(o?.(t),!t.isDefaultPrevented()){const n=t.target;n.hasPointerCapture(t.pointerId)&&n.releasePointerCapture(t.pointerId),0===t.button&&!1===t.ctrlKey&&(f(e),t.preventDefault())}}),[f,o,e]);return P.createElement(m,{role:"option",id:h,"data-selected":p||void 0,"aria-selected":p||void 0,onPointerMove:g,onPointerDown:v,...i,ref:l},t)})),ot={Link:({href:e,children:t})=>P.createElement(Qe,{href:e},t),Mention:({userId:e})=>P.createElement(Xe,null,Ee.$S,e),MentionSuggestions:({userIds:e})=>e.length>0?P.createElement(et,null,P.createElement(tt,null,e.map((e=>P.createElement(nt,{key:e,value:e},e))))):null},rt=(0,P.forwardRef)((({defaultValue:e,onKeyDown:t,onFocus:n,onBlur:o,disabled:r,autoFocus:i,components:s,dir:a,...l},c)=>{const{[F.W_]:{useMentionSuggestions:u},useSelf:d}=(0,z.L6)(),f=d(),m=(0,P.useMemo)((()=>r||!f?.canComment),[r,f?.canComment]),{editor:p,validate:h,setFocused:g}=(0,Be.BZ)(),{submit:v,focus:y,select:w,isEmpty:b,isFocused:E}=(0,Be.xc)(),x=He(e??$e),C=(0,P.useMemo)((()=>{return(e=x)&&e?.content?e.content.map((e=>{const t=e.children.map((e=>{return(0,ze.SA)(e)?{type:"mention",id:e.id,children:[{text:""}]}:(0,ze.zq)(e)?{type:"auto-link",url:(t=e).url,children:[{text:t.url}]}:(0,ze.y3)(e)?e:null;var t})).filter(Ve);return{...e,children:t}})):je;var e}),[x]),{Link:T,Mention:S,MentionSuggestions:R}=(0,P.useMemo)((()=>({...ot,...s})),[s]),[I,k]=(0,P.useState)(),M=u(I?.text),[O,_,A,D]=function(e,t,n){const{wrap:o}=(0,P.useMemo)((()=>({...Le,...n})),[n]),r=(0,P.useMemo)((()=>o?Ne:De),[o]),[i,s]=(0,P.useState)(e);return(0,P.useEffect)((()=>{s((e=>De(e,0,Math.max(t-1,0))))}),[t]),[i,(0,P.useCallback)((()=>{s((e=>r(e-1,0,Math.max(t,0))))}),[t,r]),(0,P.useCallback)((()=>{s((e=>r(e+1,0,Math.max(t,0))))}),[t,r]),s]}(0,M?.length??0),N=Ae(),L=(0,P.useMemo)((()=>`liveblocks-suggestions-list-${N}`),[N]),H=(0,P.useCallback)((e=>e?`liveblocks-suggestions-list-item-${N}-${e}`:void 0),[N]),B=(0,P.useCallback)((e=>P.createElement(Ye,{Mention:S,Link:T,...e})),[T,S]),j=(0,P.useCallback)((e=>{h(e),k((0,Ee.CQ)(p))}),[p,h]),W=(0,P.useCallback)((e=>{I&&e&&(V.YR.select(p,I.range),(0,Ee.lZ)(p,e),k(void 0),D(0))}),[p,I,D]),$=(0,P.useCallback)((e=>{if(t?.(e),!e.isDefaultPrevented())if((0,Ce.o)(e,"ArrowLeft")&&be(p,"start"),(0,Ce.o)(e,"ArrowRight")&&be(p,"end"),I&&M?.length){if((0,Ce.o)(e,"ArrowDown")&&(e.preventDefault(),A()),(0,Ce.o)(e,"ArrowUp")&&(e.preventDefault(),_()),(0,Ce.o)(e,"Enter")||(0,Ce.o)(e,"Tab")){e.preventDefault();const t=M?.[O];W(t)}(0,Ce.o)(e,"Escape")&&(e.preventDefault(),k(void 0),D(0))}else(0,Ce.o)(e,"Escape")&&(e.preventDefault(),Y.F3.blur(p)),(0,Ce.o)(e,"Enter",{shift:!1})&&!b&&(e.preventDefault(),v()),(0,Ce.o)(e,"Enter",{shift:!0})&&(e.preventDefault(),p.insertBreak()),(0,Ce.o)(e,"b",{mod:!0})&&(e.preventDefault(),ye(p,"bold")),(0,Ce.o)(e,"i",{mod:!0})&&(e.preventDefault(),ye(p,"italic")),(0,Ce.o)(e,"s",{mod:!0,shift:!0})&&(e.preventDefault(),ye(p,"strikethrough")),(0,Ce.o)(e,"e",{mod:!0})&&(e.preventDefault(),ye(p,"code"))}),[W,p,b,I,M,O,t,A,_,D,v]),K=(0,P.useCallback)((e=>{n?.(e),e.isDefaultPrevented()||g(!0)}),[n,g]),U=(0,P.useCallback)((e=>{o?.(e),e.isDefaultPrevented()||g(!1)}),[o,g]),G=(0,P.useMemo)((()=>M?.[O]),[O,M]),Z=(0,P.useCallback)((e=>{const t=M?.indexOf(e);void 0!==t&&t>=0&&D(t)}),[D,M]),J=(0,P.useMemo)((()=>I?{role:"combobox","aria-autocomplete":"list","aria-expanded":!0,"aria-controls":L,"aria-activedescendant":H(G)}:{}),[I,L,H,G]);return(0,P.useImperativeHandle)(c,(()=>Y.F3.toDOMNode(p,p)),[p]),(0,P.useEffect)((()=>{i&&y()}),[i,p,y]),(0,P.useEffect)((()=>{E&&null===p.selection&&w()}),[p,w,E]),P.createElement(Y.mH,{editor:p,initialValue:C,onChange:j},P.createElement(Y.CX,{dir:a,enterKeyHint:I?"enter":"send",autoCapitalize:"sentences","aria-label":"Composer editor","data-focused":E||void 0,"data-disabled":m||void 0,...J,...l,readOnly:m,disabled:m,onKeyDown:$,onFocus:K,onBlur:U,renderElement:B,renderLeaf:Je,renderPlaceholder:qe}),P.createElement(Ze,{dir:a,mentionDraft:I,selectedUserId:G,setSelectedUserId:Z,userIds:M,id:L,itemId:H,onItemSelect:W,MentionSuggestions:R}))})),it=(0,P.forwardRef)((({children:e,onSubmit:t,onComposerSubmit:n,asChild:o,...r},i)=>{const s=o?B.g7:"form",a=He(Ke),[l,c]=(0,P.useState)(!0),[u,d]=(0,P.useState)(!1),f=(0,P.useRef)(null),m=(0,Fe.v)(i,f),p=(0,P.useCallback)((e=>{c(ve(a,e))}),[a]),h=(0,P.useCallback)((()=>{f.current&&function(e,t){if("function"===typeof e.requestSubmit)return e.requestSubmit(t);t?t.click():((t=document.createElement("input")).type="submit",t.hidden=!0,e.appendChild(t),t.click(),e.removeChild(t))}(f.current)}),[]),g=(0,P.useCallback)((()=>{V.YR.delete(a,{at:{anchor:V.ML.start(a,[]),focus:V.ML.end(a,[])}})}),[a]),v=(0,P.useCallback)((()=>{V.YR.select(a,{anchor:V.ML.end(a,[]),focus:V.ML.end(a,[])})}),[a]),y=(0,P.useCallback)(((e=!0)=>{Y.F3.isFocused(a)||(V.YR.select(a,e||!a.selection?V.ML.end(a,[]):a.selection),Y.F3.focus(a))}),[a]),w=(0,P.useCallback)((()=>{Y.F3.blur(a)}),[a]),b=(0,P.useCallback)((()=>{g(),w()}),[w,g]),E=(0,P.useCallback)((()=>{y(),(0,Ee.ji)(a)}),[a,y]),x=(0,P.useCallback)((e=>{y(!1),(0,V.Om)(a,e)}),[a,y]),C=(0,P.useCallback)((e=>{if(t?.(e),e.isDefaultPrevented())return;const o=function(e){return{version:1,content:e.map((e=>{const t=e.children.map((e=>(0,Ee.hb)(e)?{type:"mention",id:e.id}:ie(e)?{type:"link",url:e.url}:V.xv.isText(e)?e:null)).filter(Ve);return{...e,children:t}}))}}(a.children),r=n?.({body:o},e);e.preventDefault(),r?r.then(b):b()}),[a.children,n,t,b]);return P.createElement(Be.cR.Provider,{value:{editor:a,validate:p,setFocused:d}},P.createElement(Be.IA.Provider,{value:{isFocused:u,isEmpty:l,submit:h,clear:g,select:v,focus:y,blur:w,createMention:E,insertText:x}},P.createElement(s,{...r,onSubmit:C,ref:m},e)))})),st=(0,P.forwardRef)((({children:e,disabled:t,asChild:n,...o},r)=>{const i=n?B.g7:"button",{useSelf:s}=(0,z.L6)(),{isEmpty:a}=(0,Be.xc)(),l=s(),c=(0,P.useMemo)((()=>t||a||!l?.canComment),[t,a,l?.canComment]);return P.createElement(i,{type:"submit",...o,ref:r,disabled:c},e)}))},35180:function(e,t,n){"use strict";n.d(t,{d:function(){return s}});var o=n(4222),r=n(67294),i=n(78398);const s=(0,r.forwardRef)((({emoji:e,style:t,asChild:n,...s},a)=>{const l=n?o.g7:"span";return r.createElement(l,{role:"img","aria-label":e,"data-emoji":e,style:{...t,fontFamily:i.rQ,display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",whiteSpace:"nowrap"},...s,ref:a},e)}))},92484:function(e,t,n){"use strict";n.d(t,{$S:function(){return l},CQ:function(){return c},hb:function(){return u},ji:function(){return f},lZ:function(){return d},r:function(){return m}});var o=n(77493),r=n(21518),i=n(83037),s=n(12055),a=n(56608);const l="@";function c(e){const{selection:t}=e;if(!(0,a.d)(t))return;const n=(0,i.j)(e,t);if(!n)return;const r=o.ML.string(e,n);return r.startsWith(l)?{range:n,text:r.substring(1)}:void 0}function u(e){return o.W_.isElement(e)&&"mention"===e.type}function d(e,t){const n={type:"mention",id:t,children:[{text:""}]};o.YR.insertNodes(e,n),o.YR.move(e);const i=e.selection?(0,r.z)(e,e.selection):void 0;!i||i.void?o.YR.insertText(e," "):(0,s.k)(i.text)&&o.YR.move(e)}function f(e){if(!e.selection)return;const t=(0,r.F)(e,e.selection,{filterVoids:!0}),n=(0,r.z)(e,e.selection,{filterVoids:!0}),i=t&&!(0,s.k)(t.text),c=n&&!(0,s.k)(n.text);if((0,a.d)(e.selection)){const t=(i?" ":"")+l+(c?" ":"");e.insertText(t),c&&o.YR.move(e,{distance:1,unit:"character",reverse:!0})}else{const t=(i?" ":"")+l;e.insertText(t,{at:o.e6.start(e.selection)}),c&&e.insertText(" ",{at:o.e6.end(e.selection)}),o.YR.collapse(e,{edge:"end"})}}function m(e){const{isInline:t,isVoid:n,markableVoid:r,deleteBackward:i}=e;return e.isInline=e=>u(e)||t(e),e.isVoid=e=>u(e)||n(e),e.markableVoid=e=>u(e)||r(e),e.deleteBackward=t=>{const{selection:n}=e;if((0,a.d)(n)){const[r]=o.ML.nodes(e,{at:"character"===t?o.ML.before(e,n,{unit:"character"}):n,match:u});i(t),r&&o.YR.insertText(e,l)}else i(t)},e}},21518:function(e,t,n){"use strict";n.d(t,{F:function(){return r},z:function(){return i}});var o=n(77493);function r(e,t,n={}){const{filterVoids:r}=n,i=o.ML.before(e,t,{unit:"character",voids:r});if(i){const n=o.ML.range(e,i,o.e6.isRange(t)?o.e6.start(t):t),r=o.ML.string(e,n);return{range:n,text:r,void:0===r.length}}}function i(e,t,n={}){const{filterVoids:r}=n,i=o.ML.after(e,t,{unit:"character",voids:r});if(i){const n=o.ML.range(e,i,o.e6.isRange(t)?o.e6.end(t):t),r=o.ML.string(e,n);return{range:n,text:r,void:0===r.length}}}},83037:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var o=n(77493);const r={direction:"before"};function i(e,t,n=[" "],i=r){const{include:s,direction:a}={...r,...i};let[l,c]=o.e6.edges(t),u=l;function d(t){const r="after"===t?o.ML.after(e,u,{unit:"character"}):o.ML.before(e,u,{unit:"character"}),i=r&&o.ML.string(e,"after"===t?{anchor:u,focus:r}:{anchor:r,focus:u}),s=i&&i["after"===t?0:i.length-1];return!(!r||!s||n.includes(s))&&(u=r,0!==u.offset)}if("before"!==a){for(u=c;d("after"););c=u}if("after"!==a){for(u=l;d("before"););l=u}return s?{anchor:o.ML.before(e,l,{unit:"offset"})??l,focus:o.ML.after(e,c,{unit:"offset"})??c}:{anchor:l,focus:c}}},12055:function(e,t,n){"use strict";function o(e){return!e.trim()}n.d(t,{k:function(){return o}})},56608:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var o=n(77493);function r(e){return null!==e&&o.e6.isCollapsed(e)}},33162:function(e,t,n){"use strict";function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}n.d(t,{k:function(){return o}})},20687:function(e,t,n){"use strict";function o(...e){return e.filter((e=>"string"===typeof e||"number"===typeof e)).join(" ")}n.d(t,{A:function(){return o}})},25316:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});const o=/Mac|iPod|iPhone|iPad/;function r(){return"undefined"!==typeof window&&o.test(window.navigator.platform)}},67093:function(e,t,n){"use strict";n.d(t,{o:function(){return i}});var o=n(25316);const r={alt:()=>"altKey",ctrl:()=>"ctrlKey",meta:()=>"metaKey",mod:()=>(0,o.m)()?"metaKey":"ctrlKey",shift:()=>"shiftKey"};function i(e,t,n={}){if(e.key!==t)return!1;return Object.entries(n).filter((([,e])=>"boolean"===typeof e)).every((([t,n])=>{const o=r[t]();return e[o]===n}))}},33741:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var o=n(67294);function r(e,t){t&&("function"===typeof e?e(t):e&&"current"in e&&(e.current=t))}function i(...e){return(0,o.useCallback)((t=>function(e,...t){for(const n of t)r(n,e)}(t,...e)),[e])}},30098:function(e,t,n){"use strict";n.d(t,{F:function(){return r},e:function(){return i}});var o=n(67294);function r(...e){return t=>e.forEach((e=>function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(e,t)))}function i(...e){return(0,o.useCallback)(r(...e),e)}},99276:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var o=n(67294);function r(e,t=[]){let n=[];const r=()=>{const t=n.map((e=>(0,o.createContext)(e)));return function(n){const r=(null===n||void 0===n?void 0:n[e])||t;return(0,o.useMemo)((()=>({[`__scope${e}`]:{...n,[e]:r}})),[n,r])}};return r.scopeName=e,[function(t,r){const i=(0,o.createContext)(r),s=n.length;function a(t){const{scope:n,children:r,...a}=t,l=(null===n||void 0===n?void 0:n[e][s])||i,c=(0,o.useMemo)((()=>a),Object.values(a));return(0,o.createElement)(l.Provider,{value:c},r)}return n=[...n,r],a.displayName=t+"Provider",[a,function(n,a){const l=(null===a||void 0===a?void 0:a[e][s])||i,c=(0,o.useContext)(l);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},i(r,...t)]}function i(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const r=n.reduce(((t,{useScope:n,scopeName:o})=>({...t,...n(e)[`__scope${o}`]})),{});return(0,o.useMemo)((()=>({[`__scope${t.scopeName}`]:r})),[r])}};return n.scopeName=t.scopeName,n}},1306:function(e,t,n){"use strict";n.d(t,{VY:function(){return V},fC:function(){return z},h_:function(){return B},xo:function(){return k}});var o=n(87462),r=n(67294),i=n(36206),s=n(30098),a=n(99276),l=n(73409),c=n(27552),u=n(45850),d=n(92936),f=n(40308),m=n(30395),p=n(438),h=n(75320),g=n(4222),v=n(42427),y=n(23541),w=n(91202);const b="Popover",[E,x]=(0,a.b)(b,[f.D7]),C=(0,f.D7)(),[T,S]=E(b),R=e=>{const{__scopePopover:t,children:n,open:o,defaultOpen:i,onOpenChange:s,modal:a=!1}=e,l=C(t),c=(0,r.useRef)(null),[u,m]=(0,r.useState)(!1),[p=!1,h]=(0,v.T)({prop:o,defaultProp:i,onChange:s});return(0,r.createElement)(f.fC,l,(0,r.createElement)(T,{scope:t,contentId:(0,d.M)(),triggerRef:c,open:p,onOpenChange:h,onOpenToggle:(0,r.useCallback)((()=>h((e=>!e))),[h]),hasCustomAnchor:u,onCustomAnchorAdd:(0,r.useCallback)((()=>m(!0)),[]),onCustomAnchorRemove:(0,r.useCallback)((()=>m(!1)),[]),modal:a},n))},I="PopoverTrigger",k=(0,r.forwardRef)(((e,t)=>{const{__scopePopover:n,...a}=e,l=S(I,n),c=C(n),u=(0,s.e)(t,l.triggerRef),d=(0,r.createElement)(h.WV.button,(0,o.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":F(l.open)},a,{ref:u,onClick:(0,i.M)(e.onClick,l.onOpenToggle)}));return l.hasCustomAnchor?d:(0,r.createElement)(f.ee,(0,o.Z)({asChild:!0},c),d)})),M="PopoverPortal",[O,P]=E(M,{forceMount:void 0}),_=e=>{const{__scopePopover:t,forceMount:n,children:o,container:i}=e,s=S(M,t);return(0,r.createElement)(O,{scope:t,forceMount:n},(0,r.createElement)(p.z,{present:n||s.open},(0,r.createElement)(m.h,{asChild:!0,container:i},o)))},A="PopoverContent",D=(0,r.forwardRef)(((e,t)=>{const n=P(A,e.__scopePopover),{forceMount:i=n.forceMount,...s}=e,a=S(A,e.__scopePopover);return(0,r.createElement)(p.z,{present:i||a.open},a.modal?(0,r.createElement)(N,(0,o.Z)({},s,{ref:t})):(0,r.createElement)(L,(0,o.Z)({},s,{ref:t})))})),N=(0,r.forwardRef)(((e,t)=>{const n=S(A,e.__scopePopover),a=(0,r.useRef)(null),l=(0,s.e)(t,a),c=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{const e=a.current;if(e)return(0,y.R)(e)}),[]),(0,r.createElement)(w.Z,{as:g.g7,allowPinchZoom:!0},(0,r.createElement)(H,(0,o.Z)({},e,{ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,i.M)(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),c.current||null===(t=n.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:(0,i.M)(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,o=2===t.button||n;c.current=o}),{checkForDefaultPrevented:!1}),onFocusOutside:(0,i.M)(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1})})))})),L=(0,r.forwardRef)(((e,t)=>{const n=S(A,e.__scopePopover),i=(0,r.useRef)(!1),s=(0,r.useRef)(!1);return(0,r.createElement)(H,(0,o.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var o,r;(null===(o=e.onCloseAutoFocus)||void 0===o||o.call(e,t),t.defaultPrevented)||(i.current||null===(r=n.triggerRef.current)||void 0===r||r.focus(),t.preventDefault());i.current=!1,s.current=!1},onInteractOutside:t=>{var o,r;null===(o=e.onInteractOutside)||void 0===o||o.call(e,t),t.defaultPrevented||(i.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));const a=t.target;(null===(r=n.triggerRef.current)||void 0===r?void 0:r.contains(a))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}}))})),H=(0,r.forwardRef)(((e,t)=>{const{__scopePopover:n,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:g,...v}=e,y=S(A,n),w=C(n);return(0,c.EW)(),(0,r.createElement)(u.M,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:a},(0,r.createElement)(l.XB,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:g,onEscapeKeyDown:m,onPointerDownOutside:p,onFocusOutside:h,onDismiss:()=>y.onOpenChange(!1)},(0,r.createElement)(f.VY,(0,o.Z)({"data-state":F(y.open),role:"dialog",id:y.contentId},w,v,{ref:t,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))}));function F(e){return e?"open":"closed"}const z=R,B=_,V=D},30395:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var o=n(87462),r=n(67294),i=n(73935),s=n(75320);const a=(0,r.forwardRef)(((e,t)=>{var n;const{container:a=(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body),...l}=e;return a?i.createPortal((0,r.createElement)(s.WV.div,(0,o.Z)({},l,{ref:t})),a):null}))},10021:function(e,t,n){"use strict";n.d(t,{VY:function(){return K},fC:function(){return j},h_:function(){return $},pn:function(){return S},xz:function(){return W}});var o=n(87462),r=n(67294),i=n(36206),s=n(30098),a=n(99276),l=n(73409),c=n(92936),u=n(40308),d=n(30395),f=n(438),m=n(75320),p=n(4222),h=n(42427),g=n(96219);const[v,y]=(0,a.b)("Tooltip",[u.D7]),w=(0,u.D7)(),b="TooltipProvider",E=700,x="tooltip.open",[C,T]=v(b),S=e=>{const{__scopeTooltip:t,delayDuration:n=E,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:s}=e,[a,l]=(0,r.useState)(!0),c=(0,r.useRef)(!1),u=(0,r.useRef)(0);return(0,r.useEffect)((()=>{const e=u.current;return()=>window.clearTimeout(e)}),[]),(0,r.createElement)(C,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:(0,r.useCallback)((()=>{window.clearTimeout(u.current),l(!1)}),[]),onClose:(0,r.useCallback)((()=>{window.clearTimeout(u.current),u.current=window.setTimeout((()=>l(!0)),o)}),[o]),isPointerInTransitRef:c,onPointerInTransitChange:(0,r.useCallback)((e=>{c.current=e}),[]),disableHoverableContent:i},s)},R="Tooltip",[I,k]=v(R),M=e=>{const{__scopeTooltip:t,children:n,open:o,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:l}=e,d=T(R,e.__scopeTooltip),f=w(t),[m,p]=(0,r.useState)(null),g=(0,c.M)(),v=(0,r.useRef)(0),y=null!==a&&void 0!==a?a:d.disableHoverableContent,b=null!==l&&void 0!==l?l:d.delayDuration,E=(0,r.useRef)(!1),[C=!1,S]=(0,h.T)({prop:o,defaultProp:i,onChange:e=>{e?(d.onOpen(),document.dispatchEvent(new CustomEvent(x))):d.onClose(),null===s||void 0===s||s(e)}}),k=(0,r.useMemo)((()=>C?E.current?"delayed-open":"instant-open":"closed"),[C]),M=(0,r.useCallback)((()=>{window.clearTimeout(v.current),E.current=!1,S(!0)}),[S]),O=(0,r.useCallback)((()=>{window.clearTimeout(v.current),S(!1)}),[S]),P=(0,r.useCallback)((()=>{window.clearTimeout(v.current),v.current=window.setTimeout((()=>{E.current=!0,S(!0)}),b)}),[b,S]);return(0,r.useEffect)((()=>()=>window.clearTimeout(v.current)),[]),(0,r.createElement)(u.fC,f,(0,r.createElement)(I,{scope:t,contentId:g,open:C,stateAttribute:k,trigger:m,onTriggerChange:p,onTriggerEnter:(0,r.useCallback)((()=>{d.isOpenDelayed?P():M()}),[d.isOpenDelayed,P,M]),onTriggerLeave:(0,r.useCallback)((()=>{y?O():window.clearTimeout(v.current)}),[O,y]),onOpen:M,onClose:O,disableHoverableContent:y},n))},O="TooltipTrigger",P=(0,r.forwardRef)(((e,t)=>{const{__scopeTooltip:n,...a}=e,l=k(O,n),c=T(O,n),d=w(n),f=(0,r.useRef)(null),p=(0,s.e)(t,f,l.onTriggerChange),h=(0,r.useRef)(!1),g=(0,r.useRef)(!1),v=(0,r.useCallback)((()=>h.current=!1),[]);return(0,r.useEffect)((()=>()=>document.removeEventListener("pointerup",v)),[v]),(0,r.createElement)(u.ee,(0,o.Z)({asChild:!0},d),(0,r.createElement)(m.WV.button,(0,o.Z)({"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute},a,{ref:p,onPointerMove:(0,i.M)(e.onPointerMove,(e=>{"touch"!==e.pointerType&&(g.current||c.isPointerInTransitRef.current||(l.onTriggerEnter(),g.current=!0))})),onPointerLeave:(0,i.M)(e.onPointerLeave,(()=>{l.onTriggerLeave(),g.current=!1})),onPointerDown:(0,i.M)(e.onPointerDown,(()=>{h.current=!0,document.addEventListener("pointerup",v,{once:!0})})),onFocus:(0,i.M)(e.onFocus,(()=>{h.current||l.onOpen()})),onBlur:(0,i.M)(e.onBlur,l.onClose),onClick:(0,i.M)(e.onClick,l.onClose)})))})),_="TooltipPortal",[A,D]=v(_,{forceMount:void 0}),N=e=>{const{__scopeTooltip:t,forceMount:n,children:o,container:i}=e,s=k(_,t);return(0,r.createElement)(A,{scope:t,forceMount:n},(0,r.createElement)(f.z,{present:n||s.open},(0,r.createElement)(d.h,{asChild:!0,container:i},o)))},L="TooltipContent",H=(0,r.forwardRef)(((e,t)=>{const n=D(L,e.__scopeTooltip),{forceMount:i=n.forceMount,side:s="top",...a}=e,l=k(L,e.__scopeTooltip);return(0,r.createElement)(f.z,{present:i||l.open},l.disableHoverableContent?(0,r.createElement)(V,(0,o.Z)({side:s},a,{ref:t})):(0,r.createElement)(F,(0,o.Z)({side:s},a,{ref:t})))})),F=(0,r.forwardRef)(((e,t)=>{const n=k(L,e.__scopeTooltip),i=T(L,e.__scopeTooltip),a=(0,r.useRef)(null),l=(0,s.e)(t,a),[c,u]=(0,r.useState)(null),{trigger:d,onClose:f}=n,m=a.current,{onPointerInTransitChange:p}=i,h=(0,r.useCallback)((()=>{u(null),p(!1)}),[p]),g=(0,r.useCallback)(((e,t)=>{const n=e.currentTarget,o={x:e.clientX,y:e.clientY},r=function(e,t,n=5){const o=[];switch(t){case"top":o.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":o.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":o.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":o.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return o}(o,function(e,t){const n=Math.abs(t.top-e.y),o=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,o,r,i)){case i:return"left";case r:return"right";case n:return"top";case o:return"bottom";default:throw new Error("unreachable")}}(o,n.getBoundingClientRect())),i=function(e){const t=e.slice();return t.sort(((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0)),function(e){if(e.length<=1)return e.slice();const t=[];for(let o=0;o<e.length;o++){const n=e[o];for(;t.length>=2;){const e=t[t.length-1],o=t[t.length-2];if(!((e.x-o.x)*(n.y-o.y)>=(e.y-o.y)*(n.x-o.x)))break;t.pop()}t.push(n)}t.pop();const n=[];for(let o=e.length-1;o>=0;o--){const t=e[o];for(;n.length>=2;){const e=n[n.length-1],o=n[n.length-2];if(!((e.x-o.x)*(t.y-o.y)>=(e.y-o.y)*(t.x-o.x)))break;n.pop()}n.push(t)}return n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}(t)}([...r,...function(e){const{top:t,right:n,bottom:o,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:o},{x:r,y:o}]}(t.getBoundingClientRect())]);u(i),p(!0)}),[p]);return(0,r.useEffect)((()=>()=>h()),[h]),(0,r.useEffect)((()=>{if(d&&m){const e=e=>g(e,m),t=e=>g(e,d);return d.addEventListener("pointerleave",e),m.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),m.removeEventListener("pointerleave",t)}}}),[d,m,g,h]),(0,r.useEffect)((()=>{if(c){const e=e=>{const t=e.target,n={x:e.clientX,y:e.clientY},o=(null===d||void 0===d?void 0:d.contains(t))||(null===m||void 0===m?void 0:m.contains(t)),r=!function(e,t){const{x:n,y:o}=e;let r=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const e=t[i].x,a=t[i].y,l=t[s].x,c=t[s].y;a>o!==c>o&&n<(l-e)*(o-a)/(c-a)+e&&(r=!r)}return r}(n,c);o?h():r&&(h(),f())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}}),[d,m,c,f,h]),(0,r.createElement)(V,(0,o.Z)({},e,{ref:l}))})),[z,B]=v(R,{isInside:!1}),V=(0,r.forwardRef)(((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:c,...d}=e,f=k(L,n),m=w(n),{onClose:h}=f;return(0,r.useEffect)((()=>(document.addEventListener(x,h),()=>document.removeEventListener(x,h))),[h]),(0,r.useEffect)((()=>{if(f.trigger){const e=e=>{const t=e.target;null!==t&&void 0!==t&&t.contains(f.trigger)&&h()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}}),[f.trigger,h]),(0,r.createElement)(l.XB,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:e=>e.preventDefault(),onDismiss:h},(0,r.createElement)(u.VY,(0,o.Z)({"data-state":f.stateAttribute},m,d,{ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),(0,r.createElement)(p.A4,null,i),(0,r.createElement)(z,{scope:n,isInside:!0},(0,r.createElement)(g.f,{id:f.contentId,role:"tooltip"},s||i))))}));const j=M,W=P,$=N,K=H},37523:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});var o=n(67294);function r(e){const t=(0,o.useRef)(e);return(0,o.useEffect)((()=>{t.current=e})),(0,o.useMemo)((()=>(...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)}),[])}},42427:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var o=n(67294),r=n(37523);function i({prop:e,defaultProp:t,onChange:n=(()=>{})}){const[i,s]=function({defaultProp:e,onChange:t}){const n=(0,o.useState)(e),[i]=n,s=(0,o.useRef)(i),a=(0,r.W)(t);return(0,o.useEffect)((()=>{s.current!==i&&(a(i),s.current=i)}),[i,s,a]),n}({defaultProp:t,onChange:n}),a=void 0!==e,l=a?e:i,c=(0,r.W)(n);return[l,(0,o.useCallback)((t=>{if(a){const n=t,o="function"===typeof t?n(e):t;o!==e&&c(o)}else s(t)}),[a,e,s,c])]}},73409:function(e,t,n){"use strict";n.d(t,{XB:function(){return h}});var o=n(87462),r=n(67294),i=n(36206),s=n(75320);function a(...e){return(0,r.useCallback)(function(...e){return t=>e.forEach((e=>function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(e,t)))}(...e),e)}function l(e){const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e})),(0,r.useMemo)((()=>(...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)}),[])}var c=n(95629);const u="dismissableLayer.update",d="dismissableLayer.pointerDownOutside",f="dismissableLayer.focusOutside";let m;const p=(0,r.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),h=(0,r.forwardRef)(((e,t)=>{var n;const{disableOutsidePointerEvents:h=!1,onEscapeKeyDown:y,onPointerDownOutside:w,onFocusOutside:b,onInteractOutside:E,onDismiss:x,...C}=e,T=(0,r.useContext)(p),[S,R]=(0,r.useState)(null),I=null!==(n=null===S||void 0===S?void 0:S.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,k]=(0,r.useState)({}),M=a(t,(e=>R(e))),O=Array.from(T.layers),[P]=[...T.layersWithOutsidePointerEventsDisabled].slice(-1),_=O.indexOf(P),A=S?O.indexOf(S):-1,D=T.layersWithOutsidePointerEventsDisabled.size>0,N=A>=_,L=function(e,t=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const n=l(e),o=(0,r.useRef)(!1),i=(0,r.useRef)((()=>{}));return(0,r.useEffect)((()=>{const e=e=>{if(e.target&&!o.current){const r={originalEvent:e};function s(){v(d,n,r,{discrete:!0})}"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=s,t.addEventListener("click",i.current,{once:!0})):s()}else t.removeEventListener("click",i.current);o.current=!1},r=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,n]),{onPointerDownCapture:()=>o.current=!0}}((e=>{const t=e.target,n=[...T.branches].some((e=>e.contains(t)));N&&!n&&(null===w||void 0===w||w(e),null===E||void 0===E||E(e),e.defaultPrevented||null===x||void 0===x||x())}),I),H=function(e,t=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const n=l(e),o=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{const e=e=>{if(e.target&&!o.current){v(f,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}((e=>{const t=e.target;[...T.branches].some((e=>e.contains(t)))||(null===b||void 0===b||b(e),null===E||void 0===E||E(e),e.defaultPrevented||null===x||void 0===x||x())}),I);return(0,c.e)((e=>{A===T.layers.size-1&&(null===y||void 0===y||y(e),!e.defaultPrevented&&x&&(e.preventDefault(),x()))}),I),(0,r.useEffect)((()=>{if(S)return h&&(0===T.layersWithOutsidePointerEventsDisabled.size&&(m=I.body.style.pointerEvents,I.body.style.pointerEvents="none"),T.layersWithOutsidePointerEventsDisabled.add(S)),T.layers.add(S),g(),()=>{h&&1===T.layersWithOutsidePointerEventsDisabled.size&&(I.body.style.pointerEvents=m)}}),[S,I,h,T]),(0,r.useEffect)((()=>()=>{S&&(T.layers.delete(S),T.layersWithOutsidePointerEventsDisabled.delete(S),g())}),[S,T]),(0,r.useEffect)((()=>{const e=()=>k({});return document.addEventListener(u,e),()=>document.removeEventListener(u,e)}),[]),(0,r.createElement)(s.WV.div,(0,o.Z)({},C,{ref:M,style:{pointerEvents:D?N?"auto":"none":void 0,...e.style},onFocusCapture:(0,i.M)(e.onFocusCapture,H.onFocusCapture),onBlurCapture:(0,i.M)(e.onBlurCapture,H.onBlurCapture),onPointerDownCapture:(0,i.M)(e.onPointerDownCapture,L.onPointerDownCapture)}))}));function g(){const e=new CustomEvent(u);document.dispatchEvent(e)}function v(e,t,n,{discrete:o}){const r=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),o?(0,s.jH)(r,i):r.dispatchEvent(i)}},45850:function(e,t,n){"use strict";n.d(t,{M:function(){return u}});var o=n(87462),r=n(67294);var i=n(75320);function s(e){const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e})),(0,r.useMemo)((()=>(...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)}),[])}const a="focusScope.autoFocusOnMount",l="focusScope.autoFocusOnUnmount",c={bubbles:!1,cancelable:!0},u=(0,r.forwardRef)(((e,t)=>{const{loop:n=!1,trapped:u=!1,onMountAutoFocus:m,onUnmountAutoFocus:g,...v}=e,[y,w]=(0,r.useState)(null),b=s(m),E=s(g),x=(0,r.useRef)(null),C=function(...e){return(0,r.useCallback)(function(...e){return t=>e.forEach((e=>function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(e,t)))}(...e),e)}(t,(e=>w(e))),T=(0,r.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,r.useEffect)((()=>{if(u){function e(e){if(T.paused||!y)return;const t=e.target;y.contains(t)?x.current=t:p(x.current,{select:!0})}function t(e){if(T.paused||!y)return;const t=e.relatedTarget;null!==t&&(y.contains(t)||p(x.current,{select:!0}))}function n(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&p(y)}document.addEventListener("focusin",e),document.addEventListener("focusout",t);const o=new MutationObserver(n);return y&&o.observe(y,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),o.disconnect()}}}),[u,y,T.paused]),(0,r.useEffect)((()=>{if(y){h.add(T);const t=document.activeElement;if(!y.contains(t)){const n=new CustomEvent(a,c);y.addEventListener(a,b),y.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(p(o,{select:t}),document.activeElement!==n)return}((e=d(y),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&p(y))}return()=>{y.removeEventListener(a,b),setTimeout((()=>{const e=new CustomEvent(l,c);y.addEventListener(l,E),y.dispatchEvent(e),e.defaultPrevented||p(null!==t&&void 0!==t?t:document.body,{select:!0}),y.removeEventListener(l,E),h.remove(T)}),0)}}var e}),[y,b,E,T]);const S=(0,r.useCallback)((e=>{if(!n&&!u)return;if(T.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,o=document.activeElement;if(t&&o){const t=e.currentTarget,[r,i]=function(e){const t=d(e),n=f(t,e),o=f(t.reverse(),e);return[n,o]}(t);r&&i?e.shiftKey||o!==i?e.shiftKey&&o===r&&(e.preventDefault(),n&&p(i,{select:!0})):(e.preventDefault(),n&&p(r,{select:!0})):o===t&&e.preventDefault()}}),[n,u,T.paused]);return(0,r.createElement)(i.WV.div,(0,o.Z)({tabIndex:-1},v,{ref:C,onKeyDown:S}))}));function d(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function f(e,t){for(const n of e)if(!m(n,{upTo:t}))return n}function m(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function p(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}const h=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null===n||void 0===n||n.pause()),e=g(e,t),e.unshift(t)},remove(t){var n;e=g(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function g(e,t){const n=[...e],o=n.indexOf(t);return-1!==o&&n.splice(o,1),n}},40308:function(e,t,n){"use strict";n.d(t,{ee:function(){return de},Eh:function(){return me},VY:function(){return fe},fC:function(){return ue},D7:function(){return Z}});var o=n(87462),r=n(67294),i=n(71347);function s(e,t,n){let{reference:o,floating:r}=e;const s=(0,i.Qq)(t),a=(0,i.Wh)(t),l=(0,i.I4)(a),c=(0,i.k3)(t),u="y"===s,d=o.x+o.width/2-r.width/2,f=o.y+o.height/2-r.height/2,m=o[l]/2-r[l]/2;let p;switch(c){case"top":p={x:d,y:o.y-r.height};break;case"bottom":p={x:d,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:f};break;case"left":p={x:o.x-r.width,y:f};break;default:p={x:o.x,y:o.y}}switch((0,i.hp)(t)){case"start":p[a]-=m*(n&&u?-1:1);break;case"end":p[a]+=m*(n&&u?-1:1)}return p}async function a(e,t){var n;void 0===t&&(t={});const{x:o,y:r,platform:s,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=(0,i.ku)(t,e),h=(0,i.yd)(p),g=l[m?"floating"===f?"reference":"floating":f],v=(0,i.JB)(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(g)))||n?g:g.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y="floating"===f?{...a.floating,x:o,y:r}:a.reference,w=await(null==s.getOffsetParent?void 0:s.getOffsetParent(l.floating)),b=await(null==s.isElement?void 0:s.isElement(w))&&await(null==s.getScale?void 0:s.getScale(w))||{x:1,y:1},E=(0,i.JB)(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(v.top-E.top+h.top)/b.y,bottom:(E.bottom-v.bottom+h.bottom)/b.y,left:(v.left-E.left+h.left)/b.x,right:(E.right-v.right+h.right)/b.x}}function l(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function c(e){return i.mA.some((t=>e[t]>=0))}const u=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:s,placement:a,middlewareData:l}=t,c=await async function(e,t){const{placement:n,platform:o,elements:r}=e,s=await(null==o.isRTL?void 0:o.isRTL(r.floating)),a=(0,i.k3)(n),l=(0,i.hp)(n),c="y"===(0,i.Qq)(n),u=["left","top"].includes(a)?-1:1,d=s&&c?-1:1,f=(0,i.ku)(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:h}="number"===typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return l&&"number"===typeof h&&(p="end"===l?-1*h:h),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}(t,e);return a===(null==(n=l.offset)?void 0:n.placement)&&null!=(o=l.arrow)&&o.alignmentOffset?{}:{x:r+c.x,y:s+c.y,data:{...c,placement:a}}}}};var d=n(37317);function f(e){const t=(0,d.Dx)(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=(0,d.Re)(e),s=r?e.offsetWidth:n,a=r?e.offsetHeight:o,l=(0,i.NM)(n)!==s||(0,i.NM)(o)!==a;return l&&(n=s,o=a),{width:n,height:o,$:l}}function m(e){return(0,d.kK)(e)?e:e.contextElement}function p(e){const t=m(e);if(!(0,d.Re)(t))return(0,i.ze)(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:s}=f(t);let a=(s?(0,i.NM)(n.width):n.width)/o,l=(s?(0,i.NM)(n.height):n.height)/r;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}const h=(0,i.ze)(0);function g(e){const t=(0,d.Jj)(e);return(0,d.Pf)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:h}function v(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=e.getBoundingClientRect(),s=m(e);let a=(0,i.ze)(1);t&&(o?(0,d.kK)(o)&&(a=p(o)):a=p(e));const l=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==(0,d.Jj)(e))&&t}(s,n,o)?g(s):(0,i.ze)(0);let c=(r.left+l.x)/a.x,u=(r.top+l.y)/a.y,f=r.width/a.x,h=r.height/a.y;if(s){const e=(0,d.Jj)(s),t=o&&(0,d.kK)(o)?(0,d.Jj)(o):o;let n=e,r=n.frameElement;for(;r&&o&&t!==n;){const e=p(r),t=r.getBoundingClientRect(),o=(0,d.Dx)(r),i=t.left+(r.clientLeft+parseFloat(o.paddingLeft))*e.x,s=t.top+(r.clientTop+parseFloat(o.paddingTop))*e.y;c*=e.x,u*=e.y,f*=e.x,h*=e.y,c+=i,u+=s,n=(0,d.Jj)(r),r=n.frameElement}}return(0,i.JB)({width:f,height:h,x:c,y:u})}const y=[":popover-open",":modal"];function w(e){return y.some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function b(e){return v((0,d.tF)(e)).left+(0,d.Lw)(e).scrollLeft}function E(e,t,n){let o;if("viewport"===t)o=function(e,t){const n=(0,d.Jj)(e),o=(0,d.tF)(e),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,a=0,l=0;if(r){i=r.width,s=r.height;const e=(0,d.Pf)();(!e||e&&"fixed"===t)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:i,height:s,x:a,y:l}}(e,n);else if("document"===t)o=function(e){const t=(0,d.tF)(e),n=(0,d.Lw)(e),o=e.ownerDocument.body,r=(0,i.Fp)(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),s=(0,i.Fp)(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+b(e);const l=-n.scrollTop;return"rtl"===(0,d.Dx)(o).direction&&(a+=(0,i.Fp)(t.clientWidth,o.clientWidth)-r),{width:r,height:s,x:a,y:l}}((0,d.tF)(e));else if((0,d.kK)(t))o=function(e,t){const n=v(e,!0,"fixed"===t),o=n.top+e.clientTop,r=n.left+e.clientLeft,s=(0,d.Re)(e)?p(e):(0,i.ze)(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:r*s.x,y:o*s.y}}(t,n);else{const n=g(e);o={...t,x:t.x-n.x,y:t.y-n.y}}return(0,i.JB)(o)}function x(e,t){const n=(0,d.Ow)(e);return!(n===t||!(0,d.kK)(n)||(0,d.Py)(n))&&("fixed"===(0,d.Dx)(n).position||x(n,t))}function C(e,t,n){const o=(0,d.Re)(t),r=(0,d.tF)(t),s="fixed"===n,a=v(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=(0,i.ze)(0);if(o||!o&&!s)if(("body"!==(0,d.wk)(t)||(0,d.ao)(r))&&(l=(0,d.Lw)(t)),o){const e=v(t,!0,s,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else r&&(c.x=b(r));return{x:a.left+l.scrollLeft-c.x,y:a.top+l.scrollTop-c.y,width:a.width,height:a.height}}function T(e,t){return(0,d.Re)(e)&&"fixed"!==(0,d.Dx)(e).position?t?t(e):e.offsetParent:null}function S(e,t){const n=(0,d.Jj)(e);if(!(0,d.Re)(e)||w(e))return n;let o=T(e,t);for(;o&&(0,d.Ze)(o)&&"static"===(0,d.Dx)(o).position;)o=T(o,t);return o&&("html"===(0,d.wk)(o)||"body"===(0,d.wk)(o)&&"static"===(0,d.Dx)(o).position&&!(0,d.hT)(o))?n:o||(0,d.gQ)(e)||n}const R={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const s="fixed"===r,a=(0,d.tF)(o),l=!!t&&w(t.floating);if(o===a||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=(0,i.ze)(1);const f=(0,i.ze)(0),m=(0,d.Re)(o);if((m||!m&&!s)&&(("body"!==(0,d.wk)(o)||(0,d.ao)(a))&&(c=(0,d.Lw)(o)),(0,d.Re)(o))){const e=v(o);u=p(o),f.x=e.x+o.clientLeft,f.y=e.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x,y:n.y*u.y-c.scrollTop*u.y+f.y}},getDocumentElement:d.tF,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const s="clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let o=(0,d.Kx)(e,[],!1).filter((e=>(0,d.kK)(e)&&"body"!==(0,d.wk)(e))),r=null;const i="fixed"===(0,d.Dx)(e).position;let s=i?(0,d.Ow)(e):e;for(;(0,d.kK)(s)&&!(0,d.Py)(s);){const t=(0,d.Dx)(s),n=(0,d.hT)(s);n||"fixed"!==t.position||(r=null),(i?!n&&!r:!n&&"static"===t.position&&r&&["absolute","fixed"].includes(r.position)||(0,d.ao)(s)&&!n&&x(e,s))?o=o.filter((e=>e!==s)):r=t,s=(0,d.Ow)(s)}return t.set(e,o),o}(t,this._c):[].concat(n),a=[...s,o],l=a[0],c=a.reduce(((e,n)=>{const o=E(t,n,r);return e.top=(0,i.Fp)(o.top,e.top),e.right=(0,i.VV)(o.right,e.right),e.bottom=(0,i.VV)(o.bottom,e.bottom),e.left=(0,i.Fp)(o.left,e.left),e}),E(t,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:S,getElementRects:async function(e){const t=this.getOffsetParent||S,n=this.getDimensions;return{reference:C(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=f(e);return{width:t,height:n}},getScale:p,isElement:d.kK,isRTL:function(e){return"rtl"===(0,d.Dx)(e).direction}};function I(e,t,n,o){void 0===o&&(o={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:l="function"===typeof IntersectionObserver,animationFrame:c=!1}=o,u=m(e),f=r||s?[...u?(0,d.Kx)(u):[],...(0,d.Kx)(t)]:[];f.forEach((e=>{r&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));const p=u&&l?function(e,t){let n,o=null;const r=(0,d.tF)(e);function s(){var e;clearTimeout(n),null==(e=o)||e.disconnect(),o=null}return function a(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),s();const{left:u,top:d,width:f,height:m}=e.getBoundingClientRect();if(l||t(),!f||!m)return;const p={rootMargin:-(0,i.GW)(d)+"px "+-(0,i.GW)(r.clientWidth-(u+f))+"px "+-(0,i.GW)(r.clientHeight-(d+m))+"px "+-(0,i.GW)(u)+"px",threshold:(0,i.Fp)(0,(0,i.VV)(1,c))||1};let h=!0;function g(e){const t=e[0].intersectionRatio;if(t!==c){if(!h)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),100)}h=!1}try{o=new IntersectionObserver(g,{...p,root:r.ownerDocument})}catch(v){o=new IntersectionObserver(g,p)}o.observe(e)}(!0),s}(u,n):null;let h,g=-1,y=null;a&&(y=new ResizeObserver((e=>{let[o]=e;o&&o.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame((()=>{var e;null==(e=y)||e.observe(t)}))),n()})),u&&!c&&y.observe(u),y.observe(t));let w=c?v(e):null;return c&&function t(){const o=v(e);!w||o.x===w.x&&o.y===w.y&&o.width===w.width&&o.height===w.height||n();w=o,h=requestAnimationFrame(t)}(),n(),()=>{var e;f.forEach((e=>{r&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),null==p||p(),null==(e=y)||e.disconnect(),y=null,c&&cancelAnimationFrame(h)}}const k=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:c={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...u}=(0,i.ku)(e,t),d={x:n,y:o},f=await a(t,u),m=(0,i.Qq)((0,i.k3)(r)),p=(0,i.Rn)(m);let h=d[p],g=d[m];if(s){const e="y"===p?"bottom":"right",t=h+f["y"===p?"top":"left"],n=h-f[e];h=(0,i.uZ)(t,h,n)}if(l){const e="y"===m?"bottom":"right",t=g+f["y"===m?"top":"left"],n=g-f[e];g=(0,i.uZ)(t,g,n)}const v=c.fn({...t,[p]:h,[m]:g});return{...v,data:{x:v.x-n,y:v.y-o}}}}},M=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:s,rects:l,initialPlacement:c,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=(0,i.ku)(e,t);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const w=(0,i.k3)(r),b=(0,i.k3)(c)===c,E=await(null==u.isRTL?void 0:u.isRTL(d.floating)),x=p||(b||!v?[(0,i.pw)(c)]:(0,i.gy)(c));p||"none"===g||x.push(...(0,i.KX)(c,v,g,E));const C=[c,...x],T=await a(t,y),S=[];let R=(null==(o=s.flip)?void 0:o.overflows)||[];if(f&&S.push(T[w]),m){const e=(0,i.i8)(r,l,E);S.push(T[e[0]],T[e[1]])}if(R=[...R,{placement:r,overflows:S}],!S.every((e=>e<=0))){var I,k;const e=((null==(I=s.flip)?void 0:I.index)||0)+1,t=C[e];if(t)return{data:{index:e,overflows:R},reset:{placement:t}};let n=null==(k=R.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:k.placement;if(!n)switch(h){case"bestFit":{var M;const e=null==(M=R.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:M[0];e&&(n=e);break}case"initialPlacement":n=c}if(r!==n)return{reset:{placement:n}}}return{}}}},O=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:o,platform:r,elements:s}=t,{apply:l=(()=>{}),...c}=(0,i.ku)(e,t),u=await a(t,c),d=(0,i.k3)(n),f=(0,i.hp)(n),m="y"===(0,i.Qq)(n),{width:p,height:h}=o.floating;let g,v;"top"===d||"bottom"===d?(g=d,v=f===(await(null==r.isRTL?void 0:r.isRTL(s.floating))?"start":"end")?"left":"right"):(v=d,g="end"===f?"top":"bottom");const y=h-u[g],w=p-u[v],b=!t.middlewareData.shift;let E=y,x=w;if(m){const e=p-u.left-u.right;x=f||b?(0,i.VV)(w,e):e}else{const e=h-u.top-u.bottom;E=f||b?(0,i.VV)(y,e):e}if(b&&!f){const e=(0,i.Fp)(u.left,0),t=(0,i.Fp)(u.right,0),n=(0,i.Fp)(u.top,0),o=(0,i.Fp)(u.bottom,0);m?x=p-2*(0!==e||0!==t?e+t:(0,i.Fp)(u.left,u.right)):E=h-2*(0!==n||0!==o?n+o:(0,i.Fp)(u.top,u.bottom))}await l({...t,availableWidth:x,availableHeight:E});const C=await r.getDimensions(s.floating);return p!==C.width||h!==C.height?{reset:{rects:!0}}:{}}}},P=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...r}=(0,i.ku)(e,t);switch(o){case"referenceHidden":{const e=l(await a(t,{...r,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:c(e)}}}case"escaped":{const e=l(await a(t,{...r,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:c(e)}}}default:return{}}}}},_=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:r,rects:s,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=(0,i.ku)(e,t)||{};if(null==u)return{};const f=(0,i.yd)(d),m={x:n,y:o},p=(0,i.Wh)(r),h=(0,i.I4)(p),g=await a.getDimensions(u),v="y"===p,y=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",E=s.reference[h]+s.reference[p]-m[p]-s.floating[h],x=m[p]-s.reference[p],C=await(null==a.getOffsetParent?void 0:a.getOffsetParent(u));let T=C?C[b]:0;T&&await(null==a.isElement?void 0:a.isElement(C))||(T=l.floating[b]||s.floating[h]);const S=E/2-x/2,R=T/2-g[h]/2-1,I=(0,i.VV)(f[y],R),k=(0,i.VV)(f[w],R),M=I,O=T-g[h]-k,P=T/2-g[h]/2+S,_=(0,i.uZ)(M,P,O),A=!c.arrow&&null!=(0,i.hp)(r)&&P!==_&&s.reference[h]/2-(P<M?I:k)-g[h]/2<0,D=A?P<M?P-M:P-O:0;return{[p]:m[p]+D,data:{[p]:_,centerOffset:P-_-D,...A&&{alignmentOffset:D}},reset:A}}}),A=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:r,rects:s,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=(0,i.ku)(e,t),d={x:n,y:o},f=(0,i.Qq)(r),m=(0,i.Rn)(f);let p=d[m],h=d[f];const g=(0,i.ku)(l,t),v="number"===typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const e="y"===m?"height":"width",t=s.reference[m]-s.floating[e]+v.mainAxis,n=s.reference[m]+s.reference[e]-v.mainAxis;p<t?p=t:p>n&&(p=n)}if(u){var y,w;const e="y"===m?"width":"height",t=["top","left"].includes((0,i.k3)(r)),n=s.reference[f]-s.floating[e]+(t&&(null==(y=a.offset)?void 0:y[f])||0)+(t?0:v.crossAxis),o=s.reference[f]+s.reference[e]+(t?0:(null==(w=a.offset)?void 0:w[f])||0)-(t?v.crossAxis:0);h<n?h=n:h>o&&(h=o)}return{[m]:p,[f]:h}}}},D=(e,t,n)=>{const o=new Map,r={platform:R,...n},i={...r.platform,_c:o};return(async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(null==a.isRTL?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:f}=s(u,o,c),m=o,p={},h=0;for(let g=0;g<l.length;g++){const{name:n,fn:i}=l[g],{x:v,y:y,data:w,reset:b}=await i({x:d,y:f,initialPlacement:o,placement:m,strategy:r,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=null!=v?v:d,f=null!=y?y:f,p={...p,[n]:{...p[n],...w}},b&&h<=50&&(h++,"object"===typeof b&&(b.placement&&(m=b.placement),b.rects&&(u=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:r}):b.rects),({x:d,y:f}=s(u,m,c))),g=-1)}return{x:d,y:f,placement:m,strategy:r,middlewareData:p}})(e,t,{...r,platform:i})};var N=n(73935);var L="undefined"!==typeof document?r.useLayoutEffect:r.useEffect;function H(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;0!==o--;)if(!H(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;0!==o--;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;0!==o--;){const n=r[o];if(("_owner"!==n||!e.$$typeof)&&!H(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function F(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function z(e,t){const n=F(e);return Math.round(t*n)/n}function B(e){const t=r.useRef(e);return L((()=>{t.current=e})),t}var V=n(50573);function j(...e){return(0,r.useCallback)(function(...e){return t=>e.forEach((e=>function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(e,t)))}(...e),e)}function W(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=n.reduce(((t,{useScope:n,scopeName:o})=>({...t,...n(e)[`__scope${o}`]})),{});return(0,r.useMemo)((()=>({[`__scope${t.scopeName}`]:o})),[o])}};return n.scopeName=t.scopeName,n}var $=n(75320);const K=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?r.useLayoutEffect:()=>{};const U="Popper",[G,Z]=function(e,t=[]){let n=[];const o=()=>{const t=n.map((e=>(0,r.createContext)(e)));return function(n){const o=(null===n||void 0===n?void 0:n[e])||t;return(0,r.useMemo)((()=>({[`__scope${e}`]:{...n,[e]:o}})),[n,o])}};return o.scopeName=e,[function(t,o){const i=(0,r.createContext)(o),s=n.length;function a(t){const{scope:n,children:o,...a}=t,l=(null===n||void 0===n?void 0:n[e][s])||i,c=(0,r.useMemo)((()=>a),Object.values(a));return(0,r.createElement)(l.Provider,{value:c},o)}return n=[...n,o],a.displayName=t+"Provider",[a,function(n,a){const l=(null===a||void 0===a?void 0:a[e][s])||i,c=(0,r.useContext)(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},W(o,...t)]}(U),[Y,J]=G(U),q=e=>{const{__scopePopper:t,children:n}=e,[o,i]=(0,r.useState)(null);return(0,r.createElement)(Y,{scope:t,anchor:o,onAnchorChange:i},n)},X="PopperAnchor",Q=(0,r.forwardRef)(((e,t)=>{const{__scopePopper:n,virtualRef:i,...s}=e,a=J(X,n),l=(0,r.useRef)(null),c=j(t,l);return(0,r.useEffect)((()=>{a.onAnchorChange((null===i||void 0===i?void 0:i.current)||l.current)})),i?null:(0,r.createElement)($.WV.div,(0,o.Z)({},s,{ref:c}))})),ee="PopperContent",[te,ne]=G(ee),oe=(0,r.forwardRef)(((e,t)=>{var n,i,s,a,l,c,d,f;const{__scopePopper:m,side:p="bottom",sideOffset:h=0,align:g="center",alignOffset:v=0,arrowPadding:y=0,avoidCollisions:w=!0,collisionBoundary:b=[],collisionPadding:E=0,sticky:x="partial",hideWhenDetached:C=!1,updatePositionStrategy:T="optimized",onPlaced:S,...R}=e,V=J(ee,m),[W,U]=(0,r.useState)(null),G=j(t,(e=>U(e))),[Z,Y]=(0,r.useState)(null),q=function(e){const[t,n]=(0,r.useState)(void 0);return K((()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const o=t[0];let r,i;if("borderBoxSize"in o){const e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,i=t.blockSize}else r=e.offsetWidth,i=e.offsetHeight;n({width:r,height:i})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)}),[e]),t}(Z),X=null!==(n=null===q||void 0===q?void 0:q.width)&&void 0!==n?n:0,Q=null!==(i=null===q||void 0===q?void 0:q.height)&&void 0!==i?i:0,ne=p+("center"!==g?"-"+g:""),oe="number"===typeof E?E:{top:0,right:0,bottom:0,left:0,...E},re=Array.isArray(b)?b:[b],ie=re.length>0,se={padding:oe,boundary:re.filter(ae),altBoundary:ie},{refs:ue,floatingStyles:de,placement:fe,isPositioned:me,middlewareData:pe}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=r.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=r.useState(o);H(m,o)||p(o);const[h,g]=r.useState(null),[v,y]=r.useState(null),w=r.useCallback((e=>{e!==C.current&&(C.current=e,g(e))}),[]),b=r.useCallback((e=>{e!==T.current&&(T.current=e,y(e))}),[]),E=s||h,x=a||v,C=r.useRef(null),T=r.useRef(null),S=r.useRef(d),R=null!=c,I=B(c),k=B(i),M=r.useCallback((()=>{if(!C.current||!T.current)return;const e={placement:t,strategy:n,middleware:m};k.current&&(e.platform=k.current),D(C.current,T.current,e).then((e=>{const t={...e,isPositioned:!0};O.current&&!H(S.current,t)&&(S.current=t,N.flushSync((()=>{f(t)})))}))}),[m,t,n,k]);L((()=>{!1===u&&S.current.isPositioned&&(S.current.isPositioned=!1,f((e=>({...e,isPositioned:!1}))))}),[u]);const O=r.useRef(!1);L((()=>(O.current=!0,()=>{O.current=!1})),[]),L((()=>{if(E&&(C.current=E),x&&(T.current=x),E&&x){if(I.current)return I.current(E,x,M);M()}}),[E,x,M,I,R]);const P=r.useMemo((()=>({reference:C,floating:T,setReference:w,setFloating:b})),[w,b]),_=r.useMemo((()=>({reference:E,floating:x})),[E,x]),A=r.useMemo((()=>{const e={position:n,left:0,top:0};if(!_.floating)return e;const t=z(_.floating,d.x),o=z(_.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+o+"px)",...F(_.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:o}}),[n,l,_.floating,d.x,d.y]);return r.useMemo((()=>({...d,update:M,refs:P,elements:_,floatingStyles:A})),[d,M,P,_,A])}({strategy:"fixed",placement:ne,whileElementsMounted:(...e)=>I(...e,{animationFrame:"always"===T}),elements:{reference:V.anchor},middleware:[u({mainAxis:h+Q,alignmentAxis:v}),w&&k({mainAxis:!0,crossAxis:!1,limiter:"partial"===x?A():void 0,...se}),w&&M({...se}),O({...se,apply:({elements:e,rects:t,availableWidth:n,availableHeight:o})=>{const{width:r,height:i}=t.reference,s=e.floating.style;s.setProperty("--radix-popper-available-width",`${n}px`),s.setProperty("--radix-popper-available-height",`${o}px`),s.setProperty("--radix-popper-anchor-width",`${r}px`),s.setProperty("--radix-popper-anchor-height",`${i}px`)}}),Z&&(he={element:Z,padding:y},{name:"arrow",options:he,fn(e){const{element:t,padding:n}="function"===typeof he?he(e):he;return t&&(o=t,{}.hasOwnProperty.call(o,"current"))?null!=t.current?_({element:t.current,padding:n}).fn(e):{}:t?_({element:t,padding:n}).fn(e):{};var o}}),le({arrowWidth:X,arrowHeight:Q}),C&&P({strategy:"referenceHidden",...se})]});var he;const[ge,ve]=ce(fe),ye=function(e){const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e})),(0,r.useMemo)((()=>(...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)}),[])}(S);K((()=>{me&&(null===ye||void 0===ye||ye())}),[me,ye]);const we=null===(s=pe.arrow)||void 0===s?void 0:s.x,be=null===(a=pe.arrow)||void 0===a?void 0:a.y,Ee=0!==(null===(l=pe.arrow)||void 0===l?void 0:l.centerOffset),[xe,Ce]=(0,r.useState)();return K((()=>{W&&Ce(window.getComputedStyle(W).zIndex)}),[W]),(0,r.createElement)("div",{ref:ue.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:me?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[null===(c=pe.transformOrigin)||void 0===c?void 0:c.x,null===(d=pe.transformOrigin)||void 0===d?void 0:d.y].join(" ")},dir:e.dir},(0,r.createElement)(te,{scope:m,placedSide:ge,onArrowChange:Y,arrowX:we,arrowY:be,shouldHideArrow:Ee},(0,r.createElement)($.WV.div,(0,o.Z)({"data-side":ge,"data-align":ve},R,{ref:G,style:{...R.style,animation:me?void 0:"none",opacity:null!==(f=pe.hide)&&void 0!==f&&f.referenceHidden?0:void 0}}))))})),re="PopperArrow",ie={top:"bottom",right:"left",bottom:"top",left:"right"},se=(0,r.forwardRef)((function(e,t){const{__scopePopper:n,...i}=e,s=ne(re,n),a=ie[s.placedSide];return(0,r.createElement)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},(0,r.createElement)(V.f,(0,o.Z)({},i,{ref:t,style:{...i.style,display:"block"}})))}));function ae(e){return null!==e}const le=e=>({name:"transformOrigin",options:e,fn(t){var n,o,r,i,s;const{placement:a,rects:l,middlewareData:c}=t,u=0!==(null===(n=c.arrow)||void 0===n?void 0:n.centerOffset),d=u?0:e.arrowWidth,f=u?0:e.arrowHeight,[m,p]=ce(a),h={start:"0%",center:"50%",end:"100%"}[p],g=(null!==(o=null===(r=c.arrow)||void 0===r?void 0:r.x)&&void 0!==o?o:0)+d/2,v=(null!==(i=null===(s=c.arrow)||void 0===s?void 0:s.y)&&void 0!==i?i:0)+f/2;let y="",w="";return"bottom"===m?(y=u?h:`${g}px`,w=-f+"px"):"top"===m?(y=u?h:`${g}px`,w=`${l.floating.height+f}px`):"right"===m?(y=-f+"px",w=u?h:`${v}px`):"left"===m&&(y=`${l.floating.width+f}px`,w=u?h:`${v}px`),{data:{x:y,y:w}}}});function ce(e){const[t,n="center"]=e.split("-");return[t,n]}const ue=q,de=Q,fe=oe,me=se},62115:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var o=n(5865),r=n(29527),i=n(84348),s=n(2376),a=n(81877),l=n(5956),c=n(40909);const u=e=>{const t=document.createElement("span");t.classList.add("ProseMirror-yjs-cursor"),t.setAttribute("style",`border-color: ${e.color}`);const n=document.createElement("div");n.setAttribute("style",`background-color: ${e.color}`),n.insertBefore(document.createTextNode(e.name),null);const o=document.createTextNode("\u2060"),r=document.createTextNode("\u2060");return t.insertBefore(o,null),t.insertBefore(n,null),t.insertBefore(r,null),t},d=e=>({style:`background-color: ${e.color}70`,class:"ProseMirror-yjs-selection"}),f=/^#[0-9a-fA-F]{6}$/,m=(e,t,n,o)=>{const s=l.Gt.getState(e),u=s.doc,d=[];return null!=s.snapshot||null!=s.prevSnapshot||null===s.binding?i.EH.create(e.doc,[]):(t.getStates().forEach(((t,l)=>{if(l!==u.clientID&&null!=t.cursor){const m=t.user||{};null==m.color?m.color="#ffa500":f.test(m.color)||console.warn("A user uses an unsupported color format",m),null==m.name&&(m.name=`User: ${l}`);let p=(0,a.SF)(u,s.type,r.og(t.cursor.anchor),s.binding.mapping),h=(0,a.SF)(u,s.type,r.og(t.cursor.head),s.binding.mapping);if(null!==p&&null!==h){const t=c.Fp(e.doc.content.size-1,0);p=c.VV(p,t),h=c.VV(h,t),d.push(i.p.widget(h,(()=>n(m)),{key:l+"",side:10}));const r=c.VV(p,h),s=c.Fp(p,h);d.push(i.p.inline(r,s,o(m),{inclusiveEnd:!0,inclusiveStart:!1}))}}})),i.EH.create(e.doc,d))},p=(e,{cursorBuilder:t=u,selectionBuilder:n=d,getSelection:o=(e=>e.selection)}={},i="cursor")=>new s.Sy({key:l.uJ,state:{init:(o,r)=>m(r,e,t,n),apply(o,r,i,s){const a=l.Gt.getState(s),c=o.getMeta(l.uJ);return a&&a.isChangeOrigin||c&&c.awarenessUpdated?m(s,e,t,n):r.map(o.mapping,o.doc)}},props:{decorations:e=>l.uJ.getState(e)},view:t=>{const n=()=>{t.docView&&(0,a.US)(t,l.uJ,{awarenessUpdated:!0})},s=()=>{const n=l.Gt.getState(t.state),s=e.getLocalState()||{};if(null!=n.binding)if(t.hasFocus()){const l=o(t.state),c=(0,a.JR)(l.anchor,n.type,n.binding.mapping),u=(0,a.JR)(l.head,n.type,n.binding.mapping);null!=s.cursor&&r.Uq(r.og(s.cursor.anchor),c)&&r.Uq(r.og(s.cursor.head),u)||e.setLocalStateField(i,{anchor:c,head:u})}else null!=s.cursor&&null!==(0,a.SF)(n.doc,n.type,r.og(s.cursor.anchor),n.binding.mapping)&&e.setLocalStateField(i,null)};return e.on("change",n),t.dom.addEventListener("focusin",s),t.dom.addEventListener("focusout",s),{update:s,destroy:()=>{t.dom.removeEventListener("focusin",s),t.dom.removeEventListener("focusout",s),e.off("change",n),e.setLocalStateField(i,null)}}}}),h=e=>Array.from(e.entries()).map((([e,t])=>({clientId:e,...t.user}))),g=()=>null,v=o.hj.create({name:"collaborationCursor",addOptions:()=>({provider:null,user:{name:null,color:null},render:e=>{const t=document.createElement("span");t.classList.add("collaboration-cursor__caret"),t.setAttribute("style",`border-color: ${e.color}`);const n=document.createElement("div");return n.classList.add("collaboration-cursor__label"),n.setAttribute("style",`background-color: ${e.color}`),n.insertBefore(document.createTextNode(e.name),null),t.insertBefore(n,null),t},selectionRender:d,onUpdate:g}),onCreate(){this.options.onUpdate!==g&&console.warn('[tiptap warn]: DEPRECATED: The "onUpdate" option is deprecated. Please use `editor.storage.collaborationCursor.users` instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor')},addStorage:()=>({users:[]}),addCommands(){return{updateUser:e=>()=>(this.options.user=e,this.options.provider.awareness.setLocalStateField("user",this.options.user),!0),user:e=>({editor:t})=>(console.warn('[tiptap warn]: DEPRECATED: The "user" command is deprecated. Please use "updateUser" instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),t.commands.updateUser(e))}},addProseMirrorPlugins(){return[p((()=>(this.options.provider.awareness.setLocalStateField("user",this.options.user),this.storage.users=h(this.options.provider.awareness.states),this.options.provider.awareness.on("update",(()=>{this.storage.users=h(this.options.provider.awareness.states)})),this.options.provider.awareness))(),{cursorBuilder:this.options.render,selectionBuilder:this.options.selectionRender})]}})},34005:function(e,t,n){"use strict";n.d(t,{ZP:function(){return W}});var o=n(5865),r=n(5956),i=n(2376);var s=n(12806),a=n(40909),l=n(49776),c=n(45064);const u=/[\uD800-\uDBFF]/,d=/[\uDC00-\uDFFF]/,f=(e,t)=>{let n=0,o=0;for(;n<e.length&&n<t.length&&e[n]===t[n];)n++;for(n>0&&u.test(e[n-1])&&n--;o+n<e.length&&o+n<t.length&&e[e.length-o-1]===t[t.length-o-1];)o++;return o>0&&d.test(e[e.length-o])&&o--,{index:n,remove:e.length-n-o,insert:t.slice(n,t.length-o)}};var m=n(93562),p=n(29527),h=n(81877),g=n(15097),v=n(98211),y=n(17800),w=n(42187);const b=(e,t)=>void 0===t?!e.deleted:t.sv.has(e.id.client)&&t.sv.get(e.id.client)>e.id.clock&&!p.uY(t.ds,e.id),E=[{light:"#ecd44433",dark:"#ecd444"}],x=(e,t,n)=>{if(!e.has(n)){if(e.size<t.length){const n=c.Ue();e.forEach((e=>n.add(e))),t=t.filter((e=>!n.has(e)))}e.set(n,g.kw(t))}return e.get(n)},C=(e,{colors:t=E,colorMapping:n=new Map,permanentUserData:o=null,onFirstRender:s=(()=>{})}={})=>{let a,l=!1;const c=new i.Sy({props:{editable:e=>{const t=r.Gt.getState(e);return null==t.snapshot&&null==t.prevSnapshot}},key:r.Gt,state:{init:(r,i)=>({type:e,doc:e.doc,binding:null,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:t,colorMapping:n,permanentUserData:o}),apply:(e,t)=>{const n=e.getMeta(r.Gt);if(void 0!==n){t=Object.assign({},t);for(const e in n)t[e]=n[e]}return t.addToHistory=!1!==e.getMeta("addToHistory"),t.isChangeOrigin=void 0!==n&&!!n.isChangeOrigin,t.isUndoRedoOperation=void 0!==n&&!!n.isChangeOrigin&&!!n.isUndoRedoOperation,null!==t.binding&&(void 0===n||null==n.snapshot&&null==n.prevSnapshot||w.Vs(0,(()=>{null==t.binding||t.binding.isDestroyed||(null==n.restore?t.binding._renderSnapshot(n.snapshot,n.prevSnapshot,t):(t.binding._renderSnapshot(n.snapshot,n.snapshot,t),delete t.restore,delete t.snapshot,delete t.prevSnapshot,t.binding.mux((()=>{t.binding._prosemirrorChanged(t.binding.prosemirrorView.state.doc)}))))}))),t}},view:t=>{const n=new S(e,t);return null!=a&&a.destroy(),a=w.Vs(0,(()=>{n._forceRerender(),t.dispatch(t.state.tr.setMeta(r.Gt,{binding:n})),s()})),{update:()=>{const e=c.getState(t.state);if(null==e.snapshot&&null==e.prevSnapshot&&(l||null!==t.state.doc.content.findDiffStart(t.state.doc.type.createAndFill().content))){if(l=!0,!1===e.addToHistory&&!e.isChangeOrigin){const e=r.Gk.getState(t.state),n=e&&e.undoManager;n&&n.stopCapturing()}n.mux((()=>{e.doc.transact((o=>{o.meta.set("addToHistory",e.addToHistory),n._prosemirrorChanged(t.state.doc)}),r.Gt)}))}},destroy:()=>{a.destroy(),n.destroy()}}}});return c},T=(e,t)=>({anchor:(0,h.JR)(t.selection.anchor,e.type,e.mapping),head:(0,h.JR)(t.selection.head,e.type,e.mapping)});class S{constructor(e,t){this.type=e,this.prosemirrorView=t,this.mux=(()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else void 0!==n&&n()}})(),this.isDestroyed=!1,this.mapping=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{null===this.beforeTransactionSelection&&(this.beforeTransactionSelection=T(this,t.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),e.observeDeep(this._observeFunction),this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return!!this.prosemirrorView.hasFocus()&&(v.jU&&null===this._domSelectionInView&&(w.Vs(0,(()=>{this._domSelectionInView=null})),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView)}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection(),t=this.prosemirrorView._root.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);0===t.getClientRects().length&&t.startContainer&&t.collapsed&&t.selectNodeContents(t.startContainer);const n=t.getBoundingClientRect(),o=y.JU.documentElement;return n.bottom>=0&&n.right>=0&&n.left<=(window.innerWidth||o.clientWidth||0)&&n.top<=(window.innerHeight||o.clientHeight||0)}renderSnapshot(e,t){t||(t=p.Ox(p.VG(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(r.Gt,{snapshot:e,prevSnapshot:t}))}unrenderSnapshot(){this.mapping=new Map,this.mux((()=>{const e=this.type.toArray().map((e=>I(e,this.prosemirrorView.state.schema,this.mapping))).filter((e=>null!==e)),t=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new s.p2(s.HY.from(e),0,0));t.setMeta(r.Gt,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(t)}))}_forceRerender(){this.mapping=new Map,this.mux((()=>{const e=this.type.toArray().map((e=>I(e,this.prosemirrorView.state.schema,this.mapping))).filter((e=>null!==e)),t=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new s.p2(s.HY.from(e),0,0));this.prosemirrorView.dispatch(t.setMeta(r.Gt,{isChangeOrigin:!0}))}))}_renderSnapshot(e,t,n){e||(e=p.CO(this.doc)),this.mapping=new Map,this.mux((()=>{this.doc.transact((o=>{const i=n.permanentUserData;i&&i.dss.forEach((e=>{p.UQ(o,e,(e=>{}))}));const a=(e,t)=>{const o="added"===e?i.getUserByClientId(t.client):i.getUserByDeletedId(t);return{user:o,type:e,color:x(n.colorMapping,n.colors,o)}},l=p.ud(this.type,new p.aC(t.ds,e.sv)).map((n=>!n._item.deleted||b(n._item,e)||b(n._item,t)?I(n,this.prosemirrorView.state.schema,new Map,e,t,a):null)).filter((e=>null!==e)),c=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new s.p2(s.HY.from(l),0,0));this.prosemirrorView.dispatch(c.setMeta(r.Gt,{isChangeOrigin:!0}))}),r.Gt)}))}_typeChanged(e,t){const n=r.Gt.getState(this.prosemirrorView.state);0!==e.length&&null==n.snapshot&&null==n.prevSnapshot?this.mux((()=>{const e=(e,t)=>this.mapping.delete(t);p.UQ(t,t.deleteSet,(e=>{if(e.constructor===p.ck){const t=e.content.type;t&&this.mapping.delete(t)}})),t.changed.forEach(e),t.changedParentTypes.forEach(e);const n=this.type.toArray().map((e=>R(e,this.prosemirrorView.state.schema,this.mapping))).filter((e=>null!==e));let o=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new s.p2(s.HY.from(n),0,0));((e,t,n)=>{if(null!==t&&null!==t.anchor&&null!==t.head){const o=(0,h.SF)(n.doc,n.type,t.anchor,n.mapping),r=(0,h.SF)(n.doc,n.type,t.head,n.mapping);null!==o&&null!==r&&(e=e.setSelection(i.Bs.create(e.doc,o,r)))}})(o,this.beforeTransactionSelection,this),o=o.setMeta(r.Gt,{isChangeOrigin:!0,isUndoRedoOperation:t.origin instanceof p.H6}),null!==this.beforeTransactionSelection&&this._isLocalCursorInView()&&o.scrollIntoView(),this.prosemirrorView.dispatch(o)})):this.renderSnapshot(n.snapshot,n.prevSnapshot)}_prosemirrorChanged(e){this.doc.transact((()=>{z(this.doc,this.type,e,this.mapping),this.beforeTransactionSelection=T(this,this.prosemirrorView.state)}),r.Gt)}destroy(){this.isDestroyed=!0,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions)}}const R=(e,t,n,o,r,i)=>{const s=n.get(e);if(void 0===s){if(e instanceof p.lt)return I(e,t,n,o,r,i);throw m.Nw()}return s},I=(e,t,n,o,i,s)=>{const a=[],l=e=>{if(e.constructor===p.lt){const r=R(e,t,n,o,i,s);null!==r&&a.push(r)}else{const r=k(e,t,n,o,i,s);null!==r&&r.forEach((e=>{null!==e&&a.push(e)}))}};void 0===o||void 0===i?e.toArray().forEach(l):p.ud(e,new p.aC(i.ds,o.sv)).forEach(l);try{const r=e.getAttributes(o);void 0!==o&&(b(e._item,o)?b(e._item,i)||(r.ychange=s?s("added",e._item.id):{type:"added"}):r.ychange=s?s("removed",e._item.id):{type:"removed"});const l=t.node(e.nodeName,r,a);return n.set(e,l),l}catch(c){return e.doc.transact((t=>{e._item.delete(t)}),r.Gt),n.delete(e),null}},k=(e,t,n,o,i,s)=>{const a=[],l=e.toDelta(o,i,s);try{for(let e=0;e<l.length;e++){const n=l[e],o=[];for(const e in n.attributes)o.push(t.mark(e,n.attributes[e]));a.push(t.text(n.insert,o))}}catch(c){return e.doc.transact((t=>{e._item.delete(t)}),r.Gt),null}return a},M=(e,t)=>e instanceof Array?((e,t)=>{const n=new p.eI,o=e.map((e=>({insert:e.text,attributes:F(e.marks)})));return n.applyDelta(o),t.set(n,e),n})(e,t):((e,t)=>{const n=new p.lt(e.type.name);for(const o in e.attrs){const t=e.attrs[o];null!==t&&"ychange"!==o&&n.setAttribute(o,t)}return n.insert(0,_(e).map((e=>M(e,t)))),t.set(n,e),n})(e,t),O=e=>"object"===typeof e&&null!==e,P=(e,t)=>{const n=Object.keys(e).filter((t=>null!==e[t]));let o=n.length===Object.keys(t).filter((e=>null!==t[e])).length;for(let r=0;r<n.length&&o;r++){const i=n[r],s=e[i],a=t[i];o="ychange"===i||s===a||O(s)&&O(a)&&P(s,a)}return o},_=e=>{const t=e.content.content,n=[];for(let o=0;o<t.length;o++){const e=t[o];if(e.isText){const e=[];for(let n=t[o];o<t.length&&n.isText;n=t[++o])e.push(n);o--,n.push(e)}else n.push(e)}return n},A=(e,t)=>{const n=e.toDelta();return n.length===t.length&&n.every(((e,n)=>e.insert===t[n].text&&l.XP(e.attributes||{}).length===t[n].marks.length&&t[n].marks.every((t=>P(e.attributes[t.type.name]||{},t.attrs)))))},D=(e,t)=>{if(e instanceof p.lt&&!(t instanceof Array)&&B(e,t)){const n=_(t);return e._length===n.length&&P(e.getAttributes(),t.attrs)&&e.toArray().every(((e,t)=>D(e,n[t])))}return e instanceof p.eI&&t instanceof Array&&A(e,t)},N=(e,t)=>e===t||e instanceof Array&&t instanceof Array&&e.length===t.length&&e.every(((e,n)=>t[n]===e)),L=(e,t,n)=>{const o=e.toArray(),r=_(t),i=r.length,s=o.length,l=a.VV(s,i);let c=0,u=0,d=!1;for(;c<l;c++){const e=o[c],t=r[c];if(N(n.get(e),t))d=!0;else if(!D(e,t))break}for(;c+u<l;u++){const e=o[s-u-1],t=r[i-u-1];if(N(n.get(e),t))d=!0;else if(!D(e,t))break}return{equalityFactor:c+u,foundMappedChild:d}},H=(e,t,n)=>{n.set(e,t);const{nAttrs:o,str:r}=(e=>{let t="",n=e._start;const o={};for(;null!==n;)n.deleted||(n.countable&&n.content instanceof p.$_?t+=n.content.str:n.content instanceof p.MM&&(o[n.content.key]=null)),n=n.right;return{str:t,nAttrs:o}})(e),i=t.map((e=>({insert:e.text,attributes:Object.assign({},o,F(e.marks))}))),{insert:s,remove:a,index:l}=f(r,i.map((e=>e.insert)).join(""));e.delete(l,a),e.insert(l,s),e.applyDelta(i.map((e=>({retain:e.insert.length,attributes:e.attributes}))))},F=e=>{const t={};return e.forEach((e=>{"ychange"!==e.type.name&&(t[e.type.name]=e.attrs)})),t},z=(e,t,n,o)=>{if(t instanceof p.lt&&t.nodeName!==n.type.name)throw new Error("node name mismatch!");if(o.set(t,n),t instanceof p.lt){const e=t.getAttributes(),o=n.attrs;for(const n in o)null!==o[n]?e[n]!==o[n]&&"ychange"!==n&&t.setAttribute(n,o[n]):t.removeAttribute(n);for(const n in e)void 0===o[n]&&t.removeAttribute(n)}const i=_(n),s=i.length,l=t.toArray(),c=l.length,u=a.VV(s,c);let d=0,f=0;for(;d<u;d++){const e=l[d],t=i[d];if(!N(o.get(e),t)){if(!D(e,t))break;o.set(e,t)}}for(;f+d+1<u;f++){const e=l[c-f-1],t=i[s-f-1];if(!N(o.get(e),t)){if(!D(e,t))break;o.set(e,t)}}e.transact((()=>{for(;c-d-f>0&&s-d-f>0;){const n=l[d],r=i[d],a=l[c-f-1],u=i[s-f-1];if(n instanceof p.eI&&r instanceof Array)A(n,r)||H(n,r,o),d+=1;else{let i=n instanceof p.lt&&B(n,r),s=a instanceof p.lt&&B(a,u);if(i&&s){const e=L(n,r,o),t=L(a,u,o);e.foundMappedChild&&!t.foundMappedChild?s=!1:!e.foundMappedChild&&t.foundMappedChild||e.equalityFactor<t.equalityFactor?i=!1:s=!1}i?(z(e,n,r,o),d+=1):s?(z(e,a,u,o),f+=1):(o.delete(t.get(d)),t.delete(d,1),t.insert(d,[M(r,o)]),d+=1)}}const n=c-d-f;if(1===c&&0===s&&l[0]instanceof p.eI?(o.delete(l[0]),l[0].delete(0,l[0].length)):n>0&&(t.slice(d,d+n).forEach((e=>o.delete(e))),t.delete(d,n)),d+f<s){const e=[];for(let t=d;t<s-f;t++)e.push(M(i[t],o));t.insert(d,e)}}),r.Gt)},B=(e,t)=>!(t instanceof Array)&&e.nodeName===t.type.name,V=new Set(["paragraph"]),j=({protectedNodes:e=V,trackedOrigins:t=[],undoManager:n=null}={})=>new i.Sy({key:r.Gk,state:{init:(o,i)=>{const s=r.Gt.getState(i),a=n||new p.H6(s.type,{trackedOrigins:new Set([r.Gt].concat(t)),deleteFilter:t=>((e,t)=>!(e instanceof p.ck)||!(e.content instanceof p.zc)||!(e.content.type instanceof p.xv||e.content.type instanceof p.lt&&t.has(e.content.type.nodeName))||0===e.content.type._length)(t,e),captureTransaction:e=>!1!==e.meta.get("addToHistory")});return{undoManager:a,prevSel:null,hasUndoOps:a.undoStack.length>0,hasRedoOps:a.redoStack.length>0}},apply:(e,t,n,o)=>{const i=r.Gt.getState(o).binding,s=t.undoManager,a=s.undoStack.length>0,l=s.redoStack.length>0;return i?{undoManager:s,prevSel:T(i,n),hasUndoOps:a,hasRedoOps:l}:a!==t.hasUndoOps||l!==t.hasRedoOps?Object.assign({},t,{hasUndoOps:s.undoStack.length>0,hasRedoOps:s.redoStack.length>0}):t}},view:e=>{const t=r.Gt.getState(e.state),n=r.Gk.getState(e.state).undoManager;return n.on("stack-item-added",(({stackItem:n})=>{const o=t.binding;o&&n.meta.set(o,r.Gk.getState(e.state).prevSel)})),n.on("stack-item-popped",(({stackItem:e})=>{const n=t.binding;n&&(n.beforeTransactionSelection=e.meta.get(n)||n.beforeTransactionSelection)})),{destroy:()=>{n.destroy()}}}}),W=o.hj.create({name:"collaboration",priority:1e3,addOptions:()=>({document:null,field:"default",fragment:null}),onCreate(){this.editor.extensionManager.extensions.find((e=>"history"===e.name))&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands:()=>({undo:()=>({tr:e,state:t,dispatch:n})=>{e.setMeta("preventDispatch",!0);return 0!==r.Gk.getState(t).undoManager.undoStack.length&&(!n||(e=>{const t=r.Gk.getState(e).undoManager;if(null!=t)return t.undo(),!0})(t))},redo:()=>({tr:e,state:t,dispatch:n})=>{e.setMeta("preventDispatch",!0);return 0!==r.Gk.getState(t).undoManager.redoStack.length&&(!n||(e=>{const t=r.Gk.getState(e).undoManager;if(null!=t)return t.redo(),!0})(t))}}),addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){const e=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field),t=j(),n=t.spec.view;return t.spec.view=e=>{const{undoManager:t}=r.Gk.getState(e.state);t.restore&&(t.restore(),t.restore=()=>{});const o=n?n(e):null;return{destroy:()=>{const e=t.trackedOrigins.has(t),n=t._observers;t.restore=()=>{e&&t.trackedOrigins.add(t),t.doc.on("afterTransaction",t.afterTransactionHandler),t._observers=n},o&&o.destroy&&o.destroy()}}},[C(e),t]}})},14068:function(e,t,n){"use strict";n.d(t,{ZP:function(){return a}});var o=n(5865),r=n(2376),i=n(16722);const s=new r.H$("mention"),a=o.NB.create({name:"mention",addOptions(){return{HTMLAttributes:{},renderLabel({options:e,node:t}){var n;return`${e.suggestion.char}${null!==(n=t.attrs.label)&&void 0!==n?n:t.attrs.id}`},suggestion:{char:"@",pluginKey:s,command:({editor:e,range:t,props:n})=>{var o,r;const i=e.view.state.selection.$to.nodeAfter;(null===(o=null===i||void 0===i?void 0:i.text)||void 0===o?void 0:o.startsWith(" "))&&(t.to+=1),e.chain().focus().insertContentAt(t,[{type:this.name,attrs:n},{type:"text",text:" "}]).run(),null===(r=window.getSelection())||void 0===r||r.collapseToEnd()},allow:({state:e,range:t})=>{const n=e.doc.resolve(t.from),o=e.schema.nodes[this.name];return!!n.parent.type.contentMatch.matchType(o)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes:()=>({id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}}}),parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:e,HTMLAttributes:t}){return["span",(0,o.P1)({"data-type":this.name},this.options.HTMLAttributes,t),this.options.renderLabel({options:this.options,node:e})]},renderText({node:e}){return this.options.renderLabel({options:this.options,node:e})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command((({tr:e,state:t})=>{let n=!1;const{selection:o}=t,{empty:r,anchor:i}=o;return!!r&&(t.doc.nodesBetween(i-1,i,((t,o)=>{if(t.type.name===this.name)return n=!0,e.insertText(this.options.suggestion.char||"",o,o+t.nodeSize),!1})),n)}))}},addProseMirrorPlugins(){return[(0,i.ZP)({editor:this.editor,...this.options.suggestion})]}})},12902:function(e,t,n){"use strict";function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(e){return!!e&&!!e[K]}function i(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===U}(e)||Array.isArray(e)||!!e[$]||!!(null===(t=e.constructor)||void 0===t?void 0:t[$])||f(e)||m(e))}function s(e,t,n){void 0===n&&(n=!1),0===a(e)?(n?Object.keys:G)(e).forEach((function(o){n&&"symbol"==typeof o||t(o,e[o],e)})):e.forEach((function(n,o){return t(o,n,e)}))}function a(e){var t=e[K];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:m(e)?3:0}function l(e,t){return 2===a(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===a(e)?e.get(t):e[t]}function u(e,t,n){var o=a(e);2===o?e.set(t,n):3===o?e.add(n):e[t]=n}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return B&&e instanceof Map}function m(e){return V&&e instanceof Set}function p(e){return e.o||e.t}function h(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Z(e);delete t[K];for(var n=G(t),o=0;o<n.length;o++){var r=n[o],i=t[r];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[r]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[r]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),y(e)||r(e)||!i(e)||(a(e)>1&&(e.set=e.add=e.clear=e.delete=v),Object.freeze(e),t&&s(e,(function(e,t){return g(t,!0)}),!0)),e}function v(){o(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function w(e){var t=Y[e];return t||o(18,e),t}function b(){return F}function E(e,t){t&&(w("Patches"),e.u=[],e.s=[],e.v=t)}function x(e){C(e),e.p.forEach(S),e.p=null}function C(e){e===F&&(F=e.l)}function T(e){return F={p:[],l:F,h:e,m:!0,_:0}}function S(e){var t=e[K];0===t.i||1===t.i?t.j():t.g=!0}function R(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||w("ES5").S(t,e,r),r?(n[K].P&&(x(t),o(4)),i(e)&&(e=I(t,e),t.l||M(t,e)),t.u&&w("Patches").M(n[K].t,e,t.u,t.s)):e=I(t,n,[]),x(t),t.u&&t.v(t.u,t.s),e!==W?e:void 0}function I(e,t,n){if(y(t))return t;var o=t[K];if(!o)return s(t,(function(r,i){return k(e,o,t,r,i,n)}),!0),t;if(o.A!==e)return t;if(!o.P)return M(e,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var r=4===o.i||5===o.i?o.o=h(o.k):o.o,i=r,a=!1;3===o.i&&(i=new Set(r),r.clear(),a=!0),s(i,(function(t,i){return k(e,o,r,t,i,n,a)})),M(e,r,!1),n&&e.u&&w("Patches").N(o,n,e.u,e.s)}return o.o}function k(e,t,n,o,s,a,c){if(r(s)){var d=I(e,s,a&&t&&3!==t.i&&!l(t.R,o)?a.concat(o):void 0);if(u(n,o,d),!r(d))return;e.m=!1}else c&&n.add(s);if(i(s)&&!y(s)){if(!e.h.D&&e._<1)return;I(e,s),t&&t.A.l||M(e,s)}}function M(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&g(t,n)}function O(e,t){var n=e[K];return(n?p(n):e)[t]}function P(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var o=Object.getOwnPropertyDescriptor(n,t);if(o)return o;n=Object.getPrototypeOf(n)}}function _(e){e.P||(e.P=!0,e.l&&_(e.l))}function A(e){e.o||(e.o=h(e.t))}function D(e,t,n){var o=f(t)?w("MapSet").F(t,n):m(t)?w("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),o={i:n?1:0,A:t?t.A:b(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},r=o,i=J;n&&(r=[o],i=q);var s=Proxy.revocable(r,i),a=s.revoke,l=s.proxy;return o.k=l,o.j=a,l}(t,n):w("ES5").J(t,n);return(n?n.A:b()).p.push(o),o}function N(e){return r(e)||o(22,e),function e(t){if(!i(t))return t;var n,o=t[K],r=a(t);if(o){if(!o.P&&(o.i<4||!w("ES5").K(o)))return o.t;o.I=!0,n=L(t,r),o.I=!1}else n=L(t,r);return s(n,(function(t,r){o&&c(o.t,t)===r||u(n,t,e(r))})),3===r?new Set(n):n}(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return h(e)}n.d(t,{P2:function(){return te},Uy:function(){return ee},_x:function(){return ne},mv:function(){return r}});var H,F,z="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),B="undefined"!=typeof Map,V="undefined"!=typeof Set,j="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,W=z?Symbol.for("immer-nothing"):((H={})["immer-nothing"]=!0,H),$=z?Symbol.for("immer-draftable"):"__$immer_draftable",K=z?Symbol.for("immer-state"):"__$immer_state",U=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),G="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Z=Object.getOwnPropertyDescriptors||function(e){var t={};return G(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Y={},J={get:function(e,t){if(t===K)return e;var n=p(e);if(!l(n,t))return function(e,t,n){var o,r=P(t,n);return r?"value"in r?r.value:null===(o=r.get)||void 0===o?void 0:o.call(e.k):void 0}(e,n,t);var o=n[t];return e.I||!i(o)?o:o===O(e.t,t)?(A(e),e.o[t]=D(e.A.h,o,e)):o},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var o=P(p(e),t);if(null==o?void 0:o.set)return o.set.call(e.k,n),!0;if(!e.P){var r=O(p(e),t),i=null==r?void 0:r[K];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(d(n,r)&&(void 0!==n||l(e.t,t)))return!0;A(e),_(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==O(e.t,t)||t in e.t?(e.R[t]=!1,A(e),_(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),o=Reflect.getOwnPropertyDescriptor(n,t);return o?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:o.enumerable,value:n[t]}:o},defineProperty:function(){o(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){o(12)}},q={};s(J,(function(e,t){q[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),q.deleteProperty=function(e,t){return q.set.call(this,e,t,void 0)},q.set=function(e,t,n){return J.set.call(this,e[0],t,n,e[0])};var X=function(){function e(e){var t=this;this.O=j,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var s=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=s);for(var o=arguments.length,r=Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];return a.produce(e,(function(e){var o;return(o=n).call.apply(o,[t,e].concat(r))}))}}var l;if("function"!=typeof n&&o(6),void 0!==r&&"function"!=typeof r&&o(7),i(e)){var c=T(t),u=D(t,e,void 0),d=!0;try{l=n(u),d=!1}finally{d?x(c):C(c)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return E(c,r),R(e,c)}),(function(e){throw x(c),e})):(E(c,r),R(l,c))}if(!e||"object"!=typeof e){if(void 0===(l=n(e))&&(l=e),l===W&&(l=void 0),t.D&&g(l,!0),r){var f=[],m=[];w("Patches").M(e,l,f,m),r(f,m)}return l}o(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var o=arguments.length,r=Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(r))}))};var o,r,i=t.produce(e,n,(function(e,t){o=e,r=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,o,r]})):[i,o,r]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){i(e)||o(8),r(e)&&(e=N(e));var t=T(this),n=D(this,e,void 0);return n[K].C=!0,C(t),n},t.finishDraft=function(e,t){var n=(e&&e[K]).A;return E(n,t),R(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!j&&o(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var o=t[n];if(0===o.path.length&&"replace"===o.op){e=o.value;break}}n>-1&&(t=t.slice(n+1));var i=w("Patches").$;return r(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Q=new X,ee=Q.produce,te=(Q.produceWithPatches.bind(Q),Q.setAutoFreeze.bind(Q),Q.setUseProxies.bind(Q),Q.applyPatches.bind(Q),Q.createDraft.bind(Q)),ne=Q.finishDraft.bind(Q)},90111:function(e,t,n){"use strict";function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function r(e){var t,n;return!1!==o(e)&&(void 0===(t=e.constructor)||!1!==o(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}n.d(t,{P:function(){return r}})},42187:function(e,t,n){"use strict";n.d(t,{Vs:function(){return i}});const o=e=>class{constructor(e){this._=e}destroy(){e(this._)}},r=o(clearTimeout),i=(e,t)=>new r(setTimeout(t,e));o(clearInterval),o((e=>"undefined"!==typeof requestAnimationFrame&&cancelAnimationFrame(e))),o((e=>"undefined"!==typeof cancelIdleCallback&&cancelIdleCallback(e)))},81877:function(e,t,n){"use strict";n.d(t,{JR:function(){return d},R3:function(){return p},SF:function(){return m},US:function(){return u}});var o=n(5956),r=n(29527),i=n(93562),s=n(69805),a=n(42187);let l=null;const c=()=>{const e=l;l=null,e.forEach(((e,t)=>{const n=t.state.tr,r=o.Gt.getState(t.state);r&&r.binding&&!r.binding.isDestroyed&&(e.forEach(((e,t)=>{n.setMeta(t,e)})),t.dispatch(n))}))},u=(e,t,n)=>{l||(l=new Map,a.Vs(0,c)),s.Yu(l,e,s.Ue).set(t,n)},d=(e,t,n)=>{if(0===e)return r.w$(t,0);let o=null===t._first?null:t._first.content.type;for(;null!==o&&t!==o;){if(o instanceof r.eI){if(o._length>=e)return r.w$(o,e);if(e-=o._length,null!==o._item&&null!==o._item.next)o=o._item.next.content.type;else{do{o=null===o._item?null:o._item.parent,e--}while(o!==t&&null!==o&&null!==o._item&&null===o._item.next);null!==o&&o!==t&&(o=null===o._item?null:o._item.next.content.type)}}else{const i=(n.get(o)||{nodeSize:0}).nodeSize;if(null!==o._first&&e<i)o=o._first.content.type,e--;else{if(1===e&&0===o._length&&i>1)return new r.Zi(null===o._item?null:o._item.id,null===o._item?r.BW(o):null,null);if(e-=i,null!==o._item&&null!==o._item.next)o=o._item.next.content.type;else{if(0===e)return o=null===o._item?o:o._item.parent,new r.Zi(null===o._item?null:o._item.id,null===o._item?r.BW(o):null,null);do{o=o._item.parent,e--}while(o!==t&&null===o._item.next);o!==t&&(o=o._item.next.content.type)}}}if(null===o)throw i.zR();if(0===e&&o.constructor!==r.eI&&o!==t)return f(o._item.parent,o._item)}return r.w$(t,t._length)},f=(e,t)=>{let n=null,o=null;return null===e._item?o=r.BW(e):n=r.at(e._item.id.client,e._item.id.clock),new r.Zi(n,o,t.id)},m=(e,t,n,o)=>{const i=r.or(n,e);if(null===i||i.type!==t&&!r.$4(t,i.type._item))return null;let s=i.type,a=0;if(s.constructor===r.eI)a=i.index;else if(null===s._item||!s._item.deleted){let e=s._first,t=0;for(;t<s._length&&t<i.index&&null!==e;){if(!e.deleted){const n=e.content.type;t++,n instanceof r.eI?a+=n._length:a+=o.get(n).nodeSize}e=e.right}a+=1}for(;s!==t&&null!==s._item;){const e=s._item.parent;if(null===e._item||!e._item.deleted){a+=1;let t=e._first;for(;null!==t;){const e=t.content.type;if(e===s)break;t.deleted||(e instanceof r.eI?a+=e._length:a+=o.get(e).nodeSize),t=t.right}}s=e}return a-1};function p(e,t="prosemirror"){return h(e.getXmlFragment(t))}function h(e){return{type:"doc",content:e.toArray().map((function e(t){let n;if(t.nodeName){n={type:t.nodeName};const o=t.getAttributes();Object.keys(o).length&&(n.attrs=o);const r=t.toArray();r.length&&(n.content=r.map(e).flat())}else{n=t.toDelta().map((e=>{const t={type:"text",text:e.insert};return e.attributes&&(t.marks=Object.keys(e.attributes).map((t=>{const n=e.attributes[t],o={type:t};return Object.keys(n)&&(o.attrs=n),o}))),t}))}return n}))}}},5956:function(e,t,n){"use strict";n.d(t,{Gk:function(){return i},Gt:function(){return r},uJ:function(){return s}});var o=n(2376);const r=new o.H$("y-sync"),i=new o.H$("y-undo"),s=new o.H$("yjs-cursor")}}]);