"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6349],{20167:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(92777),o=r(82262),i=r(81531),a=r(63553),s=r(37247),c=r(67294),l=r(35944);function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var d=function(e){(0,i.Z)(r,e);var t=u(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"render",value:function(){return(0,l.tZ)("svg",{className:this.props.className,css:this.props.css||"",viewBox:"0 0 512 512",children:(0,l.tZ)("path",{d:"M493.255 56.236l-37.49-37.49c-24.993-24.993-65.515-24.994-90.51 0L12.838 371.162.151 485.346c-1.698 15.286 11.22 28.203 26.504 26.504l114.184-12.687 352.417-352.417c24.992-24.994 24.992-65.517-.001-90.51zm-95.196 140.45L174 420.745V386h-48v-48H91.255l224.059-224.059 82.745 82.745zM126.147 468.598l-58.995 6.555-30.305-30.305 6.555-58.995L63.255 366H98v48h48v34.745l-19.853 19.853zm344.48-344.48l-49.941 49.941-82.745-82.745 49.941-49.941c12.505-12.505 32.748-12.507 45.255 0l37.49 37.49c12.506 12.506 12.507 32.747 0 45.255z"})})}}]),r}(c.Component)},74174:function(e,t,r){r.d(t,{F:function(){return o}});r(67294);function n(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.forEach((function(t){return n(t,e)}))}}},97360:function(e,t,r){r.d(t,{Z:function(){return Vr}});var n=r(59499),o=r(71175),i=r(50029),a=r(87794),s=r.n(a),c=r(67294),l=r(49798),u=r(93772),d=r(11163),p=r.n(d),m=r(30145),f=r(54890),h=r(71924),y=r(2215),w=r(35944),g=function(){var e=(0,i.Z)(s().mark((function e(t){var r,n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new l.Z("/ajax/collections/add-or-remove-post",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"}),e.next=4,n.exec();case 4:return e.next=6,null===(r=n.rawResponse)||void 0===r?void 0:r.json();case 6:if(!(o=e.sent).bookmark||"SAVED"!==o.bookmark.bookmarkType){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 12:return e.prev=12,e.t0=e.catch(0),(0,h.C)("error","Unable to bookmark post"),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();var b=function(e){var t=e.post,r=(0,u.Z)(),n=r.data,o=r.isValidating,a=(0,d.useRouter)(),p=(0,c.useRef)(!1),h=(0,m.Z)("bookmarks-token",(new Date).getTime())[1],b=(0,c.useState)(!0),v=b[0],x=b[1],k=!1;t.bookmarkedIn&&t.bookmarkedIn.length>0&&(k=-1!==t.bookmarkedIn.indexOf("SAVED"));var O=(0,c.useState)(k),I=O[0],Z=O[1],S=function(){var e=(0,i.Z)(s().mark((function e(t){var r,n,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/api/post/bookmark-status?postId=".concat(t),o=new l.Z(n,{credentials:"same-origin"}),e.next=4,o.exec();case 4:return e.next=6,null===(r=o.rawResponse)||void 0===r?void 0:r.json();case 6:return i=e.sent,e.abrupt("return",i.bookmarkedIn);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){var e=!0;if(!o){if(!n||"/bookmarks"===a.asPath)return void x(!1);p.current||(p.current=!0,(0,i.Z)(s().mark((function r(){var n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,S(t._id.toString());case 4:n=r.sent,e&&Z(-1!==n.indexOf("SAVED")),x(!1);case 7:case"end":return r.stop()}}),r)})))())}return function(){e=!1}}),[n,o]);var C=function(){var e=(0,i.Z)(s().mark((function e(){var r,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return o="?next=".concat(window.location.pathname),a.push("/onboard".concat(o)),e.abrupt("return");case 4:try{g({postId:t._id.toString(),responseId:null,bookmarkType:"SAVED"}),Z(!I),h((new Date).getTime())}catch(s){Z(!1)}(null===(r=t.bookmarkedIn)||void 0===r?void 0:r.length)>0&&(i={user_id:n._id,event_type:"bookmark_post",time:(new Date).getTime(),event_properties:{hostname:window.location.hostname,url:window.location.pathname,post:t._id,dateAdded:(new Date).getTime()}},(0,f.e)().sendEventToAmplitude(i));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,w.tZ)(y.Jjm,{"aria-label":"Bookmark post",type:I?"bookmarked":"bookmark",onClick:C,disabled:v,className:"bookmark-button",tooltip:I?"Remove bookmark":"Save for later"})},v=r(40669),x=r(99442),k=r(23176),O=r(2761),I=r(27484),Z=r.n(I),S=r(58994),C=r(85124),j=r(89839),_=r(25101);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=function(e){return e.startsWith("/discussions/")},R=function(e){return"/discussions"===e},T=function(e){var t=e.user,r=e.postId,n=e.source,o=e.eventType,i=e.eventProperties,a={event_type:o,time:(new Date).getTime(),event_properties:P({postId:r,source:n},i)};t&&(a.user_id=t._id.toString(),a.user_properties={username:t.username,email:t.email,photo:t.photo||"",dateJoined:t.dateJoined||""}),(0,f.e)().sendEventToAmplitude(a)},z=function(e){var t=e.user,r=e.postId,n=e.commentId,o=e.source;T({user:t,postId:r,source:o,eventType:_.F.COMMENT_ADDED,eventProperties:{responseId:n}})},A=function(e){var t=e.user,r=e.postId,n=e.replyId,o=e.source;T({user:t,postId:r,source:o,eventType:_.F.REPLY_ADDED,eventProperties:{replyId:n}})},B=function(e){var t=e.user,r=e.postId,n=e.commentId,o=e.source;T({user:t,postId:r,source:o,eventType:_.F.LIKE_COMMENT,eventProperties:{responseId:n}})},M=function(e){var t=e.user,r=e.postId,n=e.replyId,o=e.source;T({user:t,postId:r,source:o,eventType:_.F.LIKE_REPLY,eventProperties:{replyId:n}})},U=r(27812),N=r(54871),X=r(16835),F=r(92432);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J,Q=function(){var e=(0,c.useState)("idle");return{status:e[0],setStatus:e[1]}},$=r(25851);function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.UPDATE_COMMENTS="UPDATE_COMMENTS",e.UPDATE_COMMENTS_COUNT="UPDATE_COMMENTS_COUNT",e.UPDATE_SORT_TYPE="UPDATE_SORT_TYPE"}(J||(J={}));var re=c.createContext({state:{},dispatch:function(){}}),ne=function(e,t){switch(t.type){case J.UPDATE_COMMENTS:return te(te({},e),{},{comments:t.payload,loading:!1});case J.UPDATE_COMMENTS_COUNT:return te(te({},e),{},{commentsCount:t.payload});case J.UPDATE_SORT_TYPE:return te(te({},e),{},{sortType:t.payload,loading:!0});default:return e}},oe=function(e){return(e.replyCount>0?e.replyCount:0)+(e.responseCount>0?e.responseCount:0)},ie=function(e,t){return!(Z()().diff(Z()(e.dateJoined),"days")<=0&&(0,C.$g)(t))},ae=function(e){var t=e.post,r=e.children,n={comments:t.comments,commentsCount:oe(t),post:t,loading:!1,sortType:N.QZ.Top},o=(0,c.useReducer)(ne,n),i=o[0],a=o[1];return(0,w.tZ)(re.Provider,{value:{state:i,dispatch:a},children:r})},se=function(){var e=c.useContext(re),t=e.state,r=e.dispatch,n=t.comments,o=t.commentsCount,a=t.post,l=t.loading,d=t.sortType,p=function(){var e=(0,F.Db)(N.Dn),t=(0,X.Z)(e,2)[1],r=function(){var e=(0,i.Z)(s().mark((function e(r){var n,o,i,a,c,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.commentId,o=r.contentMarkdown,e.next=3,t({input:{commentId:n,contentMarkdown:o}});case 3:if(i=e.sent,a=i.data,c=i.error,!(l=null===a||void 0===a?void 0:a.addReply.reply)){e.next=10;break}return u=q(q({},l),{},{author:(0,x.Xk)(l.author)}),e.abrupt("return",{reply:u,error:c});case 10:return e.abrupt("return",{reply:l,error:c});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{executeAddReplyMutation:r}}(),m=p.executeAddReplyMutation,f=function(){var e=(0,F.Db)(N.sD),t=(0,X.Z)(e,2)[1],r=function(){var e=(0,i.Z)(s().mark((function e(r){var n,o,i,a,c,l,u,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.commentId,o=r.replyId,i=r.contentMarkdown,e.next=3,t({input:{commentId:n,replyId:o,contentMarkdown:i}});case 3:if(a=e.sent,c=a.data,l=a.error,!(u=null===c||void 0===c?void 0:c.updateReply.reply)){e.next=10;break}return d=V(V({},u),{},{author:(0,x.Xk)(u.author)}),e.abrupt("return",{reply:d,error:l});case 10:return e.abrupt("return",{reply:u,error:l});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{executeUpdateReplyMutation:r}}(),y=f.executeUpdateReplyMutation,w=function(){var e=(0,F.Db)(N.yu),t=(0,X.Z)(e,2)[1],r=function(){var e=(0,i.Z)(s().mark((function e(r){var n,o,i,a,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.commentId,o=r.replyId,e.next=3,t({input:{commentId:n,replyId:o}});case 3:return i=e.sent,a=i.data,c=i.error,l=null===a||void 0===a?void 0:a.removeReply.reply,e.abrupt("return",{reply:l,error:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{executeRemoveReplyMutation:r}}(),g=w.executeRemoveReplyMutation,b=function(){var e=(0,F.Db)(N.Le),t=(0,X.Z)(e,2)[1],r=function(){var e=(0,i.Z)(s().mark((function e(r){var n,o,i,a,c,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.postId,o=r.contentMarkdown,e.next=3,t({input:{postId:n,contentMarkdown:o}});case 3:if(i=e.sent,a=i.data,c=i.error,!(l=null===a||void 0===a?void 0:a.addComment.comment)){e.next=10;break}return u=W(W({},l),{},{author:(0,x.Xk)(l.author),replies:[]}),e.abrupt("return",{comment:u,error:c});case 10:return e.abrupt("return",{comment:l,error:c});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{executeAddCommentMutation:r}}(),v=b.executeAddCommentMutation,k=function(){var e=(0,F.Db)(N.Uc),t=(0,X.Z)(e,2)[1],r=function(){var e=(0,i.Z)(s().mark((function e(r){var n,o,i,a,c,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.commentId,o=r.contentMarkdown,e.next=3,t({input:{id:n,contentMarkdown:o}});case 3:if(i=e.sent,a=i.data,c=i.error,!(l=null===a||void 0===a?void 0:a.updateComment.comment)){e.next=10;break}return u=G(G({},l),{},{author:(0,x.Xk)(l.author)}),e.abrupt("return",{comment:u,error:c});case 10:return e.abrupt("return",{comment:l,error:c});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{executeUpdateCommentMutation:r}}(),O=k.executeUpdateCommentMutation,I=function(){var e=(0,F.Db)(N.Hi),t=(0,X.Z)(e,2)[1],r=function(){var e=(0,i.Z)(s().mark((function e(r){var n,o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.commentId,e.next=3,t({input:{id:n}});case 3:return o=e.sent,i=o.data,a=o.error,c=null===i||void 0===i?void 0:i.removeComment.comment,e.abrupt("return",{comment:c,error:a});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{executeRemoveCommentMutation:r}}(),Z=I.executeRemoveCommentMutation,S=function(){var e=(0,$.D)().mutation,t=function(){var t=(0,i.Z)(s().mark((function t(r){var n,o,i,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.postId,o=r.commentId,t.next=3,e({url:"/ajax/post/response/unlike",body:{postId:n,responseId:o},mapper:function(){return null}});case 3:return i=t.sent,a=i.data,c=i.error,t.abrupt("return",{data:a,error:c});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var e=(0,i.Z)(s().mark((function e(r){var n,o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.postId,o=r.commentId,e.next=3,t({postId:n,commentId:o});case 3:return i=e.sent,a=i.data,c=i.error,e.abrupt("return",{data:a,error:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{unlikeComment:r}}(),C=S.unlikeComment,j=function(){var e=(0,$.D)().mutation,t=function(){var t=(0,i.Z)(s().mark((function t(r){var n,o,i,a,c,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.postId,o=r.commentId,i=r.replyId,t.next=3,e({url:"/ajax/post/reply/unlike",body:{postId:n,replyId:i,responseId:o},mapper:function(){return null}});case 3:return a=t.sent,c=a.data,l=a.error,t.abrupt("return",{data:c,error:l});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var e=(0,i.Z)(s().mark((function e(r){var n,o,i,a,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.postId,o=r.replyId,i=r.commentId,e.next=3,t({postId:n,replyId:o,commentId:i});case 3:return a=e.sent,c=a.data,l=a.error,e.abrupt("return",{data:c,error:l});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{unlikeReply:r}}(),_=j.unlikeReply,E=(0,u.Z)().data,P=null===a||void 0===a?void 0:a._id.toString(),D=function(e){r({type:J.UPDATE_COMMENTS_COUNT,payload:e})},R=function(e){r({type:J.UPDATE_COMMENTS,payload:e})},T=function(){D(o+1)},z=function(e){if(Array.isArray(n)){if(!e)return D(o-1);var t=n.find((function(t){return t.id===e}));if(t){var r=t.replies.length;D(o-r-1)}}},A=function(){var e=(0,i.Z)(s().mark((function e(t){var r,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie(E,t)){e.next=3;break}return(0,h.C)("error","You cannot submit a comment with links currently as you are a new user"),e.abrupt("return",null);case 3:if(Array.isArray(n)){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,v({postId:P,contentMarkdown:t});case 7:if(r=e.sent,o=r.comment,i=r.error,o){e.next=13;break}return i&&(0,h.C)("error",i.message),e.abrupt("return",null);case 13:return R([o].concat((0,U.Z)(n))),T(),e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=(0,i.Z)(s().mark((function e(t){var r,o,i,a,c,l,u,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.content,o=t.commentId,i=t.position,a=void 0===i?"start":i,ie(E,r)){e.next=4;break}return(0,h.C)("error","You cannot submit a comment with links currently as you are a new user"),e.abrupt("return",null);case 4:if(Array.isArray(n)){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,m({commentId:o,contentMarkdown:r});case 8:if(c=e.sent,l=c.reply,u=c.error,l){e.next=14;break}return u&&(0,h.C)("error",u.message),e.abrupt("return",null);case 14:return d=n.map((function(e){if(e.id!==o)return e;var t="start"===a?[l].concat((0,U.Z)(e.replies)):[].concat((0,U.Z)(e.replies),[l]);return te(te({},e),{},{replies:t})})),R(d),T(),e.abrupt("return",l);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,i.Z)(s().mark((function e(t){var r,o,i,a,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commentId,o=t.content,ie(E,o)){e.next=4;break}return(0,h.C)("error","You cannot submit a comment with links currently as you are a new user"),e.abrupt("return",null);case 4:if(Array.isArray(n)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,O({commentId:r,contentMarkdown:o});case 8:if(i=e.sent,a=i.comment,c=i.error,a){e.next=14;break}return c&&(0,h.C)("error",c.message),e.abrupt("return");case 14:l=n.map((function(e){return e.id!==r?e:te(te({},e),a)})),R(l);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=(0,i.Z)(s().mark((function e(t){var r,o,i,a,c,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commentId,o=t.replyId,i=t.content,ie(E,i)){e.next=4;break}return(0,h.C)("error","You cannot submit a comment with links currently as you are a new user"),e.abrupt("return",null);case 4:if(Array.isArray(n)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,y({commentId:r,replyId:o,contentMarkdown:i});case 8:if(a=e.sent,c=a.reply,l=a.error,c){e.next=14;break}return l&&(0,h.C)("error",l.message),e.abrupt("return");case 14:u=n.map((function(e){var t=e.replies.map((function(e){return e.id!==o?e:te(te({},e),c)}));return te(te({},e),{},{replies:t})})),R(u);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=(0,i.Z)(s().mark((function e(t){var r,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(n)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Z({commentId:t});case 4:if(r=e.sent,!(o=r.error)){e.next=9;break}return(0,h.C)("error",o.message),e.abrupt("return");case 9:i=n.filter((function(e){return e.id!==t})),R(i),z(t),(0,h.C)("success","Comment deleted successfully");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,i.Z)(s().mark((function e(t){var r,o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.replyId,o=t.commentId,Array.isArray(n)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,g({commentId:o,replyId:r});case 5:if(i=e.sent,!(a=i.error)){e.next=10;break}return(0,h.C)("error",a.message),e.abrupt("return");case 10:c=n.map((function(e){var t=e.replies.filter((function(e){return e.id!==r}));return te(te({},e),{},{replies:t})})),R(c),z(),(0,h.C)("success","Reply deleted successfully");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=(0,i.Z)(s().mark((function e(t){var r,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(n)){e.next=2;break}return e.abrupt("return");case 2:return r=n.map((function(e){return e.id!==t?e:te(te({},e),{},{totalReactions:e.totalReactions-e.myTotalReactions,myTotalReactions:0})})),R(r),e.next=6,C({postId:P,commentId:t});case 6:o=e.sent,(i=o.error)&&(0,h.C)("error",i.message);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,i.Z)(s().mark((function e(t){var r,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commentId,o=t.replyId,Array.isArray(n)){e.next=3;break}return e.abrupt("return");case 3:return i=n.map((function(e){var t=e.replies.map((function(e){return e.id!==o?e:te(te({},e),{},{totalReactions:e.totalReactions-e.myTotalReactions,myTotalReactions:0})}));return te(te({},e),{},{replies:t})})),R(i),e.next=7,_({postId:P,replyId:o,commentId:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{comments:n,commentsCount:o,post:a,loading:l,sortType:d,addComment:A,addReply:B,editComment:M,editReply:L,deleteComment:H,deleteReply:Y,likeComment:function(e){if(Array.isArray(n)){var t=n.map((function(t){return t.id!==e?t:te(te({},t),{},{totalReactions:(t.totalReactions||0)+1,myTotalReactions:(t.myTotalReactions||0)+1})}));R(t)}},unlikeComment:K,likeReply:function(e){if(Array.isArray(n)){var t=n.map((function(t){var r=t.replies.map((function(t){return t.id!==e?t:te(te({},t),{},{totalReactions:(t.totalReactions||0)+1,myTotalReactions:(t.myTotalReactions||0)+1})}));return te(te({},t),{},{replies:r})}));R(t)}},unlikeReply:Q,updateComments:R,updateSortType:function(e){r({type:J.UPDATE_SORT_TYPE,payload:e})}}},ce=r(87536),le=r(56312),ue=r(1604),de=r(56809),pe=r(64529);function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var he=(0,pe.Ue)((function(e){return{statusMap:{},setStatusMap:function(t){var r=t.postId,o=t.status;e((function(e){return{statusMap:fe(fe({},e.statusMap),{},(0,n.Z)({},r,o))}}))}}})),ye=function(){var e=(0,d.useRouter)().pathname;return R(e)?_.L.DISCUSSIONS_FEED:D(e)?_.L.DISCUSSIONS_PAGE:null},we=null,ge=(0,pe.Ue)((function(e){return{timer:null,id:"",setId:function(t){e({id:t}),we&&clearTimeout(we),we=setTimeout((function(){e({id:null})}),5e3)}}})),be=r(98896),ve=r(22888),xe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Leave this page? Changes that you made may not be saved.";(0,ve.Z)(e,t),(0,c.useEffect)((function(){var r=function(){if(e&&!window.confirm(t))throw"Routing is prevented"};return p().events.on("beforeHistoryChange",r),function(){p().events.off("beforeHistoryChange",r)}}),[e,t])},ke=r(74174),Oe=r(60896),Ie=r(57194),Ze=r(45578),Se=r.n(Ze);var Ce={display:"flex",flexDirection:"column",gap:"1rem",borderRadius:"0.75rem",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(226 232 240 / var(--tw-border-opacity))",padding:"1rem",".dark &":{borderColor:"rgb(30 41 59 / 0.8)"}},je=function(e){var t=e.children;return(0,w.tZ)("div",{css:Ce,children:t})},_e={name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"},Ee={name:"z96uxv",styles:"display:flex;align-items:center;justify-content:space-between;font-size:0.75rem;line-height:1rem;--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity));}"},Pe={name:"h6sqxb",styles:"@media (min-width: 640px){display:none;}"},De={name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"},Re={name:"uv5sv",styles:"display:none;align-items:center;gap:0.5rem;--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity));}@media (min-width: 640px){display:flex;}"},Te={name:"1kph1zd",styles:"font-size:0.875rem;line-height:1.25rem;font-weight:500;:hover{text-decoration-line:underline;}"},ze={name:"lzyyh6",styles:"display:flex;align-items:center;justify-content:center;border-radius:9999px;border-width:1px;--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity));padding:0.375rem;--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity));transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:100ms;:hover{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity));}:focus{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity));outline:2px solid transparent;outline-offset:2px;}.dark &{--tw-border-opacity:1;border-color:rgb(30 41 59 / var(--tw-border-opacity));--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity));}.dark &:hover{--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity));}.dark &:focus{--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity));}@media (min-width: 640px){display:none;}"},Ae={name:"aj6rbz",styles:"display:flex;gap:0.5rem"},Be={name:"vaak6u",styles:"display:none;@media (min-width: 640px){display:block;}"},Me={name:"h9aq5x",styles:"font-size:0.875rem;line-height:1.25rem;font-weight:500"},Ue={name:"h9aq5x",styles:"font-size:0.875rem;line-height:1.25rem;font-weight:500"},Ne={name:"h9aq5x",styles:"font-size:0.875rem;line-height:1.25rem;font-weight:500"},Xe=c.forwardRef((function(e,t){var r=e.onChange,n=e.value,o=e.onCancelHandler,i=void 0===o?function(){}:o,a=e.disableCommentButton,s=e.disableCancelButton,l=e.disableInput,d=e.mode,p=void 0===d?"add":d,m="add"===p,f="edit"===p,h=(0,c.useRef)(null),g=(0,be.Z)().uploadSignedImage,b=(0,u.Z)().data,v=(0,ke.F)(t,h),x=se(),k=x.post,O=x.comments,I=(0,c.useRef)(null);xe(!!n),(0,c.useLayoutEffect)((function(){var e=h.current;e&&(e.focus(),e.setSelectionRange(e.value.length,e.value.length))}),[]);var Z=[];k.author&&Z.push({name:k.author.name,username:k.author.username,photo:k.author.photo}),(O||[]).map((function(e){return e.author.name!==(k.author&&k.author.name)&&Z.push({name:e.author.name,username:e.author.username,photo:e.author.photo}),null})),Z=Se()(Z,"username"),b&&(Z=Z.filter((function(e){return e.username!==b.username}))),Z=Z.slice(0,5);return(0,w.BX)(je,{children:[(0,w.BX)("div",{css:_e,children:[(0,w.BX)(Ie.E.p,{css:Ee,initial:{opacity:0,x:20,y:10},animate:{opacity:1,x:0,y:0},children:[(0,w.tZ)("span",{children:"Markdown supported"}),(0,w.tZ)("div",{css:Pe,children:(0,w.tZ)(y.hU,{disabled:s,onClick:i,size:"xs",Icon:y.X})})]}),(0,w.tZ)(Ie.E.div,{initial:{opacity:0,x:20,y:-10},animate:{opacity:1,x:0,y:0},children:(0,w.tZ)(Oe.Z,{getRef:v,name:"editor",onEscapeHandler:i,onChangeHandler:r,onSubmitHandler:function(){var e=I.current;e&&e.click()},forceDisableTextArea:l,initialValue:null!==n&&void 0!==n?n:"",defaultMentionSuggestions:Z,isPublicationPost:!0,disableToolbar:!0,disablePreview:!0,uploadSignedImage:g,disableImageUpload:!b})})]}),(0,w.BX)(Ie.E.div,{css:De,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:[(0,w.BX)(y.Xlt,{href:"/code-of-conduct",target:"_blank",children:[(0,w.BX)("div",{css:Re,children:[(0,w.tZ)("span",{css:Te,children:"Code of conduct"}),(0,w.tZ)(y.Gux,{size:"sm"})]}),(0,w.tZ)("div",{css:ze,children:(0,w.tZ)(y.TUt,{size:"md"})})]}),(0,w.BX)("div",{css:Ae,children:[(0,w.tZ)("div",{css:Be,children:(0,w.tZ)(y.zxk,{disabled:s,appearance:"tertiary-slate",size:"xs",onClick:i,children:(0,w.tZ)("span",{css:Me,children:"Cancel"})})}),(0,w.BX)(y.zxk,{ref:I,disabled:a,appearance:"primary",size:"xs",children:[m&&(0,w.tZ)("span",{css:Ue,children:"Comment"}),f&&(0,w.tZ)("span",{css:Ne,children:"Save"})]})]})]})]})})),Fe=r(13756),Le=r(89718),qe=r(83866),He=r.n(qe);var Ve={name:"1j8syi2",styles:"position:relative;display:flex;flex-direction:column;gap:0.25rem"},Ye={name:"24d8nf",styles:"position:absolute;bottom:0px;right:0px;width:100%"},We={name:"p4n35k",styles:"height:66px;background-image:linear-gradient(to top, var(--tw-gradient-stops));--tw-gradient-from:#fff;--tw-gradient-to:transparent;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to);.dark &{--tw-gradient-from:#020617;--tw-gradient-to:rgb(2 6 23 / 0);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to);}"},Ke={name:"1wl569r",styles:"position:relative;z-index:20"},Ge={name:"13ald5",styles:"display:flex;align-items:center;justify-content:center;gap:0.5rem;font-size:0.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity));}"},Je=function(e){var t=e.html,r=e.text,n="/discussions"===(0,d.useRouter)().pathname,o=He().link(t,{twitter:!0,truncate:45,css:"autolinkedURL",replaceFn:function(e,t){if("twitter"===t.getType()){var r=t.getTwitterHandle();return'<a href="https://hashnode.com/@'.concat(r,'" class="user-mention" target="_blank" rel="noopener">@').concat(r,"</a>")}return null}}),i=n?(r.match(/\n/g)||[]).length:0,a=(0,k.imageReplacer)(o),s=a!==o,l=n&&(r.length>320||i>3||s),u=(0,c.useState)(!l),p=u[0],m=u[1];return(0,w.BX)("div",{css:Ve,children:[(0,w.tZ)("div",{dangerouslySetInnerHTML:{__html:a},className:"prose",css:['color:rgb(71 85 105 / var(--tw-text-opacity));max-width:65ch;& :where([class~="lead"]):not(:where([class~="not-prose"] *)){color:var(--tw-prose-lead);font-size:1.25em;line-height:1.6;margin-top:1.2em;margin-bottom:1.2em;}& :where(a):not(:where([class~="not-prose"] *)){color:#111;text-decoration:underline;font-weight:500;}& :where(a):not(:where([class~="not-prose"] *)).user-mention{text-decoration:none;color:#2962ff;}& :where(strong):not(:where([class~="not-prose"] *)){color:var(--tw-prose-bold);font-weight:600;}& :where(a strong):not(:where([class~="not-prose"] *)){color:inherit;}& :where(blockquote strong):not(:where([class~="not-prose"] *)){color:inherit;}& :where(thead th strong):not(:where([class~="not-prose"] *)){color:inherit;}& :where(ol):not(:where([class~="not-prose"] *)){list-style-type:decimal;margin-top:1.25em;margin-bottom:1.25em;padding-left:1.625em;}& :where(ol[type="A"]):not(:where([class~="not-prose"] *)){list-style-type:upper-alpha;}& :where(ol[type="a"]):not(:where([class~="not-prose"] *)){list-style-type:lower-alpha;}& :where(ol[type="A" s]):not(:where([class~="not-prose"] *)){list-style-type:upper-alpha;}& :where(ol[type="a" s]):not(:where([class~="not-prose"] *)){list-style-type:lower-alpha;}& :where(ol[type="I"]):not(:where([class~="not-prose"] *)){list-style-type:upper-roman;}& :where(ol[type="i"]):not(:where([class~="not-prose"] *)){list-style-type:lower-roman;}& :where(ol[type="I" s]):not(:where([class~="not-prose"] *)){list-style-type:upper-roman;}& :where(ol[type="i" s]):not(:where([class~="not-prose"] *)){list-style-type:lower-roman;}& :where(ol[type="1"]):not(:where([class~="not-prose"] *)){list-style-type:decimal;}& :where(ul):not(:where([class~="not-prose"] *)){list-style-type:disc;margin-top:1.25em;margin-bottom:1.25em;padding-left:1.625em;}& :where(ol > li):not(:where([class~="not-prose"] *))::marker{font-weight:400;color:var(--tw-prose-counters);}& :where(ul > li):not(:where([class~="not-prose"] *))::marker{color:var(--tw-prose-bullets);}& :where(hr):not(:where([class~="not-prose"] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-top:3em;margin-bottom:3em;}& :where(blockquote):not(:where([class~="not-prose"] *)){font-weight:500;font-style:italic;color:var(--tw-prose-quotes);border-left-width:0.25rem;border-left-color:var(--tw-prose-quote-borders);quotes:"\\201C""\\201D""\\2018""\\2019";margin-top:1.6em;margin-bottom:1.6em;padding-left:1em;border-color:#e2e8f0;}& :where(blockquote p:first-of-type):not(:where([class~="not-prose"] *))::before{content:"";}& :where(blockquote p:last-of-type):not(:where([class~="not-prose"] *))::after{content:"";}& :where(h1):not(:where([class~="not-prose"] *)){color:var(--tw-prose-headings);font-weight:800;font-size:2.25em;margin-top:0;margin-bottom:0.8888889em;line-height:1.1111111;font-family:Suisse Intl,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";}& :where(h1 strong):not(:where([class~="not-prose"] *)){font-weight:900;color:inherit;}& :where(h2):not(:where([class~="not-prose"] *)){color:var(--tw-prose-headings);font-weight:700;font-size:1.5em;margin-top:2em;margin-bottom:1em;line-height:1.3333333;font-family:Suisse Intl,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";}& :where(h2 strong):not(:where([class~="not-prose"] *)){font-weight:800;color:inherit;}& :where(h3):not(:where([class~="not-prose"] *)){color:var(--tw-prose-headings);font-weight:600;font-size:1.25em;margin-top:1.6em;margin-bottom:0.6em;line-height:1.6;font-family:Suisse Intl,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";}& :where(h3 strong):not(:where([class~="not-prose"] *)){font-weight:700;color:inherit;}& :where(h4):not(:where([class~="not-prose"] *)){color:var(--tw-prose-headings);font-weight:600;margin-top:1.5em;margin-bottom:0.5em;line-height:1.5;font-family:Suisse Intl,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";}& :where(h4 strong):not(:where([class~="not-prose"] *)){font-weight:700;color:inherit;}& :where(img):not(:where([class~="not-prose"] *)){margin-top:2em;margin-bottom:2em;}& :where(figure > *):not(:where([class~="not-prose"] *)){margin-top:0;margin-bottom:0;}& :where(figcaption):not(:where([class~="not-prose"] *)){color:var(--tw-prose-captions);font-size:0.875em;line-height:1.4285714;margin-top:0.8571429em;}& :where(code):not(:where([class~="not-prose"] *)){color:var(--tw-prose-code);font-weight:600;font-size:0.875em;}& :where(code):not(:where([class~="not-prose"] *))::after{display:none;content:"`";}& :where(code):not(:where([class~="not-prose"] *))::before{display:none;content:"`";}& :where(a code):not(:where([class~="not-prose"] *)){color:inherit;}& :where(h1 code):not(:where([class~="not-prose"] *)){color:inherit;}& :where(h2 code):not(:where([class~="not-prose"] *)){color:inherit;font-size:0.875em;}& :where(h3 code):not(:where([class~="not-prose"] *)){color:inherit;font-size:0.9em;}& :where(h4 code):not(:where([class~="not-prose"] *)){color:inherit;}& :where(blockquote code):not(:where([class~="not-prose"] *)){color:inherit;}& :where(thead th code):not(:where([class~="not-prose"] *)){color:inherit;}& :where(pre):not(:where([class~="not-prose"] *)){color:var(--tw-prose-pre-code);background-color:#0f172a;overflow-x:auto;font-weight:400;font-size:0.875em;line-height:1.7142857;margin-top:1.7142857em;margin-bottom:1.7142857em;border-radius:0.375rem;padding-top:0.8571429em;padding-right:1.1428571em;padding-bottom:0.8571429em;padding-left:1.1428571em;}& :where(pre code):not(:where([class~="not-prose"] *)){background-color:transparent;border-width:0;border-radius:0;padding:0;font-weight:inherit;color:inherit;font-size:inherit;font-family:inherit;line-height:inherit;}& :where(pre code):not(:where([class~="not-prose"] *))::before{content:none;}& :where(pre code):not(:where([class~="not-prose"] *))::after{content:none;}& :where(table):not(:where([class~="not-prose"] *)){width:100%;table-layout:auto;text-align:left;margin-top:2em;margin-bottom:2em;font-size:0.875em;line-height:1.7142857;}& :where(thead):not(:where([class~="not-prose"] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-th-borders);font-weight:600;}& :where(thead th):not(:where([class~="not-prose"] *)){color:var(--tw-prose-headings);font-weight:600;vertical-align:bottom;padding-right:0.5714286em;padding-bottom:0.5714286em;padding-left:0.5714286em;}& :where(tbody tr):not(:where([class~="not-prose"] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-td-borders);}& :where(tbody tr:last-child):not(:where([class~="not-prose"] *)){border-bottom-width:0;}& :where(tbody td):not(:where([class~="not-prose"] *)){vertical-align:baseline;}& :where(tfoot):not(:where([class~="not-prose"] *)){border-top-width:1px;border-top-color:var(--tw-prose-th-borders);}& :where(tfoot td):not(:where([class~="not-prose"] *)){vertical-align:top;}--tw-prose-body:#374151;--tw-prose-headings:#111827;--tw-prose-lead:#4b5563;--tw-prose-links:#111827;--tw-prose-bold:#111827;--tw-prose-counters:#6b7280;--tw-prose-bullets:#d1d5db;--tw-prose-hr:#e5e7eb;--tw-prose-quotes:#111827;--tw-prose-quote-borders:#e5e7eb;--tw-prose-captions:#6b7280;--tw-prose-code:#111827;--tw-prose-pre-code:#e5e7eb;--tw-prose-pre-bg:#1f2937;--tw-prose-th-borders:#d1d5db;--tw-prose-td-borders:#e5e7eb;--tw-prose-invert-body:#d1d5db;--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:#9ca3af;--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:#9ca3af;--tw-prose-invert-bullets:#4b5563;--tw-prose-invert-hr:#374151;--tw-prose-invert-quotes:#f3f4f6;--tw-prose-invert-quote-borders:#374151;--tw-prose-invert-captions:#9ca3af;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:#d1d5db;--tw-prose-invert-pre-bg:rgb(0 0 0 / 50%);--tw-prose-invert-th-borders:#4b5563;--tw-prose-invert-td-borders:#374151;font-size:1rem;line-height:1.375;& :where(p):not(:where([class~="not-prose"] *)){margin-top:1.25em;margin-bottom:1.25em;}& :where(video):not(:where([class~="not-prose"] *)){margin-top:2em;margin-bottom:2em;}& :where(figure):not(:where([class~="not-prose"] *)){margin-top:2em;margin-bottom:2em;}& :where(li):not(:where([class~="not-prose"] *)){margin-top:0.5em;margin-bottom:0.5em;}& :where(ol > li):not(:where([class~="not-prose"] *)){padding-left:0.375em;}& :where(ul > li):not(:where([class~="not-prose"] *)){padding-left:0.375em;}& :where(.prose > ul > li p):not(:where([class~="not-prose"] *)){margin-top:0.75em;margin-bottom:0.75em;}& :where(.prose > ul > li > *:first-child):not(:where([class~="not-prose"] *)){margin-top:1.25em;}& :where(.prose > ul > li > *:last-child):not(:where([class~="not-prose"] *)){margin-bottom:1.25em;}& :where(.prose > ol > li > *:first-child):not(:where([class~="not-prose"] *)){margin-top:1.25em;}& :where(.prose > ol > li > *:last-child):not(:where([class~="not-prose"] *)){margin-bottom:1.25em;}& :where(ul ul, ul ol, ol ul, ol ol):not(:where([class~="not-prose"] *)){margin-top:0.75em;margin-bottom:0.75em;}& :where(hr + *):not(:where([class~="not-prose"] *)){margin-top:0;}& :where(h2 + *):not(:where([class~="not-prose"] *)){margin-top:0;}& :where(h3 + *):not(:where([class~="not-prose"] *)){margin-top:0;}& :where(h4 + *):not(:where([class~="not-prose"] *)){margin-top:0;}& :where(thead th:first-child):not(:where([class~="not-prose"] *)){padding-left:0;}& :where(thead th:last-child):not(:where([class~="not-prose"] *)){padding-right:0;}& :where(tbody td, tfoot td):not(:where([class~="not-prose"] *)){padding-top:0.5714286em;padding-right:0.5714286em;padding-bottom:0.5714286em;padding-left:0.5714286em;}& :where(tbody td:first-child, tfoot td:first-child):not(:where([class~="not-prose"] *)){padding-left:0;}& :where(tbody td:last-child, tfoot td:last-child):not(:where([class~="not-prose"] *)){padding-right:0;}& :where(.prose > :first-child):not(:where([class~="not-prose"] *)){margin-top:0;}& :where(.prose > :last-child):not(:where([class~="not-prose"] *)){margin-bottom:0;}& :where(div[data-node-type="callout"]):not(:where([class~="not-prose"] *)){display:flex;justify-content:flex-start;align-items:flex-start;background-color:#F8FAFC;border:1px solid #E2E8F0;padding: 1rem 1.5rem;gap:0.5rem;border-radius:0.5rem;margin:1rem 0;word-break:break-word;}& :where(div[data-node-type="callout-emoji"]):not(:where([class~="not-prose"] *)){background:#E2E8F0;border-radius:0.5rem;min-width:1.75rem;width:1.75rem;height:1.5rem;display:flex;margin-top:0.3rem;justify-content:center;align-items:center;font-size:1rem;}& :where(li p):not(:where([class~="not-prose"] *)){margin:0px;}& :where(details):not(:where([class~="not-prose"] *)){border:none;border-radius:4px;padding:.5em 3em 0;}& :where(details > :not(summary)):not(:where([class~="not-prose"] *)){padding:0.5em 0 0.5em 1em;position:relative;font-size:1.125rem;margin:0;}& :where(details > :not(summary)):not(:where([class~="not-prose"] *))::before{position:absolute;left:0.3em;top:0;content:"";border:1px solid #cbd5e1;border-radius:4px;width:1px;height:100%;}& :where(summary):not(:where([class~="not-prose"] *)){font-size:1.125rem;font-weight:bold;margin:0;margin-bottom:0.5rem;}& :where(kbd):not(:where([class~="not-prose"] *)){background-color:#eee;border-radius:3px;border:1px solid #b4b4b4;box-shadow:0 1px 1px rgba(0, 0, 0, .2), 0 2px 0 0 rgba(255, 255, 255, .7) inset;color:#333;display:inline-block;font-size:.85em;font-weight:700;line-weight:1;padding:2px 4px;white-space:nowrap;}& :where(abbr):not(:where([class~="not-prose"] *)){font-style:italic;}& :where(dt):not(:where([class~="not-prose"] *)){font-weight:bold;}& :where(dd):not(:where([class~="not-prose"] *)){margin-bottom:1rem;margin-inline-start:1rem;}& :where(h5):not(:where([class~="not-prose"] *)){font-family:Suisse Intl,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";}& :where(h6):not(:where([class~="not-prose"] *)){font-family:Suisse Intl,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";}& :where(td):not(:where([class~="not-prose"] *)){border:1px solid rgb(226 232 240 / 80%);}& :where(th):not(:where([class~="not-prose"] *)){border:1px solid rgb(226 232 240 / 80%);}--tw-text-opacity:1;word-break:normal;overflow-wrap:anywhere;.dark &{color:#cbd5e1;}.dark & :where(a):not(:where([class~="not-prose"] *)){color:#cbd5e1;}.dark & :where(div[data-node-type="callout"]):not(:where([class~="not-prose"] *)){background-color:#1E293B;border:1px solid #334155;}.dark & :where(div[data-node-type="callout-emoji"]):not(:where([class~="not-prose"] *)){background:#475569;}.dark & :where(details > :not(summary)):not(:where([class~="not-prose"] *))::before{border:1px solid #334155;}.dark & :where(kbd):not(:where([class~="not-prose"] *)){background-color:#444;border:1px solid #757575;color:#FFF;}.dark & :where(strong):not(:where([class~="not-prose"] *)){color:#cbd5e1;}.dark & :where(ol > li):not(:where([class~="not-prose"] *))::before{color:#bdbdbd;}.dark & :where(blockquote):not(:where([class~="not-prose"] *)){border-color:#334155;color:#f8fafc;}.dark & :where(h1):not(:where([class~="not-prose"] *)){color:#cbd5e1;}.dark & :where(h2):not(:where([class~="not-prose"] *)){color:#cbd5e1;}.dark & :where(h3):not(:where([class~="not-prose"] *)){color:#cbd5e1;}.dark & :where(h4):not(:where([class~="not-prose"] *)){color:#cbd5e1;}.dark & :where(figure figcaption):not(:where([class~="not-prose"] *)){color:#bdbdbd;}.dark & :where(code):not(:where([class~="not-prose"] *)){color:#cbd5e1;background-color:#1f2937;}.dark & :where(a code):not(:where([class~="not-prose"] *)){color:#cbd5e1;}.dark & :where(pre):not(:where([class~="not-prose"] *)){color:#cbd5e1;background-color:#1e293b;}.dark & :where(pre code):not(:where([class~="not-prose"] *)){color:#cbd5e1;background-color:transparent;}.dark & :where(thead):not(:where([class~="not-prose"] *)){color:#cbd5e1;}.dark & :where(td):not(:where([class~="not-prose"] *)){border:1px solid #1E293B;}.dark & :where(th):not(:where([class~="not-prose"] *)){border:1px solid #1E293B;}.dark & :where(li p):not(:where([class~="not-prose"] *)){margin:0px;}',!p&&{maxHeight:"88px",overflow:"hidden"},"",""]}),!p&&l&&(0,w.tZ)("div",{css:Ye,children:(0,w.tZ)("div",{css:We})}),l&&(0,w.tZ)("div",{css:Ke,children:(0,w.tZ)("button",{type:"button",css:Ge,onClick:function(){m((function(e){return!e}))},children:(0,w.BX)("span",{children:["Show ",p?"less":"more"]})})})]})};function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var et={name:"1vfhcql",styles:"object-fit:cover"},tt={name:"1vfhcql",styles:"object-fit:cover"},rt={name:"vaak6u",styles:"display:none;@media (min-width: 640px){display:block;}"},nt={name:"h6sqxb",styles:"@media (min-width: 640px){display:none;}"},ot=function(e){var t=e.children;return(0,w.BX)(w.HY,{children:[(0,w.tZ)("div",{css:rt,children:(0,w.tZ)(y.qEK,{children:t})}),(0,w.tZ)("div",{css:nt,children:(0,w.tZ)(y.qEK,{size:"sm",children:t})})]})},it={name:"erdha6",styles:"display:inline-block;border-radius:9999px;:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-opacity:1;--tw-ring-color:rgb(37 99 235 / var(--tw-ring-opacity));--tw-ring-offset-width:2px;--tw-ring-offset-color:#fff;}.dark &:focus{--tw-ring-offset-color:#1e293b;}"},at=function(){var e=(0,u.Z)().data,t=se().post,r=ye(),n=null===t||void 0===t?void 0:t.author,o=null===t||void 0===t?void 0:t.coAuthors,i=function(t){var i,a,s,c,l,u=t.id,d=null!==(i=t.stamp)&&void 0!==i?i:"",p=t.author,m=null===(a=p._id)||void 0===a?void 0:a.toString(),f=p.name,h=p.username,g=p.photo||S.IZ,b=!(null===(s=p.pro)||void 0===s||!s.hasProAccess),x=(null===n||void 0===n?void 0:n._id.toString())===m,O=null===o||void 0===o?void 0:o.some((function(e){return e._id.toString()===m})),I=(null===e||void 0===e||null===(c=e._id)||void 0===c?void 0:c.toString())===m?"/settings/pro":"/pro?source=proBadge",C=function(e){var t=e.src,r=e.alt;return t?(0,w.tZ)(y.mi6,{alt:r,src:(0,k.resizeImage)(t,{w:124,h:124,c:"face"}),fill:!0,css:et}):(0,w.tZ)(y.mi6,{alt:r,src:S.IZ,fill:!0,css:tt})}({src:g,alt:f||"Default profile photo"}),j=(l=t.dateAdded,Z()().diff(Z()(l),"hours")<=23?Z()(l).fromNow():Z()(l).format("MMM D, YYYY")),_="/@".concat(h,"?source=").concat(r);return{id:u,stamp:d,author:{id:m,name:f,username:h,avatar:(0,w.tZ)(y.Xlt,{href:_,css:it,children:(0,w.tZ)(ot,{children:(0,w.tZ)(v.Z,{userId:m,closeOnClick:!0,children:C})})}),pro:{active:b,badgeLink:I},isPostAuthor:x,isPostCoAuthor:O},dateAdded:j,content:(0,w.tZ)(Je,{html:t.content.html,text:t.content.text})}},a=function(e){return null===e||void 0===e?void 0:e.map((function(e){return i(e)}))};return{getMappedComment:function(e){var t,r=e.replies;return $e($e({},i(e)),r&&{replies:a(r),repliesCountText:(t=r.length,(0,C.uv)({count:t,singularTerm:"reply",pluralTerm:"replies"}))})},getMappedReply:i}};function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?st(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lt={name:"h9aq5x",styles:"font-size:0.875rem;line-height:1.25rem;font-weight:500"},ut=function(e){return(0,w.tZ)(y.zxk,ct(ct({},e),{},{size:"xs",appearance:"link-slate",children:(0,w.tZ)("span",{css:lt,children:"Reply"})}))},dt=r(4730),pt=r(23279),mt=r.n(pt),ft=r(34513),ht=r(28663),yt=["isLoading"];function wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var gt=function(e){var t=1,r=function r(){Math.round(100*(t+Number.EPSILON))/100!==1&&(t-=.1,e&&(e.style.transform="scale(".concat(t,")")),window.requestAnimationFrame(r))};window.requestAnimationFrame((function n(){Math.round(100*(t+Number.EPSILON))/100!==2?(t+=.1,e&&(e.style.transform="scale(".concat(t,")")),window.requestAnimationFrame(n)):r()}))},bt={name:"bjn8wh",styles:"position:relative"},vt={name:"qk5wn7",styles:"position:relative;display:flex;align-items:center;gap:0.25rem"},xt={name:"1cvqebc",styles:"position:relative;display:flex;width:2rem;align-items:center"},kt={name:"1q37r1b",styles:"z-index:50;height:2.5rem;width:2.5rem;border-radius:9999px;--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity));padding:0.5rem;text-align:center;font-size:0.875rem;line-height:22px;--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));.dark &{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity));--tw-text-opacity:1;color:rgb(15 23 42 / var(--tw-text-opacity));}"},Ot={name:"12o4jwd",styles:"z-index:50;border-radius:0.375rem;--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity));padding:0.5rem;padding-left:0.75rem;padding-right:0.75rem;font-size:0.75rem;line-height:1rem;--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));.dark &{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity));--tw-text-opacity:1;color:rgb(15 23 42 / var(--tw-text-opacity));}"},It={name:"26k62n",styles:"font-size:0.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity));}"},Zt=function(e){var t=e.getReactions,r=e.onReact,n=e.saveReactionsCount,o=e.goToPublicationLogin,i=t(),a=i.totalReactionsByCurrentUser,s=i.totalReactions,l=(0,c.useRef)(null),d=(0,c.useState)(!1),p=d[0],m=d[1],f=(0,c.useRef)(0),h=(0,u.Z)().data,g=(0,ft.Z)((function(){var e;null===(e=l.current)||void 0===e||e.classList.remove("shake")}),1e3),b=(0,X.Z)(g,3)[2],v=(0,ft.Z)((function(){m(!1)}),1e3),x=(0,X.Z)(v,3)[2],k=(0,c.useCallback)(mt()((function(){n(f.current),f.current=0}),1e3),[]),O=(0,w.tZ)("button",{type:"button","aria-label":"Like this comment",onClick:function(){h?(m(!0),x(),10!==a?(f.current+=1,r(),k(),gt(l.current)):function(){var e;null===(e=l.current)||void 0===e||e.classList.add("shake"),b()}()):o()},css:["border-radius:9999px;padding:0.375rem;--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity));:hover{--tw-bg-opacity:1;background-color:rgb(254 242 242 / var(--tw-bg-opacity));--tw-text-opacity:1;color:rgb(220 38 38 / var(--tw-text-opacity));}.dark &{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity));}.dark &:hover{--tw-bg-opacity:0.62;background-color:rgb(69 10 10 / var(--tw-bg-opacity));--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity));}",a>0&&{"--tw-text-opacity":"1",color:"rgb(220 38 38 / var(--tw-text-opacity))",".dark &":{"--tw-text-opacity":"1",color:"rgb(239 68 68 / var(--tw-text-opacity))"}},"",""],children:(0,w.tZ)("div",{ref:l,children:(0,w.tZ)(y.Qt$,{size:"md",solid:a>0})})});return(0,w.tZ)(ht.zt,{children:(0,w.BX)("div",{css:bt,children:[(0,w.tZ)("style",{dangerouslySetInnerHTML:{__html:"\n          @keyframes shake {\n            0% { transform: translateX(0) }\n            25% { transform: translateX(1px) }\n            50% { transform: translateX(-1px) }\n            75% { transform: translateX(1px) }\n            100% { transform: translateX(0) }\n          }\n          .shake {\n            animation-name: shake;\n            animation-iteration-count: 2;\n            animation-duration: 400ms;\n            animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);\n            will-change: transform, opacity;\n          }\n          "}}),(0,w.BX)("div",{css:vt,children:[(0,w.tZ)("div",{css:xt,children:a>0?(0,w.BX)(ht.fC,{open:p,children:[(0,w.tZ)(ht.xz,{asChild:!0,children:O}),(0,w.tZ)(ht.h_,{children:(0,w.tZ)(ht.VY,{asChild:!0,sideOffset:5,children:(0,w.tZ)(Ie.E.div,{css:kt,initial:{opacity:0,y:5},animate:{opacity:1,y:0},children:"+".concat(a)})})})]}):(0,w.BX)(ht.fC,{children:[(0,w.tZ)(ht.xz,{asChild:!0,children:O}),(0,w.tZ)(ht.VY,{sideOffset:5,css:Ot,children:"Like this comment"})]})}),s>0&&(0,w.tZ)("span",{css:It,children:(0,C.sy)(s)})]})]})})},St={name:"2795qf",styles:"@keyframes pulse{50%{opacity:.5;}}animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;border-radius:9999px;--tw-bg-opacity:1;background-color:rgb(241 245 249 / var(--tw-bg-opacity));.dark &{--tw-bg-opacity:1;background-color:rgb(30 41 59 / var(--tw-bg-opacity));}"},Ct={name:"76bn4g",styles:"pointer-events:none;visibility:hidden;padding:0.375rem"},jt=function(){return(0,w.tZ)("div",{css:St,children:(0,w.tZ)("button",{type:"button",css:Ct,children:(0,w.tZ)(y.Qt$,{size:"md"})})})},_t=function(e){var t=(0,Fe._)().open,r=e.isLoading,o=(0,dt.Z)(e,yt);return r?(0,w.tZ)(jt,{}):(0,w.tZ)(Zt,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({goToPublicationLogin:function(){t()}},o))};var Et={name:"6dhm9o",styles:"visibility:hidden"},Pt=function(e){var t=e.canEditComment,r=e.canDeleteComment,n=e.canUnlikeComment,o=e.disableMoreOptionsButton,i=e.onEditComment,a=e.onDeleteComment,s=e.onReportComment,c=e.onUnlikeComment;return(0,u.Z)().data?(0,w.BX)(y.h_2,{children:[(0,w.tZ)(y.$FS,{disabled:o,children:(0,w.tZ)(y.hU,{Icon:y.BFr,"aria-label":"Comment More Actions"})}),(0,w.BX)(y.AWV,{hideWhenDetached:!0,sideOffset:10,align:"end",children:[n&&(0,w.tZ)(y.O3W,{onClick:c,text:"Unlike comment",startIcon:y.XnY}),t?(0,w.tZ)(y.O3W,{onClick:i,text:"Edit comment",startIcon:y.SrG}):null,r?(0,w.tZ)(y.O3W,{onClick:a,text:"Delete comment",startIcon:y.HG3}):null,(0,w.tZ)(y.O3W,{onClick:s,text:"Report",startIcon:y.WNf,intent:"warning"})]})]}):(0,w.tZ)("div",{css:Et,children:(0,w.tZ)(y.hU,{disabled:!0,Icon:y.BFr})})};function Dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Tt=ue.z.object({reply:ue.z.string().min(1,"Reply cannot be empty")}),zt={name:"15idi1d",styles:"display:flex;flex-direction:column;gap:0.75rem"},At=function(e){var t,r,n=(0,u.Z)(),o=n.data,a=n.isValidating,l=e.author,d=e.highlight,p=e.onReplyClick,m=e.id,f=e.content,g=e.disableInteraction,b=void 0!==g&&g,v=e.commentId,x=e.myTotalReactions,k=e.totalReactions,O=(0,c.useState)("view"),I=O[0],Z=O[1],S=se(),C=S.editReply,j=S.deleteReply,_=S.likeReply,E=S.post,P=S.unlikeReply,D=null===E||void 0===E?void 0:E._id.toString(),R=function(){var e=(0,F.Db)(N.MZ),t=(0,X.Z)(e,2)[1],r=function(){var e=(0,i.Z)(s().mark((function e(r){var n,o,i,a,c,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.commentId,o=r.replyId,i=r.count,e.next=3,t({input:{commentId:n,replyId:o,likesCount:i}});case 3:return a=e.sent,c=a.data,l=a.error,e.abrupt("return",{data:c,error:l});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{executeLikeReplyMutation:r}}(),T=R.executeLikeReplyMutation,z=Q(),A=z.status,B=z.setStatus,U=(0,Le.V)().openReply,L="loading"===he().statusMap[D],q=ye(),H=(0,ce.cI)({resolver:(0,le.F)(Tt),mode:"onChange",defaultValues:{reply:null!==(t=f.markdown)&&void 0!==t?t:""}}),V=H.handleSubmit,Y=H.control,W=H.reset,K=H.setValue,G=H.formState,J=G.isValid,$=G.isSubmitting,ee=function(){Z("view")},te=function(){var e;W({reply:null!==(e=f.markdown)&&void 0!==e?e:""}),ee()},re=(null===o||void 0===o||null===(r=o._id)||void 0===r?void 0:r.toString())===l._id.toString(),ne="superuser"===(null===o||void 0===o?void 0:o.role),oe=re,ie=re||ne,ae=at().getMappedReply,ue=function(){var e=(0,i.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reply,e.prev=1,e.next=4,C({commentId:v,replyId:m,content:r});case 4:K("reply",r),ee(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you want to delete this reply?")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,B("pending"),e.next=7,j({commentId:v,replyId:m});case 7:B("success"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),B("error"),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),pe="pending"===A,me=b||$||pe||a,fe=b||pe||a||me,we=b||$||!J||a,ge=b||$||a,be=b||$||a,ve=x>0,xe=function(){var e=(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(m);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=(0,i.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({replyId:m,commentId:v,count:t});case 2:if(r=e.sent,!(n=r.error)){e.next=7;break}return(0,h.C)("error",n.message),e.abrupt("return");case 7:M({postId:D,replyId:m,source:q,user:o});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=(0,w.tZ)(ut,{disabled:me,onClick:p}),Ie=(0,w.tZ)(_t,{isLoading:L,getReactions:function(){return{totalReactionsByCurrentUser:x,totalReactions:k}},onReact:xe,saveReactionsCount:ke}),Ze=(0,w.tZ)("form",{onSubmit:V(ue),children:(0,w.tZ)(ce.Qr,{name:"reply",control:Y,rules:{required:!0},render:function(e){var t=e.field;return(0,w.tZ)(Xe,{mode:"edit",disableCommentButton:we,disableCancelButton:ge,disableInput:be,ref:t.ref,value:t.value,onChange:t.onChange,onCancelHandler:te})}})}),Se="edit"===I,Ce="view"===I,je=(0,c.useMemo)((function(){return ae(e)}),[f]);return(0,w.tZ)(w.HY,{children:(0,w.BX)("div",{css:zt,children:[Ce&&(0,w.tZ)(y.p89,Rt(Rt({likes:Ie,reply:Oe},je),{},{moreOptions:(0,w.tZ)(Pt,{canEditComment:oe,canDeleteComment:ie,canUnlikeComment:ve,disableMoreOptionsButton:fe,onDeleteComment:de,onReportComment:function(){requestAnimationFrame((function(){U({postId:D,commentId:v,replyId:m})}))},onUnlikeComment:function(){P({commentId:v,replyId:m})},onEditComment:function(){Z("edit")}}),highlight:d})),Se&&Ze]})})};function Bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ut={name:"pquhdk",styles:"display:flex;flex-direction:column;gap:1rem;padding-left:2rem;@media (min-width: 640px){padding-left:52px;}"},Nt=function(e){var t=e.children;return(0,w.tZ)("div",{css:Ut,children:t})},Xt=ue.z.object({reply:ue.z.string().min(1,"Reply cannot be empty")}),Ft=ue.z.object({comment:ue.z.string().min(1,"Comment cannot be empty")}),Lt={name:"15idi1d",styles:"display:flex;flex-direction:column;gap:0.75rem"},qt={name:"14dm0v5",styles:"padding-left:2.75rem;@media (min-width: 640px){padding-left:52px;}"},Ht={name:"aj6rbz",styles:"display:flex;gap:0.5rem"},Vt={name:"f3vz0n",styles:"font-weight:500"},Yt=function(e){var t,r,n,o,a=(0,u.Z)(),l=a.data,p=a.isValidating,m=(0,Le.V)().openComment,f=(0,d.useRouter)(),g=ye(),b=e.replies,v=e.id,x=e.author,k=e.highlight,O=e.stamp,I=e.content,Z=e.myTotalReactions,S=e.totalReactions,C=se(),j=C.addReply,_=C.editComment,E=C.post,P=C.deleteComment,R=C.likeComment,T=C.unlikeComment,z=function(){var e=(0,F.Db)(N.EI),t=(0,X.Z)(e,2)[1],r=function(){var e=(0,i.Z)(s().mark((function e(r){var n,o,i,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.commentId,o=r.count,e.next=3,t({input:{commentId:n,likesCount:o}});case 3:return i=e.sent,a=i.data,c=i.error,e.abrupt("return",{data:a,error:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{executeLikeCommentMutation:r}}(),M=z.executeLikeCommentMutation,U=null===E||void 0===E?void 0:E._id.toString(),L=Q(),q=L.status,H=L.setStatus,V=(0,c.useState)(!0),Y=V[0],W=V[1],K=f.pathname,G=D(K),J=(0,c.useState)(G&&null!==(t=null===b||void 0===b?void 0:b.length)&&void 0!==t?t:0),$=J[0],ee=J[1],te=ge(),re=te.id,ne=te.setId,oe=null===b||void 0===b?void 0:b.slice(0,$),ie=Array.isArray(oe)&&(null===oe||void 0===oe?void 0:oe.length)>0,ae=G&&ie,ue=(null===l||void 0===l||null===(r=l._id)||void 0===r?void 0:r.toString())===(null===(n=x._id)||void 0===n?void 0:n.toString()),de="superuser"===(null===l||void 0===l?void 0:l.role),pe=ue,me=ue||de,fe=ie&&Y,we=(0,c.useState)({open:!1,position:"start"}),be=we[0],ve=we[1],xe="loading"===he().statusMap[U],ke=(0,Fe._)().open,Oe=(0,ce.cI)({resolver:(0,le.F)(Xt),mode:"onChange",defaultValues:{reply:""}}),Ie=Oe.handleSubmit,Ze=Oe.control,Se=Oe.reset,Ce=Oe.formState,je=Ce.isValid,_e=Ce.isSubmitting,Ee=(0,ce.cI)({resolver:(0,le.F)(Ft),mode:"onChange",defaultValues:{comment:null!==(o=I.markdown)&&void 0!==o?o:""}}),Pe=Ee.handleSubmit,De=Ee.control,Re=Ee.setValue,Te=Ee.reset,ze=Ee.formState,Ae=ze.isValid,Be=ze.isSubmitting,Me=function(e){ve((function(t){return Mt(Mt({},t),{},{position:e,open:!0})}))},Ue=function(){Se({reply:""}),ve((function(e){return Mt(Mt({},e),{},{open:!1})}))},Ne=function(e){G?(Me("end"),Se(e?{reply:e}:{reply:""})):f.push("/discussions/post/".concat(U,"/#").concat(O))},qe=be.open&&"start"===be.position,He=be.open&&"end"===be.position,Ve=at().getMappedComment,Ye=(0,c.useState)("view"),We=Ye[0],Ke=Ye[1],Ge=function(){Ke("view")},Je=function(){var e=(0,i.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.comment,e.prev=1,e.next=4,_({commentId:v,content:r});case 4:Re("comment",r),Ge(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you want to delete this comment?")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,H("pending"),e.next=7,P(v);case 7:H("success"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),H("error"),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(v);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),et="edit"===We,tt="view"===We,rt="pending"===q,nt=_e||rt||p,ot=rt||p||nt,it=_e||!je||rt||p,st=_e||rt||p,ct=_e||rt||p,lt=Be||!Ae||rt||p,dt=Be||rt||p,pt=Be||rt||p,mt=rt||p,ft=Z>0,ht=function(){var e=(0,i.Z)(s().mark((function e(t){var r,n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reply,e.prev=1,n=be.position,e.next=5,j({content:r,commentId:v,position:n});case 5:if(o=e.sent){e.next=8;break}return e.abrupt("return");case 8:ee((function(e){return e+1})),ne(o.id),Ue(),A({postId:U,user:l,replyId:o.id,source:g}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),yt=(0,w.tZ)(Nt,{children:(0,w.tZ)("form",{onSubmit:Ie(ht),children:(0,w.tZ)(ce.Qr,{name:"reply",control:Ze,rules:{required:!0},render:function(e){var t=e.field;return(0,w.tZ)(Xe,{disableCommentButton:it,disableCancelButton:st,disableInput:ct,ref:t.ref,value:t.value,onChange:t.onChange,onCancelHandler:Ue})}})})}),wt=function(){var e;Te({comment:null!==(e=I.markdown)&&void 0!==e?e:""}),Ge()},gt=(0,w.tZ)("form",{onSubmit:Pe(Je),children:(0,w.tZ)(ce.Qr,{name:"comment",control:De,rules:{required:!0},render:function(e){var t=e.field;return(0,w.tZ)(Xe,{mode:"edit",id:"".concat(v,"-editor"),disableCommentButton:lt,disableCancelButton:dt,disableInput:pt,ref:t.ref,value:t.value,onChange:t.onChange,onCancelHandler:wt})}})}),bt=function(){var e=(0,i.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M({commentId:v,count:t});case 2:if(r=e.sent,!(n=r.error)){e.next=7;break}return(0,h.C)("error",n.message),e.abrupt("return");case 7:B({postId:U,commentId:v,source:g,user:l});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vt=(0,c.useMemo)((function(){return Ve(e)}),[I,oe]),xt=(0,w.tZ)(ut,{disabled:nt,onClick:function(){l?G?Ne():Me("start"):ke()}}),kt=(0,w.tZ)(_t,{isLoading:xe,getReactions:function(){return{totalReactionsByCurrentUser:Z,totalReactions:S}},onReact:function(){R(v)},saveReactionsCount:bt});return(0,w.BX)(w.HY,{children:[(0,w.BX)("div",{css:Lt,children:[tt&&(0,w.tZ)(y.p89,Mt(Mt({likes:kt,reply:xt,highlight:k},vt),{},{moreOptions:(0,w.tZ)(Pt,{canEditComment:pe,canDeleteComment:me,canUnlikeComment:ft,disableMoreOptionsButton:ot,onDeleteComment:Qe,onReportComment:function(){requestAnimationFrame((function(){m({postId:U,commentId:v})}))},onUnlikeComment:$e,onEditComment:function(){Ue(),Ke("edit")}})})),et&&gt,qe&&yt,ae&&(0,w.tZ)("div",{css:qt,children:(0,w.tZ)(y.zxk,{onClick:function(){W((function(e){return!e}))},size:"sm",appearance:"link-slate",children:(0,w.BX)("div",{css:Ht,children:[(0,w.BX)("span",{css:Vt,children:[Y?"Hide":"Show"," replies"]}),Y?(0,w.tZ)(y.Kh3,{size:"md"}):(0,w.tZ)(y._ME,{size:"md"})]})})})]}),fe&&(0,w.tZ)(Nt,{children:oe.map((function(e){var t=re===e.id,r=e.author,n="@[".concat(r.name,"](@").concat(r.username,")");return(0,w.tZ)(At,Mt(Mt({},e),{},{onReplyClick:function(){return e=n,void(l?Ne(e):ke());var e},commentId:v,disableInteraction:mt,highlight:t}),e.id)}))}),He&&yt]})};function Wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Gt={name:"viuwgv",styles:"display:flex;align-items:center;gap:0.375rem"},Jt={name:"h9aq5x",styles:"font-size:0.875rem;line-height:1.25rem;font-weight:500"},Qt=function(){var e=se(),t=e.post,r=e.updateComments,n=e.updateSortType,o=e.sortType,i=(0,u.Z)(),a=i.data,s=i.isValidating,l=(null===t||void 0===t?void 0:t._id.toString())||"",d=o===N.QZ.Top,p=o===N.QZ.Recent,m=d?"Top comments":"Latest comments",f=(0,c.useState)(!1),h=f[0],g=f[1],b=(0,F.aM)({query:N.i_,variables:{postId:l,commentsSortBy:o,commentsFirst:50},requestPolicy:a?"network-only":"cache-first",pause:s||!h,context:(0,c.useMemo)((function(){return{fetchOptions:{headers:(0,de.IT)({byPassCache:!!a})}}}),[a])}),v=(0,X.Z)(b,1)[0].data;return(0,c.useEffect)((function(){var e,t=null===v||void 0===v||null===(e=v.post)||void 0===e?void 0:e.comments;if(t){var n=(0,U.Z)((0,x.uh)(t));r(n)}}),[v]),(0,w.BX)(y.h_2,{children:[(0,w.tZ)(y.$FS,{children:(0,w.tZ)(y.zxk,{size:"xs",appearance:"tertiary-slate",children:(0,w.BX)("div",{css:Gt,children:[(0,w.tZ)("span",{css:Jt,children:m}),(0,w.tZ)(y._ME,{size:"sm"})]})})}),(0,w.BX)(y.AWV,{hideWhenDetached:!0,sideOffset:10,align:"end",children:[(0,w.tZ)(y.O3W,Kt({onClick:function(){d||n(N.QZ.Top)},text:"Top comments"},d&&{endIcon:y.gYJ})),(0,w.tZ)(y.O3W,Kt({onClick:function(){p||(g(!0),n(N.QZ.Recent))},text:"Latest comments"},p&&{endIcon:y.gYJ}))]})]})},$t={name:"dhj7ib",styles:"display:flex;flex-direction:column;gap:1.25rem"},er=function(e){var t=e.children;return(0,w.tZ)("div",{css:$t,children:t})},tr=ue.z.object({comment:ue.z.string().min(1,"Comment must contain at least 1 character")}),rr={name:"v2mc9c",styles:"margin-top:0.25rem;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:0.75rem;border-top-width:1px;--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity));padding-top:2rem;padding-bottom:1rem;.dark &{border-color:rgb(30 41 59 / 0.8);}"},nr={name:"x8ylop",styles:"border-radius:9999px;--tw-bg-opacity:1;background-color:rgb(241 245 249 / var(--tw-bg-opacity));padding:0.625rem;--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity));.dark &{--tw-bg-opacity:1;background-color:rgb(30 41 59 / var(--tw-bg-opacity));--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity));}"},or={name:"1icvzg7",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;gap:0.25rem"},ir={name:"18otbon",styles:"font-weight:600;--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(226 232 240 / var(--tw-text-opacity));}"},ar={name:"gwhhsw",styles:"text-align:center;font-weight:400;--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity));}"},sr={name:"dhj7ib",styles:"display:flex;flex-direction:column;gap:1.25rem"},cr={name:"4ved3l",styles:"display:flex;align-items:center;gap:0.5rem"},lr={name:"2t18mx",styles:"display:flex;gap:0.75rem"},ur={name:"1vfhcql",styles:"object-fit:cover"},dr={name:"9ckbmp",styles:"width:100%;text-align:left;font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity));}"},pr={name:"1e8udbp",styles:"display:flex;flex-direction:column;gap:1.5rem"},mr={name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"},fr={name:"dswh2u",styles:"font-size:1.125rem;line-height:1.75rem;font-weight:600;--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(226 232 240 / var(--tw-text-opacity));}"},hr={name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"},yr={name:"4zk4ri",styles:"display:flex;flex-direction:column;gap:1rem"},wr={name:"1y7zei9",styles:"@keyframes pulse{50%{opacity:.5;}}animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity));padding:2rem;.dark &{--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity));}"},gr={name:"9czf6p",styles:"margin-left:1.5rem;display:flex;@keyframes pulse{50%{opacity:.5;}}animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;flex-direction:column;gap:1rem"},br={name:"1y7zei9",styles:"@keyframes pulse{50%{opacity:.5;}}animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity));padding:2rem;.dark &{--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity));}"},vr={name:"1y7zei9",styles:"@keyframes pulse{50%{opacity:.5;}}animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity));padding:2rem;.dark &{--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity));}"},xr={name:"1y7zei9",styles:"@keyframes pulse{50%{opacity:.5;}}animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity));padding:2rem;.dark &{--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity));}"},kr={name:"1y7zei9",styles:"@keyframes pulse{50%{opacity:.5;}}animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity));padding:2rem;.dark &{--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity));}"},Or={name:"y9jx00",styles:"width:10rem"},Ir={name:"1ipzj64",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;gap:0.75rem;padding-top:1rem;padding-bottom:1rem"},Zr={name:"x8ylop",styles:"border-radius:9999px;--tw-bg-opacity:1;background-color:rgb(241 245 249 / var(--tw-bg-opacity));padding:0.625rem;--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity));.dark &{--tw-bg-opacity:1;background-color:rgb(30 41 59 / var(--tw-bg-opacity));--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity));}"},Sr={name:"1icvzg7",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;gap:0.25rem"},Cr={name:"18otbon",styles:"font-weight:600;--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(226 232 240 / var(--tw-text-opacity));}"},jr={name:"1th2g74",styles:"font-weight:400;--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity));}"},_r=function(){var e=(0,u.Z)(),t=e.data,r=e.isValidating;!function(){var e,t=(0,d.useRouter)().pathname.startsWith("/discussions/"),r=t?50:2,n=t?50:0,o=(0,u.Z)(),i=o.data,a=o.isValidating,s=se(),l=s.comments,p=s.updateComments,m=s.post,f=s.loading,h=s.sortType,y=null!==(e=null===m||void 0===m?void 0:m._id.toString())&&void 0!==e?e:"",w=he().setStatusMap,g=(0,F.aM)({query:N.MY,variables:{postId:y,commentsSortBy:h,commentsFirst:r,repliesFirst:n},pause:!i||f,requestPolicy:"network-only",context:(0,c.useMemo)((function(){return{fetchOptions:{headers:(0,de.IT)({byPassCache:!0}),credentials:"include"}}}),[])}),b=(0,X.Z)(g,1)[0],v=b.data,x=b.fetching,k=b.error;(0,c.useEffect)((function(){a?w({postId:y,status:"loading"}):i||w({postId:y,status:"idle"})}),[a,i]),(0,c.useEffect)((function(){x&&w({postId:y,status:"loading"}),k&&w({postId:y,status:"error"})}),[x,k]),(0,c.useEffect)((function(){var e,t=null===v||void 0===v||null===(e=v.post)||void 0===e?void 0:e.comments;if(t&&l){var r=t.edges.map((function(e){var t=e.node;return fe(fe({},t),{},{replies:t.replies.edges.map((function(e){return e.node}))})})),n=l.map((function(e){var t=r.find((function(t){return t.id===e.id}));return t?fe(fe({},e),{},{totalReactions:t.totalReactions,myTotalReactions:t.myTotalReactions,replies:e.replies.map((function(e){var r=t.replies.find((function(t){return t.id===e.id}));return r?fe(fe({},e),{},{totalReactions:r.totalReactions,myTotalReactions:r.myTotalReactions}):e}))}):e}));p(n),w({postId:y,status:"success"})}}),[v])}();var n=se(),o=n.comments,a=n.commentsCount,l=n.addComment,p=n.post,m=n.loading,f=null===p||void 0===p?void 0:p._id.toString(),h=(0,d.useRouter)(),g=ye(),b=1===a?"".concat(a," comment"):"".concat((0,C.sy)(a)," comments"),v=h.pathname,x=R(v),O=x&&a>2,I=!x,Z=ge(),j=Z.id,E=Z.setId,P=(0,Fe._)().open,D=(0,c.useState)("view"),T=D[0],A=D[1],B="add"===T,M="view"===T,U=(null===t||void 0===t?void 0:t.photo)||S.IZ,L=null===t||void 0===t?void 0:t.name,q=(0,ce.cI)({resolver:(0,le.F)(tr),mode:"onChange",defaultValues:{comment:""}}),H=q.handleSubmit,V=q.control,Y=q.reset,W=q.formState,K=W.isValid,G=W.isSubmitting,J=function(){Y(),A("view")},Q=function(){var e=(0,i.Z)(s().mark((function e(r){var n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.comment,e.prev=1,e.next=4,l(n);case 4:if(o=e.sent){e.next=7;break}return e.abrupt("return");case 7:E(o.id),J(),z({postId:f,commentId:o.id,source:g,user:t}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),$=G||!K||r,ee=G||r,te=G||r,re=function(e){return"".concat(e,"_add_comment_button")}(f);return p.disableComments?(0,w.tZ)(er,{children:(0,w.BX)("div",{css:rr,children:[(0,w.tZ)("div",{css:nr,children:(0,w.tZ)(y.IEi,{size:"lg"})}),(0,w.BX)("div",{css:or,children:[(0,w.tZ)("div",{css:ir,children:"Comments disabled"}),(0,w.tZ)("div",{css:ar,children:"The comments have been disabled by the author for this article."})]})]})}):(0,w.BX)("div",{css:sr,children:[M&&(0,w.tZ)("button",{id:re,disabled:r,type:"button",onClick:function(){t?A("add"):P()},css:[Ce,":focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-opacity:1;--tw-ring-color:rgb(37 99 235 / var(--tw-ring-opacity));--tw-ring-offset-width:2px;--tw-ring-offset-color:#fff;}.dark &:focus{--tw-ring-offset-color:#1e293b;}",""],children:(0,w.BX)("div",{css:cr,children:[(0,w.tZ)("div",{css:lr,children:(0,w.tZ)(y.qEK,{size:"sm",children:(0,w.tZ)(y.mi6,{fill:!0,className:"object-cover",src:(0,k.resizeImage)(U,{w:124,h:124,c:"face"}),css:ur,alt:L||"Default profile photo"})})}),(0,w.tZ)("span",{css:dr,children:"Add a thoughtful comment"})]})}),B&&(0,w.tZ)("form",{onSubmit:H(Q),children:(0,w.tZ)(ce.Qr,{name:"comment",control:V,rules:{required:!0},render:function(e){var t=e.field;return(0,w.tZ)(Xe,{disableCommentButton:$,disableCancelButton:ee,disableInput:te,ref:t.ref,value:t.value,onChange:t.onChange,onCancelHandler:J})}})}),a>0?(0,w.BX)("div",{css:pr,children:[(0,w.BX)("div",{css:mr,children:[(0,w.tZ)("h2",{css:fr,children:b}),I&&(0,w.tZ)(Qt,{})]}),(0,w.BX)("div",{css:hr,children:[(0,w.tZ)(er,{children:m?(0,w.BX)("div",{css:yr,children:[(0,w.tZ)("div",{css:wr}),(0,w.BX)("div",{css:gr,children:[(0,w.tZ)("div",{css:br}),(0,w.tZ)("div",{css:vr})]}),(0,w.tZ)("div",{css:xr}),(0,w.tZ)("div",{css:kr})]}):Array.isArray(o)&&o.map((function(e){var t=j===e.id;return(0,w.tZ)(Yt,Kt(Kt({},e),{},{highlight:t}),e.id)}))}),O&&(0,w.tZ)("div",{css:Or,children:(0,w.tZ)(y.zxk,{size:"sm",appearance:"tertiary-slate",asChild:!0,children:(0,w.tZ)(y.Xlt,{href:"/discussions/post/".concat(f,"?source=").concat(_.L.VIEW_ALL_COMMENTS_DISCUSSIONS_FEED),children:"See all comments"})})})]})]}):(0,w.BX)("div",{css:Ir,children:[(0,w.tZ)("div",{css:Zr,children:(0,w.tZ)(y.IEi,{size:"lg"})}),(0,w.BX)("div",{css:Sr,children:[(0,w.tZ)("div",{css:Cr,children:"No comments yet"}),(0,w.tZ)("div",{css:jr,children:"Be the first to start the conversation."})]})]})]})};function Er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Dr=function(e,t,r){return"personalized"===e?{feedType:e,ruleBaseFeedEnabled:t,isFeatured:r,version:t?.6:void 0}:{feedType:e}},Rr={name:"1vfhcql",styles:"object-fit:cover"},Tr={name:"1urvnhw",styles:":hover{text-decoration-line:underline;}.dark &:hover{text-decoration-line:underline;}"},zr={name:"4ved3l",styles:"display:flex;align-items:center;gap:0.5rem"},Ar={name:"1vfhcql",styles:"object-fit:cover"},Br={name:"un27gz",styles:"display:none;font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity));.group:hover &{text-decoration-line:underline;}.dark &{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity));}.dark .group:hover &{text-decoration-line:underline;}@media (min-width: 640px){display:inline;}"},Mr={name:"1lwb786",styles:"font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity));.group:hover &{text-decoration-line:underline;}.dark &{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity));}.dark .group:hover &{text-decoration-line:underline;}@media (min-width: 640px){display:none;}"},Ur={name:"1r5ffh4",styles:"display:flex;align-items:center;gap:0.5rem;font-weight:500;--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity));:hover{text-decoration-line:underline;}.dark &{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity));}"},Nr={name:"m0svy7",styles:"--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity));.group:hover &{text-decoration-line:underline;}.dark &{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity));}"},Xr={name:"1vfhcql",styles:"object-fit:cover"},Fr={name:"1vfhcql",styles:"object-fit:cover"},Lr={name:"gmqvo3",styles:"border-radius:9999px;:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-opacity:1;--tw-ring-color:rgb(37 99 235 / var(--tw-ring-opacity));--tw-ring-offset-width:2px;--tw-ring-offset-color:#fff;}.dark &:focus{--tw-ring-offset-color:#1e293b;}"},qr={name:"5eln6m",styles:"border-radius:0.75rem;@media (min-width: 768px){border-radius:0.5rem;}"},Hr=function(e){var t,r,n,i,a,s,c,l=e.post,p=e.index,m=e.currentFeedType,h=e.ruleBaseFeedEnabled,g=e.switchToFeaturedFeed,I=(0,u.Z)().data,E=(0,d.useRouter)().pathname,P=D(E),T=R(E),z=P||T,A=P?"top":"default",B=function(){var e={event_type:P?_.F.DISCUSSION_POST_CLICKED:_.F.FEED_POST_CLICKED,time:(new Date).getTime(),event_properties:Pr({post:l._id,isFeatured:!!l.isFeatured},!P&&Pr(Pr({postPosition:p},Dr(m,h,l.isFeatured)),{},{ruleBaseFeedEnabled:h}))};I&&(e.user_id=null===I||void 0===I?void 0:I._id,e.user_properties={username:null===I||void 0===I?void 0:I.username,email:null===I||void 0===I?void 0:I.email,photo:(null===I||void 0===I?void 0:I.photo)||"",dateJoined:(null===I||void 0===I?void 0:I.dateJoined)||""}),(0,f.e)().sendEventToAmplitude(e)},M=(0,x.dt)(l),U=M._id.toString(),N=I&&M.partOfPublication&&M.publication.domain&&!M.publication.isHeadless?"/authenticate?next=".concat((0,O.U_)(M,M.publication)):(0,O.U_)(M,M.publication),X=Z()().diff(Z()(M.dateAdded),"hours")<=23?Z()(M.dateAdded).fromNow():Z()(M.dateAdded).format("MMM D, YYYY"),F=(0,O.Z8)(M.publication),L=M.isAnonymous?N:"/@".concat(M.author.username,"?source=feed-profile-clicked"),q=(0,O.lL)(M.publication),H="/discussions/post/".concat(U),V=M.author.photo&&""!==M.author.photo?(0,w.tZ)(y.mi6,{alt:M.author.name,src:(0,k.resizeImage)(M.author.photo,{w:124,h:124,c:"face"}),fill:!0,css:Xr}):(0,w.tZ)(y.mi6,{alt:M.author.name,src:S.IZ,fill:!0,css:Fr}),Y=(0,k.resizeImage)((null===(t=M.publication)||void 0===t?void 0:t.favicon)||"https://cdn.hashnode.com/res/hashnode/image/upload/v1655710917204/_cHQMSjt3.png",{w:100,h:100}),W=(null===I||void 0===I?void 0:I._id)===(null===(r=M.author)||void 0===r?void 0:r._id),K={config:{showDiscussingAvatars:!z,showDiscussionsFooter:!0,coverImagePosition:A},proBadgeLink:W?"/settings/pro":"/pro?source=proBadge",authorName:null===(n=M.author)||void 0===n?void 0:n.name,authorUrl:L,authorIsPro:(0,j.r)(M.author),publicationUrl:q,publicationIsTeam:null===(i=M.publication)||void 0===i?void 0:i.isTeam,publicationLogo:Y,publicationTitle:null===(a=M.publication)||void 0===a?void 0:a.title,publicationHostName:F,postUrl:N,postDateAdded:X,postIsPartOfPublication:M.partOfPublication&&!!M.publication,postTitle:M.title,postBrief:M.brief,postIsFeatured:M.isFeatured,tagName:M.tags&&M.tags.length?M.tags[0].name:"",tagSlug:M.tags&&M.tags.length?M.tags[0].slug:"",seriesName:null===(s=M.series)||void 0===s?void 0:s.name,seriesUrl:M.series&&M.publication?(0,O.Gz)(M.series,M.publication):"",postLikesCount:(0,C.sy)(M.totalReactions),postLikesCountText:(0,C.uv)({count:M.totalReactions,singularTerm:"like",pluralTerm:"likes"}),postCommentsCount:(0,C.sy)(M.responseCount>0?(M.responseCount||0)+(M.replyCount||0):0)||"",postReadsCount:Number(M.views)>25?(0,C.sy)(M.views):"",bookmark:(0,w.tZ)(b,{post:M}),avatar:(0,w.tZ)(y.Xlt,{href:L,css:Lr,children:(0,w.tZ)(y.qEK,{size:"md",shape:"circle",children:(0,w.tZ)(v.Z,{userId:null===(c=M.author._id)||void 0===c?void 0:c.toString(),closeOnClick:!0,children:V})})}),coverImage:M.coverImage?(0,w.tZ)(w.HY,{children:M.coverImage.includes("cdn.hashnode.com")?(0,w.tZ)(o.Z,{originalSrc:M.coverImage,src:(0,k.resizeImage)(M.coverImage,{w:1600,h:840,c:"thumb"}),layout:"fill",objectFit:"cover",placeholder:"blur",blurDataURL:(0,k.getBlurHash)((0,k.resizeImage)(M.coverImage,{w:1600,h:840,c:"thumb"})),alt:M.title,css:qr}):(0,w.tZ)("div",{style:{display:"inline-block",width:"100%",height:"100%",maxHeight:"100%",backgroundImage:"url(".concat(M.coverImage,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}})}):null,discuss:P?null:(0,w.tZ)(y.Xlt,{href:"".concat(H,"?source=").concat(_.L.DISCUSS_FEED_CARD_BUTTON),children:(0,w.BX)("div",{className:"group",css:Ur,children:[(0,w.tZ)(y.IEi,{size:"md"}),(0,w.tZ)("span",{css:Nr,children:"Discuss"})]})}),commenters:function(){var e,t=(null===(e=M.contributors)||void 0===e?void 0:e.length)||0;if(!M.contributors||t<=1)return null;var r=t-1,n=M.contributors[0].user;return(0,w.tZ)(y.Xlt,{href:"".concat(H,"?source=").concat(_.L.DISCUSS_FEED_CARD_READERS_DISCUSSING),css:Tr,className:"group",children:(0,w.BX)("div",{css:zr,children:[(0,w.tZ)(y.Jht,{maxAvatars:3,onClick:B,children:M.contributors&&t?M.contributors.slice(0,3).map((function(e,t){return e.user.photo?(0,w.tZ)(y.qEK,{children:(0,w.tZ)(y.mi6,{src:(0,k.resizeImage)(e.user.photo,{w:64,h:64}),fill:!0,alt:e.user.name,css:Ar})},e.user._id):(0,w.tZ)(y.qEK,{size:"md"},t)})):null}),(0,w.BX)("span",{css:Br,children:[n.name," and ",r," ",r>1?"others":"other"," are discussing this"]}),(0,w.BX)("span",{css:Mr,children:[t," people are discussing this"]})]})})}(),topComment:function(){if(!M.disableComments&&!z){var e,t,r,n,o,i=M.comments?M.comments[0]:null;return!i||(null===i||void 0===i?void 0:i.totalReactions)<3?null:{by:{name:(null===(e=i.author)||void 0===e?void 0:e.name)||"Anonymous",username:(null===(t=i.author)||void 0===t?void 0:t.username)||"",avatar:(0,w.tZ)(y.qEK,{size:"sm",children:(0,w.tZ)(y.mi6,{src:null!==(r=i.author)&&void 0!==r&&r.photo?(0,k.resizeImage)(null===(n=i.author)||void 0===n?void 0:n.photo,{w:64,h:64,c:"face"}):S.IZ,fill:!0,alt:(null===(o=i.author)||void 0===o?void 0:o.name)||"Anonymous",css:Rr})})},comment:i.content.text||"",likesCount:i.totalReactions,commentLink:"".concat(H,"#").concat(i.stamp,"?source=").concat(_.L.DISCUSS_FEED_CARD_TOP_COMMENT)}}return null}(),comments:z?(0,w.tZ)(ae,{post:M,children:(0,w.tZ)(_r,{})}):null,onPostClick:B,onSeriesBadgeClick:function(){var e,t={user_id:I._id,event_type:P?_.F.DISCUSSION_POST_SERIES_CLICKED:_.F.FEED_SERIES_CLICKED,time:(new Date).getTime(),event_properties:{post:l._id,series:null===(e=l.series)||void 0===e?void 0:e._id}};(0,f.e)().sendEventToAmplitude(t)},onFeaturedBadgeClick:g,onLikeClick:function(){if(!z){var e={event_type:"liked_feed_article",time:(new Date).getTime(),event_properties:{post:l._id}};I&&(e.user_id=null===I||void 0===I?void 0:I._id,e.user_properties={username:null===I||void 0===I?void 0:I.username,email:null===I||void 0===I?void 0:I.email,photo:(null===I||void 0===I?void 0:I.photo)||"",dateJoined:(null===I||void 0===I?void 0:I.dateJoined)||""}),(0,f.e)().sendEventToAmplitude(e)}}};return(0,w.tZ)(y.BvG,Pr({},K))},Vr=c.memo(Hr)},89718:function(e,t,r){r.d(t,{u:function(){return Y},V:function(){return O}});var n=r(59499),o=r(50029),i=r(87794),a=r.n(i),s=r(67294),c=r(13179),l=r(2215),u=r(1604),d=r(87536),p=r(56312),m=r(64529),f=r(51477),h=r(28276),y=r(71924),w=r(25851),g=function(e){switch(e){case"comment":default:return"response";case"reply":return"reply"}},b=r(35944);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=[{id:"reason-1",value:"It\u2019s spam"},{id:"reason-2",value:"It\u2019s abusive"},{id:"reason-3",value:"I am not interested"},{id:"reason-4",value:"This should not be on Hashnode"},{id:"reason-5",value:"Other"}],O=(0,m.Ue)((function(e){return{show:!1,postId:null,commentId:null,replyId:null,type:"comment",openComment:function(t){var r=t.postId,n=t.commentId;return e({show:!0,postId:r,commentId:n,type:"comment"})},openReply:function(t){var r=t.postId,n=t.commentId,o=t.replyId;return e({show:!0,postId:r,commentId:n,replyId:o,type:"reply"})},close:function(){return e({show:!1,commentId:null,replyId:null,postId:null,type:"comment"})}}})),I=u.z.object({reason:u.z.string().min(1,"Please provide a reason"),detailedReason:u.z.string().optional()}),Z={name:"kjp4xl",styles:"position:fixed;top:0px;right:0px;bottom:0px;left:0px;z-index:50;background-color:rgb(15 23 42 / 0.5);.dark &{background-color:rgb(71 85 105 / 0.5);}"},S={name:"17rahdh",styles:"position:fixed;top:50%;left:50%;z-index:50;display:flex;height:fit-content;width:335px;--tw-translate-x:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-translate-y:-50%;flex-direction:column;overflow:auto;border-radius:0.75rem;--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);.dark &{--tw-bg-opacity:1;background-color:rgb(2 6 23 / var(--tw-bg-opacity));}@media (min-width: 640px){width:488px;}"},C={name:"eld48b",styles:"display:flex;flex-direction:column;gap:0.25rem;padding-left:1.5rem;padding-right:1.5rem;padding-top:1.25rem;padding-bottom:1.5rem"},j={name:"mq3s17",styles:'font-family:Suisse Intl, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-size:1.125rem;line-height:1.75rem;font-weight:600;--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(226 232 240 / var(--tw-text-opacity));}'},_={name:"1a0auow",styles:"--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity));}"},E={name:"st1s6",styles:"display:flex;flex-direction:column;gap:1rem;padding-left:1.5rem;padding-right:1.5rem;@media (min-width: 640px){padding-left:2rem;padding-right:2rem;}"},P={name:"e62v4r",styles:"font-weight:500;--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(226 232 240 / var(--tw-text-opacity));}"},D={name:"dhj7ib",styles:"display:flex;flex-direction:column;gap:1.25rem"},R={name:"1vqvdc5",styles:"border-radius:0.75rem;--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity));:focus{outline:2px solid transparent;outline-offset:2px;}.dark &{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity));}"},T={name:"4ved3l",styles:"display:flex;align-items:center;gap:0.5rem"},z={name:"1xg99rn",styles:"left:0px;border-radius:9999px;--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity))"},A={name:"7y9dz1",styles:"border-radius:0.75rem;border-width:1px;--tw-border-opacity:1;border-color:rgb(203 213 225 / var(--tw-border-opacity));padding-left:1rem;padding-right:1rem;padding-top:0.75rem;padding-bottom:0.75rem;.dark &{--tw-border-opacity:1;border-color:rgb(30 41 59 / var(--tw-border-opacity));}"},B={name:"1cqffcn",styles:"width:100%;resize:none;background-color:transparent;--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity));::placeholder{--tw-placeholder-opacity:1;color:rgb(148 163 184 / var(--tw-placeholder-opacity));}:focus{outline:2px solid transparent;outline-offset:2px;}.dark &{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity));}.dark &::placeholder{--tw-placeholder-opacity:1;color:rgb(100 116 139 / var(--tw-placeholder-opacity));}"},M={name:"tx0v38",styles:"display:flex;justify-content:space-between;padding:1.5rem"},U={name:"dwt8ks",styles:"position:absolute;top:0.75rem;right:0.75rem;z-index:50"},N={name:"epktxp",styles:"padding-left:1.5rem;padding-right:1.5rem;padding-top:1.25rem"},X={name:"qwlz6k",styles:"display:flex;flex-direction:column;align-items:center;gap:0.75rem"},F={name:"1w455re",styles:"border-radius:9999px;--tw-bg-opacity:1;background-color:rgb(255 247 237 / var(--tw-bg-opacity));padding:0.5rem;--tw-text-opacity:1;color:rgb(234 88 12 / var(--tw-text-opacity));.dark &{background-color:rgb(67 20 7 / 0.5);--tw-text-opacity:1;color:rgb(249 115 22 / var(--tw-text-opacity));}"},L={name:"1b7qg9z",styles:"display:flex;flex-direction:column;gap:0.25rem;text-align:center"},q={name:"mq3s17",styles:'font-family:Suisse Intl, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-size:1.125rem;line-height:1.75rem;font-weight:600;--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(226 232 240 / var(--tw-text-opacity));}'},H={name:"1a0auow",styles:"--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity));}"},V={name:"7l1iqv",styles:"display:flex;justify-content:center;padding-top:1.25rem;padding-left:1.5rem;padding-bottom:1.5rem;padding-right:1.5rem"},Y=function(){var e=(0,d.cI)({resolver:(0,p.F)(I),mode:"onChange",defaultValues:{reason:k[0].value,detailedReason:""}}),t=e.register,r=e.handleSubmit,n=e.control,i=e.reset,u=e.setValue,m=e.formState,v=m.isValid,Y=m.isSubmitting,W=m.isSubmitSuccessful;(0,s.useEffect)((function(){W&&i()}),[W,i]);var K=O(),G=K.show,J=K.close,Q=K.postId,$=K.commentId,ee=K.replyId,te=K.type,re=(0,s.useState)(!1),ne=re[0],oe=re[1],ie=function(){var e=(0,w.D)().mutation,t=function(){var t=(0,o.Z)(a().mark((function t(r){var n,o,i,s,c,l,u,d;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.postId,o=r.commentId,i=r.replyId,s=r.reason,c=r.type,t.next=3,e({url:"/ajax/post/report",body:{postId:n,replyId:i,responseId:o,reason:s,type:g(c)},mapper:function(){return null}});case 3:return l=t.sent,u=l.data,d=l.error,t.abrupt("return",{data:u,error:d});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var e=(0,o.Z)(a().mark((function e(r){var n,o,i,s,c,l,u,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.postId,o=r.commentId,i=r.replyId,s=r.reason,c=r.type,e.next=3,t({postId:n,commentId:o,replyId:i,reason:s,type:c});case 3:return l=e.sent,u=l.data,d=l.error,e.abrupt("return",{data:u,error:d});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{reportComment:r}}(),ae=ie.reportComment,se=(0,d.qo)({control:n,name:"reason"}),ce=(0,d.qo)({control:n,name:"detailedReason"}),le=Y,ue="Other"===se,de=!v||Y||ue&&!!!ce,pe=function(){le||(oe(!1),i(),J())},me=function(){var e=(0,o.Z)(a().mark((function e(t){var r,n,o,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q&&$){e.next=2;break}return e.abrupt("return",(0,y.C)("error","Something went wrong, please refresh the page"));case 2:return r=t.reason,n=t.detailedReason,o=ue&&null!==n&&void 0!==n?n:r,e.next=6,ae(x(x({postId:Q,commentId:$},ee&&{replyId:ee}),{},{type:te,reason:o}));case 6:if(i=e.sent,!(s=i.error)){e.next=12;break}return pe(),(0,y.C)("error",s.message),e.abrupt("return");case 12:oe(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,b.tZ)(c.fC,{open:G,children:(0,b.BX)(c.h_,{children:[(0,b.tZ)(c.aV,{css:Z}),(0,b.tZ)(c.VY,{onEscapeKeyDown:pe,css:S,children:ne?(0,b.BX)("div",{children:[(0,b.tZ)("div",{css:N,children:(0,b.BX)("div",{css:X,children:[(0,b.tZ)("div",{css:F,children:(0,b.tZ)(l.diB,{size:"lg"})}),(0,b.BX)("div",{css:L,children:[(0,b.tZ)(c.Dx,{css:q,children:"Thank you for submitting a report"}),(0,b.tZ)(c.dk,{css:H,children:"Our team has been notified and we will send you an update concerning the status of your report."})]})]})}),(0,b.tZ)("div",{css:V,children:(0,b.tZ)(l.zxk,{onClick:pe,size:"sm",appearance:"primary",children:"Close"})})]}):(0,b.BX)("div",{children:[(0,b.BX)("div",{css:C,children:[(0,b.tZ)(c.Dx,{asChild:!0,children:(0,b.tZ)("h2",{css:j,children:"Report this comment"})}),(0,b.tZ)(c.dk,{asChild:!0,children:(0,b.tZ)("p",{css:_,children:"Your feedback is anonymous"})})]}),(0,b.BX)("form",{onSubmit:r(me),children:[(0,b.BX)("div",{css:E,children:[(0,b.tZ)("p",{css:P,children:"Why are you reporting this?"}),(0,b.tZ)(f.fC,{value:se,onValueChange:function(e){return u("reason",e,{shouldValidate:!0})},css:D,children:k.map((function(e){var t=e.id,r=e.value,n=se===r;return(0,b.tZ)(f.ck,{id:t,css:R,value:r,children:(0,b.BX)("div",{css:T,children:[(0,b.BX)("div",{children:[!n&&(0,b.tZ)(l.Awu,{size:"md"}),(0,b.tZ)(f.z$,{css:z,children:(0,b.tZ)(l.fU8,{size:"md",solid:!0})})]}),(0,b.tZ)("label",{htmlFor:t,children:r})]})},t)}))}),ue&&(0,b.tZ)("div",{css:A,children:(0,b.tZ)(h.Z,x({autoFocus:!0,placeholder:"Describe your reason",minRows:3,disabled:le,css:B},t("detailedReason")))})]}),(0,b.BX)("div",{css:M,children:[(0,b.tZ)(l.zxk,{disabled:le,onClick:pe,size:"sm",appearance:"tertiary-slate",children:"Cancel"}),(0,b.tZ)(l.zxk,{disabled:de,size:"sm",appearance:"primary",children:"Submit"})]})]}),(0,b.tZ)(c.x8,{asChild:!0,css:U,children:(0,b.tZ)(l.hU,{disabled:le,size:"lg",Icon:l.X,onClick:pe})})]})})]})})}},25851:function(e,t,r){r.d(t,{D:function(){return k}});var n=r(50029),o=r(87794),i=r.n(o),a=r(82262),s=r(92777),c=r(10748),l=r(81531),u=r(63553),d=r(37247),p=r(90607);function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,r){return f=m()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&(0,p.Z)(o,r.prototype),o},f.apply(null,arguments)}function h(e){var t="function"===typeof Map?new Map:void 0;return h=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return f(e,arguments,(0,d.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,p.Z)(n,e)},h(e)}var y=r(59499);function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,u.Z)(this,r)}}var g=function(e){(0,l.Z)(r,e);var t=w(r);function r(e,n){var o;return(0,s.Z)(this,r),o=t.call(this,e),(0,y.Z)((0,c.Z)(o),"status",void 0),o.status=n,o}return(0,a.Z)(r)}(h(Error)),b=g,v=function(){if(!window.navigator.onLine)throw new g("Not connected to the internet, please try again",500)},x=function(){var e=(0,n.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===t||void 0===t||null===(r=t.json)||void 0===r?void 0:r.call(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=function(){var e=(0,n.Z)(i().mark((function e(t){var r,n,o,a,s,c,l,u,d,p,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,n=t.body,o=t.mapper,a=void 0===o?function(){return null}:o,s=null,c=null,e.prev=3,v(),e.next=7,fetch(r,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},credentials:"same-origin"});case 7:if((l=e.sent).ok){e.next=13;break}return e.next=11,x(l);case 11:throw u=e.sent,new b(null===u||void 0===u?void 0:u.err,l.status);case 13:return e.next=15,x(l);case 15:return d=e.sent,p=a(d),e.abrupt("return",{data:p,error:c});case 20:return e.prev=20,e.t0=e.catch(3),e.abrupt("return",{data:s,error:{status:null!==(m=e.t0.status)&&void 0!==m?m:500,message:e.t0.message||"Something went wrong, please try again later"}});case 23:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(t){return e.apply(this,arguments)}}();return{mutation:e}}},13756:function(e,t,r){r.d(t,{X:function(){return C},_:function(){return p}});var n=r(13179),o=r(2215),i=r(36808),a=r.n(i),s=r(64529),c=r(11163),l=r(42688),u=r(35944);var d=function(){return(0,u.tZ)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.tZ)("path",{d:"M15.7285 7.80346C15.0655 7.19551 13.9028 6.46802 12.1792 6.46802C9.75189 6.46802 7.69173 8.03253 6.94705 10.195C6.76346 10.753 6.65133 11.3513 6.65133 11.9692C6.65133 12.587 6.76348 13.185 6.95726 13.7431C7.69167 15.9056 9.7518 17.4703 12.1792 17.4703C13.5459 17.4703 14.5862 17.1015 15.3613 16.5734C16.5852 15.7363 17.136 14.4906 17.238 13.6634H12.1792V10.335H20.7975C20.9301 10.893 20.9913 11.4312 20.9913 12.1686C20.9913 14.8992 19.9918 17.2013 18.2579 18.7659C16.7382 20.1411 14.6575 20.9384 12.1792 20.9384C8.58904 20.9384 5.48847 18.9252 3.979 15.9954C3.3569 14.7796 3 13.4142 3 11.9692C3 10.5242 3.35698 9.15886 3.9791 7.94304C5.48857 5.01316 8.58904 3 12.1792 3C14.6576 3 16.7281 3.88695 18.3191 5.33196L15.7285 7.80346Z",fill:"white"})})},p=(0,s.Ue)((function(e){return{show:!1,open:function(){return e({show:!0})},close:function(){return e({show:!1})}}})),m={name:"1gqvvu8",styles:"position:fixed;top:0px;bottom:0px;left:0px;right:0px;z-index:50;display:flex;flex-direction:row;align-items:center;justify-content:center;--tw-bg-opacity:0.5;background-color:rgb(15 23 42 / var(--tw-bg-opacity));.dark &{--tw-bg-opacity:0.5;background-color:rgb(71 85 105 / var(--tw-bg-opacity));}"},f={name:"4qaksh",styles:"position:fixed;top:50%;left:50%;z-index:50;display:flex;width:335px;--tw-translate-x:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-translate-y:-50%;flex-direction:column;gap:1.5rem;border-radius:0.75rem;--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding-top:0px;padding-bottom:0px;:focus{outline:2px solid transparent;outline-offset:2px;}.dark &{--tw-bg-opacity:1;background-color:rgb(2 6 23 / var(--tw-bg-opacity));}@media (min-width: 640px){width:488px;}"},h={name:"79jczr",styles:"display:flex;flex-direction:column;gap:1.25rem;padding-left:1.5rem;padding-right:1.5rem;padding-top:1.75rem;padding-bottom:2.25rem;@media (min-width: 640px){padding-left:52px;padding-right:52px;}"},y={name:"zl1inp",styles:"display:flex;justify-content:center"},w={name:"bsuixd",styles:"height:2.25rem;width:2.25rem;fill:currentColor;--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(248 250 252 / var(--tw-text-opacity));}"},g={name:"1kdaoj4",styles:"display:flex;flex-direction:column;align-items:center;gap:1.5rem"},b={name:"p5tmle",styles:"display:flex;flex-direction:column;gap:0.5rem"},v={name:"16gh115",styles:'text-align:center;font-family:Suisse Intl, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-size:1.25rem;line-height:1.75rem;font-weight:600;--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(226 232 240 / var(--tw-text-opacity));}'},x={name:"1kfyyub",styles:"text-align:center;--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity));.dark &{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity));}"},k={name:"10ziyvl",styles:"display:flex;width:100%;flex-direction:column;gap:0.75rem"},O={name:"aj6rbz",styles:"display:flex;gap:0.5rem"},I={name:"f3vz0n",styles:"font-weight:500"},Z={name:"f3vz0n",styles:"font-weight:500"},S={name:"61ureo",styles:"position:absolute;right:0.75rem;top:0.75rem"},C=function(){var e=(0,c.useRouter)().asPath.split("?")[0],t=p(),r=t.show,i=t.close,s="/onboard?next=".concat(e,"&skip-onboarding=true"),C=function(){i()};return(0,u.tZ)(n.fC,{open:r,children:(0,u.BX)(n.h_,{children:[(0,u.tZ)(n.aV,{css:m,onClick:C}),(0,u.BX)(n.VY,{onEscapeKeyDown:C,css:f,children:[(0,u.BX)("div",{css:h,children:[(0,u.tZ)("div",{css:y,children:(0,u.tZ)(o.Xlt,{href:"/",target:"_blank",children:(0,u.tZ)(l.Z,{css:w})})}),(0,u.BX)("div",{css:g,children:[(0,u.BX)("div",{css:b,children:[(0,u.tZ)(n.Dx,{asChild:!0,children:(0,u.tZ)("h2",{css:v,children:"Sign in to Hashnode"})}),(0,u.tZ)(n.dk,{asChild:!0,children:(0,u.tZ)("p",{css:x,children:"Hey there, sign up or sign in to interact with the community on Hashnode"})})]}),(0,u.BX)("div",{css:k,children:[(0,u.tZ)(o.zxk,{onClick:function(t){if(window.parent===window){t.preventDefault();var r=new Date((new Date).getTime()+9e5);a().set("onboarding-skipped","true",{expires:r}),a().set("hn-next-url","".concat(e),{expires:r}),i(),window.location.href="/auth/google"}},width:"full",size:"md",appearance:"primary",children:(0,u.BX)("div",{css:O,children:[(0,u.tZ)(d,{}),(0,u.tZ)("span",{css:I,children:"Continue with Google"})]})}),(0,u.tZ)(o.zxk,{asChild:!0,width:"full",size:"md",appearance:"secondary-slate",children:(0,u.tZ)(o.Xlt,{href:s,onClick:function(){return i()},children:(0,u.tZ)("span",{css:Z,children:"More options"})})})]})]})]}),(0,u.tZ)("div",{css:S,children:(0,u.tZ)(n.x8,{asChild:!0,children:(0,u.tZ)(o.hU,{onClick:C,size:"md",Icon:o.X})})})]})]})})}},99442:function(e,t,r){r.d(t,{Xk:function(){return u},dt:function(){return p},uh:function(){return d}});var n=r(59499),o=r(27484),i=r.n(o);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e){var t;return s(s({},e),{},{partOfPublication:!0,cuid:null!==(t=e.cuid)&&void 0!==t?t:""})},l=function(e){var t,r,n,o,i,a,c,l;return s(s({},e),{},{domain:null===(t=e.domainInfo.domain)||void 0===t?void 0:t.host,domainStatus:{certIssued:null!==(r=null===(n=e.domainInfo.domain)||void 0===n?void 0:n.ready)&&void 0!==r&&r,ready:null!==(o=null===(i=e.domainInfo.domain)||void 0===i?void 0:i.ready)&&void 0!==o&&o},favicon:null!==(a=e.favicon)&&void 0!==a?a:"",urlPattern:"SIMPLE"===e.urlPattern?"simple":"",username:null!==(c=e.domainInfo.hashnodeSubdomain)&&void 0!==c?c:void 0,isHeadless:null!==(l=e.isHeadless)&&void 0!==l&&l})},u=function(e){var t,r;return s(s({},e),{},{photo:null!==(t=e.photo)&&void 0!==t?t:"",pro:{hasProAccess:null!==(r=e.isPro)&&void 0!==r&&r}})},d=function(e){return e.edges.map((function(e){var t,r=e.node,n=r.replies;return s(s({},r),{},{myTotalReactions:0,author:u(r.author),replies:n?(t=n,t.edges.map((function(e){var t=e.node;return s(s({},t),{},{myTotalReactions:0,author:u(t.author)})}))):[]})}))},p=function(e){var t,r,n,o,a,p,m,f,h,y,w,g,b;return s(s({},e),{},{bookmarkedIn:e.bookmarked?["SAVED"]:[],author:u(e.author),dateAdded:i()(e.dateAdded).toDate(),brief:null!==(t=e.brief)&&void 0!==t?t:"",coverImage:null===(r=e.coverImage)||void 0===r?void 0:r.url,readTime:null!==(n=e.readTime)&&void 0!==n?n:0,publication:l(e.publication),contributors:e.contributors.map((function(e){var t;return{_id:e._id,user:s(s({},e),{},{photo:null!==(t=e.photo)&&void 0!==t?t:""})}})),commenters:e.commenters?(b=e.commenters,b.edges.map((function(e){var t,r,n=e.node;return s(s({},n),{},{photo:null!==(t=n.photo)&&void 0!==t?t:"",pro:{hasProAccess:null!==(r=n.isPro)&&void 0!==r&&r}})}))):void 0,cuid:null!==(o=e.cuid)&&void 0!==o?o:"",isAnonymous:!1,isCoverImagePortrait:null!==(a=null===(p=e.coverImage)||void 0===p?void 0:p.isPortrait)&&void 0!==a&&a,subtitle:null!==(m=e.subtitle)&&void 0!==m?m:"",comments:e.comments?d(e.comments):void 0,tags:(null===(f=e.tags)||void 0===f?void 0:f.map((function(e){return s({},e)})))||[],url:null!==(h=e.url)&&void 0!==h?h:"",partOfPublication:!0,series:e.series?c(e.series):null,views:null!==(y=e.views)&&void 0!==y?y:0,disableComments:null!==(w=null===(g=e.preferences)||void 0===g?void 0:g.disableComments)&&void 0!==w&&w})}},25101:function(e,t,r){r.d(t,{F:function(){return o},L:function(){return n}});var n={VISIT_BLOG:"visit_blog",VIEW_ALL_COMMENTS_DISCUSSIONS_FEED:"view_all_comments_discussions_feed",DISCUSSIONS_FEED:"discussions_feed",DISCUSSIONS_PAGE:"discussions_page",DISCUSS_FEED_CARD_READERS_DISCUSSING:"discuss_feed_card_readers_discussing",DISCUSS_FEED_CARD_TOP_COMMENT:"discuss_feed_card_top_comment",DISCUSS_FEED_CARD_BUTTON:"discuss_feed_card_button",DISCUSSION_PAGE_RECENT_ARTICLES_WIDGET:"discussion_page_recent_articles_widget",DISCUSSION_PAGE_AUTHOR_WIDGET:"discussion_page_author_widget",DISCUSSION_PAGE_TOP_DISCUSSIONS_WIDGET:"discussion_page_top_discussions_widget",TOP_DISCUSSIONS_FEED_WIDGET:"top_discussions_feed_widget",TOP_COMMENTERS:{WIDGET:"top_commenters_widget",PROFILE_VIEW:"top_commenters_profile_view"},IN_THIS_DISCUSSION:{WIDGET:"in_this_discussion_widget",PROFILE_VIEW:"in_this_discussion_profile_view"}},o={COMMENT_ADDED:"comment_added",REPLY_ADDED:"reply_added",LIKE_COMMENT:"like_comment",LIKE_REPLY:"like_reply",FOLLOW_USER_OR_BLOG:"follow_user_or_blog",DISCUSSION_POST_CLICKED:"discussion_post_clicked",DISCUSSION_POST_SERIES_CLICKED:"discussion_post_series_clicked",FEED_POST_CLICKED:"feed_post_clicked",FEED_SERIES_CLICKED:"feed_series_clicked"}},22888:function(e,t,r){var n=r(67294),o=r(76362);t.Z=function(e,t){void 0===e&&(e=!0);var r=(0,n.useCallback)((function(r){if("function"!==typeof e||e())return r.preventDefault(),t&&(r.returnValue=t),t}),[e,t]);(0,n.useEffect)((function(){if(e)return(0,o.on)(window,"beforeunload",r),function(){return(0,o.S1)(window,"beforeunload",r)}}),[e,r])}},30145:function(e,t,r){var n=r(67294),o=r(76362);t.Z=function(e,t,r){if(!o.jU)return[t,function(){}];var i=(0,n.useState)((function(){try{var n=sessionStorage.getItem(e);return"string"!==typeof n?(sessionStorage.setItem(e,r?String(t):JSON.stringify(t)),t):r?n:JSON.parse(n||"null")}catch(i){return t}})),a=i[0],s=i[1];return(0,n.useEffect)((function(){try{var t=r?String(a):JSON.stringify(a);sessionStorage.setItem(e,t)}catch(i){}})),[a,s]}}}]);